"use strict";(self.webpackChunksalaDeJuegos=self.webpackChunksalaDeJuegos||[]).push([[179],{2011:(lt,Ee,R)=>{R.d(Ee,{Dh:()=>he,GT:()=>ge,cc:()=>Me,hO:()=>Ze,on:()=>U,pX:()=>X,xv:()=>le});var d=R(5e3),K=R(127),P=R(5813);lt=R.hmd(lt);const ae=["ngOnDestroy"],X=(Ce,rt,Je,Te={})=>new Proxy(Ce,{get:(_e,be)=>Je.runOutsideAngular(()=>{var qe;if(Ce[be])return(null===(qe=null==Te?void 0:Te.spy)||void 0===qe?void 0:qe.get)&&Te.spy.get(be,Ce[be]),Ce[be];if(ae.indexOf(be)>-1)return()=>{};const Ge=rt.toPromise().then(ne=>{const q=ne&&ne[be];return"function"==typeof q?q.bind(ne):q&&q.then?q.then(ie=>Je.run(()=>ie)):Je.run(()=>q)});return new Proxy(()=>{},{get:(ne,q)=>Ge[q],apply:(ne,q,ie)=>Ge.then(me=>{var se;const Oe=me&&me(...ie);return(null===(se=null==Te?void 0:Te.spy)||void 0===se?void 0:se.apply)&&Te.spy.apply(be,ie,Oe),Oe})})})}),ge=(Ce,rt)=>{rt.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(Te=>{Object.defineProperty(Ce.prototype,Te,Object.getOwnPropertyDescriptor(Je.prototype||Je,Te))})})};class re{constructor(rt){return rt}}const he=new d.OlP("angularfire2.app.options"),le=new d.OlP("angularfire2.app.name");function U(Ce,rt,Je){const _e="object"==typeof Je&&Je||{};_e.name=_e.name||"string"==typeof Je&&Je||"[DEFAULT]";const qe=K.Z.apps.filter(Ge=>Ge&&Ge.name===_e.name)[0]||rt.runOutsideAngular(()=>K.Z.initializeApp(Ce,_e));try{JSON.stringify(Ce)!==JSON.stringify(qe.options)&&j("error",`${qe.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new re(qe)}const j=(Ce,...rt)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Ce](...rt)},Q={provide:re,useFactory:U,deps:[he,d.R0b,[new d.FiY,le]]};let Ze=(()=>{class Ce{constructor(Je){K.Z.registerVersion("angularfire",P.q4.full,"core"),K.Z.registerVersion("angularfire",P.q4.full,"app-compat"),K.Z.registerVersion("angular",d.q4F.full,Je.toString())}static initializeApp(Je,Te){return{ngModule:Ce,providers:[{provide:he,useValue:Je},{provide:le,useValue:Te}]}}}return Ce.\u0275fac=function(Je){return new(Je||Ce)(d.LFG(d.Lbi))},Ce.\u0275mod=d.oAB({type:Ce}),Ce.\u0275inj=d.cJS({providers:[Q]}),Ce})();function Me(Ce,rt,Je,Te,_e){const[,be,qe]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===Ce)||[];if(be)return function ke(Ce,rt){try{return Ce.toString()===rt.toString()}catch(Je){return Ce===rt}}(_e,qe)||(fe("error",`${rt} was already initialized on the ${Je} Firebase App with different settings.${ze?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:_e,was:qe})),be;{const Ge=Te();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Ge,_e]),Ge}}const ze=!!lt.hot,fe=(Ce,...rt)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Ce](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(lt,Ee,R)=>{R.d(Ee,{q4:()=>Cc,iC:()=>Ic,HU:()=>x1,vb:()=>jl,JM:()=>so});var d=R(5e3),K=R(5867),P=R(5861),ae=R(9681),X=R(2090),ge=R(4859),re=R(1877);const he="@firebase/installations",j="w:0.5.8",Q="FIS_v2",Ce=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(E){return E instanceof X.ZR&&E.code.includes("request-failed")}function Je({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Te(E){return{token:E.token,requestStatus:2,expiresIn:ie(E.expiresIn),creationTime:Date.now()}}function _e(E,T){return be.apply(this,arguments)}function be(){return(be=(0,P.Z)(function*(E,T){const z=(yield T.json()).error;return Ce.create("request-failed",{requestName:E,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function qe({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Ge(E,{refreshToken:T}){const x=qe(E);return x.append("Authorization",function me(E){return`${Q} ${E}`}(T)),x}function ne(E){return q.apply(this,arguments)}function q(){return(q=(0,P.Z)(function*(E){const T=yield E();return T.status>=500&&T.status<600?E():T})).apply(this,arguments)}function ie(E){return Number(E.replace("s","000"))}function se(E,T){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:T},{fid:x}){const z=Je(E),Y=qe(E),ee=T.getImmediate({optional:!0});if(ee){const Et=yield ee.getHeartbeatsHeader();Et&&Y.append("x-firebase-client",Et)}const Ne={method:"POST",headers:Y,body:JSON.stringify({fid:x,authVersion:Q,appId:E.appId,sdkVersion:j})},et=yield ne(()=>fetch(z,Ne));if(et.ok){const Et=yield et.json();return{fid:Et.fid||x,registrationStatus:2,refreshToken:Et.refreshToken,authToken:Te(Et.authToken)}}throw yield _e("Create Installation",et)})).apply(this,arguments)}function ce(E){return new Promise(T=>{setTimeout(T,E)})}const Jt=/^[cdef][\w-]{21}$/;function ht(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function yt(E){return function St(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Jt.test(x)?x:""}catch(E){return""}}function ln(E){return`${E.appName}!${E.appId}`}const un=new Map;function Ei(E,T){const x=ln(E);Qt(x,T),function $t(E,T){const x=function ei(){return!sr&&"BroadcastChannel"in self&&(sr=new BroadcastChannel("[Firebase] FID Change"),sr.onmessage=E=>{Qt(E.data.key,E.data.fid)}),sr}();x&&x.postMessage({key:E,fid:T}),function Ps(){0===un.size&&sr&&(sr.close(),sr=null)}()}(x,T)}function Qt(E,T){const x=un.get(E);if(x)for(const z of x)z(T)}let sr=null;const Or="firebase-installations-store";let us=null;function ds(){return us||(us=(0,X.X3)("firebase-installations-database",1,(E,T)=>{0===T&&E.createObjectStore(Or)})),us}function ft(E,T){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,P.Z)(function*(E,T){const x=ln(E),Y=(yield ds()).transaction(Or,"readwrite"),ee=Y.objectStore(Or),Ae=yield ee.get(x);return yield ee.put(T,x),yield Y.complete,(!Ae||Ae.fid!==T.fid)&&Ei(E,T.fid),T})).apply(this,arguments)}function tr(E){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,P.Z)(function*(E){const T=ln(E),z=(yield ds()).transaction(Or,"readwrite");yield z.objectStore(Or).delete(T),yield z.complete})).apply(this,arguments)}function ti(E,T){return fo.apply(this,arguments)}function fo(){return(fo=(0,P.Z)(function*(E,T){const x=ln(E),Y=(yield ds()).transaction(Or,"readwrite"),ee=Y.objectStore(Or),Ae=yield ee.get(x),Ne=T(Ae);return void 0===Ne?yield ee.delete(x):yield ee.put(Ne,x),yield Y.complete,Ne&&(!Ae||Ae.fid!==Ne.fid)&&Ei(E,Ne.fid),Ne})).apply(this,arguments)}function vn(E){return nr.apply(this,arguments)}function nr(){return(nr=(0,P.Z)(function*(E){let T;const x=yield ti(E.appConfig,z=>{const Y=Ls(z),ee=Ea(E,Y);return T=ee.registrationPromise,ee.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function Ls(E){return Gt(E||{fid:ht(),registrationStatus:0})}function Ea(E,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ce.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},z=function Wt(E,T){return at.apply(this,arguments)}(E,x);return{installationEntry:x,registrationPromise:z}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:wt(E)}:{installationEntry:T}}function at(){return(at=(0,P.Z)(function*(E,T){try{const x=yield se(E,T);return ft(E.appConfig,x)}catch(x){throw rt(x)&&409===x.customData.serverCode?yield tr(E.appConfig):yield ft(E.appConfig,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function wt(E){return or.apply(this,arguments)}function or(){return(or=(0,P.Z)(function*(E){let T=yield Wi(E.appConfig);for(;1===T.registrationStatus;)yield ce(100),T=yield Wi(E.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:z}=yield vn(E);return z||x}return T})).apply(this,arguments)}function Wi(E){return ti(E,T=>{if(!T)throw Ce.create("installation-not-found");return Gt(T)})}function Gt(E){return function po(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function mr(E,T){return ar.apply(this,arguments)}function ar(){return(ar=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:T},x){const z=gt(E,x),Y=Ge(E,x),ee=T.getImmediate({optional:!0});if(ee){const Et=yield ee.getHeartbeatsHeader();Et&&Y.append("x-firebase-client",Et)}const Ne={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:j,appId:E.appId}})},et=yield ne(()=>fetch(z,Ne));if(et.ok)return Te(yield et.json());throw yield _e("Generate Auth Token",et)})).apply(this,arguments)}function gt(E,{fid:T}){return`${Je(E)}/${T}/authTokens:generate`}function vr(E){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,P.Z)(function*(E,T=!1){let x;const z=yield ti(E.appConfig,ee=>{if(!zt(ee))throw Ce.create("not-registered");const Ae=ee.authToken;if(!T&&B(Ae))return ee;if(1===Ae.requestStatus)return x=Qe(E,T),ee;{if(!navigator.onLine)throw Ce.create("app-offline");const Ne=G(ee);return x=mt(E,Ne),Ne}});return x?yield x:z.authToken})).apply(this,arguments)}function Qe(E,T){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,P.Z)(function*(E,T){let x=yield tt(E.appConfig);for(;1===x.authToken.requestStatus;)yield ce(100),x=yield tt(E.appConfig);const z=x.authToken;return 0===z.requestStatus?vr(E,T):z})).apply(this,arguments)}function tt(E){return ti(E,T=>{if(!zt(T))throw Ce.create("not-registered");return function ue(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function mt(E,T){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,P.Z)(function*(E,T){try{const x=yield mr(E,T),z=Object.assign(Object.assign({},T),{authToken:x});return yield ft(E.appConfig,z),x}catch(x){if(!rt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const z=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ft(E.appConfig,z)}else yield tr(E.appConfig);throw x}})).apply(this,arguments)}function zt(E){return void 0!==E&&2===E.registrationStatus}function B(E){return 2===E.requestStatus&&!function V(E){const T=Date.now();return T<E.creationTime||E.creationTime+E.expiresIn<T+36e5}(E)}function G(E){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:T})}function Be(){return(Be=(0,P.Z)(function*(E){const T=E,{installationEntry:x,registrationPromise:z}=yield vn(T);return z?z.catch(console.error):vr(T).catch(console.error),x.fid})).apply(this,arguments)}function Zt(){return(Zt=(0,P.Z)(function*(E,T=!1){const x=E;return yield _r(x),(yield vr(x,T)).token})).apply(this,arguments)}function _r(E){return qt.apply(this,arguments)}function qt(){return(qt=(0,P.Z)(function*(E){const{registrationPromise:T}=yield vn(E);T&&(yield T)})).apply(this,arguments)}function qn(E){return Ce.create("missing-app-config-values",{valueName:E})}const Ia="installations",Re=E=>{const T=E.getProvider("app").getImmediate(),x=function hs(E){if(!E||!E.options)throw qn("App Configuration");if(!E.name)throw qn("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!E.options[x])throw qn(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Pt=E=>{const T=E.getProvider("app").getImmediate(),x=(0,ae._getProvider)(T,Ia).getImmediate();return{getId:()=>function J(E){return Be.apply(this,arguments)}(x),getToken:Y=>function bt(E){return Zt.apply(this,arguments)}(x,Y)}};(function hn(){(0,ae._registerComponent)(new ge.wA(Ia,Re,"PUBLIC")),(0,ae._registerComponent)(new ge.wA("installations-internal",Pt,"PRIVATE"))})(),(0,ae.registerVersion)(he,"0.5.8"),(0,ae.registerVersion)(he,"0.5.8","esm2017");const cr="@firebase/remote-config",On=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class cu{constructor(T,x,z,Y){this.client=T,this.storage=x,this.storageCache=z,this.logger=Y}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-x,Y=z<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Y}.`),Y}fetch(T){var x=this;return(0,P.Z)(function*(){const[z,Y]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Y&&x.isCachedDataFresh(T.cacheMaxAgeMillis,z))return Y;T.eTag=Y&&Y.eTag;const ee=yield x.client.fetch(T),Ae=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&Ae.push(x.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(Ae),ee})()}}function Xo(E=navigator){return E.languages&&E.languages[0]||E.language}class u1{constructor(T,x,z,Y,ee,Ae){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=z,this.projectId=Y,this.apiKey=ee,this.appId=Ae}fetch(T){var x=this;return(0,P.Z)(function*(){const[z,Y]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ne={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},et={sdk_version:x.sdkVersion,app_instance_id:z,app_instance_id_token:Y,app_id:x.appId,language_code:Xo()},Et={method:"POST",headers:Ne,body:JSON.stringify(et)},kt=fetch(Ae,Et),Mt=new Promise((di,Oi)=>{T.signal.addEventListener(()=>{const Mo=new Error("The operation was aborted.");Mo.name="AbortError",Oi(Mo)})});let Bn;try{yield Promise.race([kt,Mt]),Bn=yield kt}catch(di){let Oi="fetch-client-network";throw"AbortError"===di.name&&(Oi="fetch-timeout"),On.create(Oi,{originalErrorMessage:di.message})}let Mn=Bn.status;const ua=Bn.headers.get("ETag")||void 0;let So,Pr;if(200===Bn.status){let di;try{di=yield Bn.json()}catch(Oi){throw On.create("fetch-client-parse",{originalErrorMessage:Oi.message})}So=di.entries,Pr=di.state}if("INSTANCE_STATE_UNSPECIFIED"===Pr?Mn=500:"NO_CHANGE"===Pr?Mn=304:("NO_TEMPLATE"===Pr||"EMPTY_CONFIG"===Pr)&&(So={}),304!==Mn&&200!==Mn)throw On.create("fetch-status",{httpStatus:Mn});return{status:Mn,eTag:ua,config:So}})()}}class ad{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,P.Z)(function*(){const z=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,z)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:z}){var Y=this;return(0,P.Z)(function*(){yield function zn(E,T){return new Promise((x,z)=>{const Y=Math.max(T-Date.now(),0),ee=setTimeout(x,Y);E.addEventListener(()=>{clearTimeout(ee),z(On.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const ee=yield Y.client.fetch(T);return yield Y.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function El(E){if(!(E instanceof X.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ee))throw ee;const Ae={throttleEndTimeMillis:Date.now()+(0,X.$s)(z),backoffCount:z+1};return yield Y.storage.setThrottleMetadata(Ae),Y.attemptFetch(T,Ae)}})()}}class Tl{constructor(T,x,z,Y,ee){this.app=T,this._client=x,this._storageCache=z,this._storage=Y,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function K1(E,T){const x=E.target.error||void 0;return On.create(T,{originalErrorMessage:x&&x.message})}const Bs="app_namespace_store";class dd{constructor(T,x,z,Y=function ud(){return new Promise((E,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=z=>{T(K1(z,"storage-open"))},x.onsuccess=z=>{E(z.target.result)},x.onupgradeneeded=z=>{0===z.oldVersion&&z.target.result.createObjectStore(Bs,{keyPath:"compositeKey"})}}catch(x){T(On.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=T,this.appName=x,this.namespace=z,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,P.Z)(function*(){const z=yield x.openDbPromise;return new Promise((Y,ee)=>{const Ne=z.transaction([Bs],"readonly").objectStore(Bs),et=x.createCompositeKey(T);try{const Et=Ne.get(et);Et.onerror=kt=>{ee(K1(kt,"storage-get"))},Et.onsuccess=kt=>{const Mt=kt.target.result;Y(Mt?Mt.value:void 0)}}catch(Et){ee(On.create("storage-get",{originalErrorMessage:Et&&Et.message}))}})})()}set(T,x){var z=this;return(0,P.Z)(function*(){const Y=yield z.openDbPromise;return new Promise((ee,Ae)=>{const et=Y.transaction([Bs],"readwrite").objectStore(Bs),Et=z.createCompositeKey(T);try{const kt=et.put({compositeKey:Et,value:x});kt.onerror=Mt=>{Ae(K1(Mt,"storage-set"))},kt.onsuccess=()=>{ee()}}catch(kt){Ae(On.create("storage-set",{originalErrorMessage:kt&&kt.message}))}})})()}delete(T){var x=this;return(0,P.Z)(function*(){const z=yield x.openDbPromise;return new Promise((Y,ee)=>{const Ne=z.transaction([Bs],"readwrite").objectStore(Bs),et=x.createCompositeKey(T);try{const Et=Ne.delete(et);Et.onerror=kt=>{ee(K1(kt,"storage-delete"))},Et.onsuccess=()=>{Y()}}catch(Et){ee(On.create("storage-delete",{originalErrorMessage:Et&&Et.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Sl{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,P.Z)(function*(){const x=T.storage.getLastFetchStatus(),z=T.storage.getLastSuccessfulFetchTimestampMillis(),Y=T.storage.getActiveConfig(),ee=yield x;ee&&(T.lastFetchStatus=ee);const Ae=yield z;Ae&&(T.lastSuccessfulFetchTimestampMillis=Ae);const Ne=yield Y;Ne&&(T.activeConfig=Ne)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function vo(){return lu.apply(this,arguments)}function lu(){return(lu=(0,P.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(E){return!1}})).apply(this,arguments)}!function ea(){(0,ae._registerComponent)(new ge.wA("remote-config",function E(T,{instanceIdentifier:x}){const z=T.getProvider("app").getImmediate(),Y=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw On.create("registration-window");if(!(0,X.hl)())throw On.create("indexed-db-unavailable");const{projectId:ee,apiKey:Ae,appId:Ne}=z.options;if(!ee)throw On.create("registration-project-id");if(!Ae)throw On.create("registration-api-key");if(!Ne)throw On.create("registration-app-id");const et=new dd(Ne,z.name,x=x||"firebase"),Et=new Sl(et),kt=new re.Yd(cr);kt.logLevel=re.in.ERROR;const Mt=new u1(Y,ae.SDK_VERSION,x,ee,Ae,Ne),Bn=new ad(Mt,et),Mn=new cu(Bn,et,Et,kt),ua=new Tl(z,Mn,Et,et,kt);return function yr(E){const T=(0,X.m9)(E);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(ua),ua},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(cr,"0.3.7"),(0,ae.registerVersion)(cr,"0.3.7","esm2017")}();const J1="/firebase-messaging-sw.js",Us="/firebase-cloud-messaging-push-scope",Yr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_o="google.c.a.c_id",Ma="google.c.a.c_l",Ml="google.c.a.ts",hd="google.c.a.e";var js=(()=>{return(E=js||(js={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",js;var E})();function ii(E){const T=new Uint8Array(E);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h1(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(x),Y=new Uint8Array(z.length);for(let ee=0;ee<z.length;++ee)Y[ee]=z.charCodeAt(ee);return Y}const f1="fcm_token_details_db",lr="fcm_token_object_Store";function uu(E){return p1.apply(this,arguments)}function p1(){return p1=(0,P.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(f1))return null;let T=null;return(yield(0,X.X3)(f1,5,function(){var z=(0,P.Z)(function*(Y,ee,Ae,Ne){var et;if(ee<2||!Y.objectStoreNames.contains(lr))return;const Et=Ne.objectStore(lr),kt=yield Et.index("fcmSenderId").get(E);if(yield Et.clear(),kt)if(2===ee){const Mt=kt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;T={token:Mt.fcmToken,createTime:null!==(et=Mt.createTime)&&void 0!==et?et:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:ii(Mt.vapidKey)}}}else if(3===ee){const Mt=kt;T={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:ii(Mt.auth),p256dh:ii(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:ii(Mt.vapidKey)}}}else if(4===ee){const Mt=kt;T={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:ii(Mt.auth),p256dh:ii(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:ii(Mt.vapidKey)}}}});return function(Y,ee,Ae,Ne){return z.apply(this,arguments)}}())).close(),yield(0,X.Lj)(f1),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),Al(T)?T:null}),p1.apply(this,arguments)}function Al(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:T}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ms="firebase-messaging-store";let Aa=null;function Q1(){return Aa||(Aa=(0,X.X3)("firebase-messaging-database",1,(E,T)=>{0===T&&E.createObjectStore(ms)})),Aa}function gn(E){return na.apply(this,arguments)}function na(){return(na=(0,P.Z)(function*(E){const T=bo(E),z=yield(yield Q1()).transaction(ms).objectStore(ms).get(T);if(z)return z;{const Y=yield uu(E.appConfig.senderId);if(Y)return yield Gs(E,Y),Y}})).apply(this,arguments)}function Gs(E,T){return on.apply(this,arguments)}function on(){return(on=(0,P.Z)(function*(E,T){const x=bo(E),Y=(yield Q1()).transaction(ms,"readwrite");return yield Y.objectStore(ms).put(T,x),yield Y.complete,T})).apply(this,arguments)}function Nl(E){return yo.apply(this,arguments)}function yo(){return(yo=(0,P.Z)(function*(E){const T=bo(E),z=(yield Q1()).transaction(ms,"readwrite");yield z.objectStore(ms).delete(T),yield z.complete})).apply(this,arguments)}function bo({appConfig:E}){return E.appId}const kn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Na(E,T){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,P.Z)(function*(E,T){const x=yield Ws(E),z=vt(T),Y={method:"POST",headers:x,body:JSON.stringify(z)};let ee;try{ee=yield(yield fetch(Zr(E.appConfig),Y)).json()}catch(Ae){throw kn.create("token-subscribe-failed",{errorInfo:Ae})}if(ee.error)throw kn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw kn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Cr(E,T){return $s.apply(this,arguments)}function $s(){return($s=(0,P.Z)(function*(E,T){const x=yield Ws(E),z=vt(T.subscriptionOptions),Y={method:"PATCH",headers:x,body:JSON.stringify(z)};let ee;try{ee=yield(yield fetch(`${Zr(E.appConfig)}/${T.token}`,Y)).json()}catch(Ae){throw kn.create("token-update-failed",{errorInfo:Ae})}if(ee.error)throw kn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw kn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function vs(E,T){return v1.apply(this,arguments)}function v1(){return(v1=(0,P.Z)(function*(E,T){const z={method:"DELETE",headers:yield Ws(E)};try{const ee=yield(yield fetch(`${Zr(E.appConfig)}/${T}`,z)).json();if(ee.error)throw kn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(Y){throw kn.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function Zr({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Ws(E){return qs.apply(this,arguments)}function qs(){return(qs=(0,P.Z)(function*({appConfig:E,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function vt({p256dh:E,auth:T,endpoint:x,vapidKey:z}){const Y={web:{endpoint:x,auth:T,p256dh:E}};return z!==Yr&&(Y.web.applicationPubKey=z),Y}const _1=6048e5;function xa(E){return y1.apply(this,arguments)}function y1(){return(y1=(0,P.Z)(function*(E){const T=yield tc(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:T.endpoint,auth:ii(T.getKey("auth")),p256dh:ii(T.getKey("p256dh"))},z=yield gn(E.firebaseDependencies);if(z){if(ra(z.subscriptionOptions,x))return Date.now()>=z.createTime+_1?X1(E,{token:z.token,createTime:Date.now(),subscriptionOptions:x}):z.token;try{yield vs(E.firebaseDependencies,z.token)}catch(Y){console.warn(Y)}return we(E.firebaseDependencies,x)}return we(E.firebaseDependencies,x)})).apply(this,arguments)}function b1(E){return C1.apply(this,arguments)}function C1(){return(C1=(0,P.Z)(function*(E){const T=yield gn(E.firebaseDependencies);T&&(yield vs(E.firebaseDependencies,T.token),yield Nl(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function X1(E,T){return ec.apply(this,arguments)}function ec(){return(ec=(0,P.Z)(function*(E,T){try{const x=yield Cr(E.firebaseDependencies,T),z=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield Gs(E.firebaseDependencies,z),x}catch(x){throw yield b1(E),x}})).apply(this,arguments)}function we(E,T){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,P.Z)(function*(E,T){const z={token:yield Na(E,T),createTime:Date.now(),subscriptionOptions:T};return yield Gs(E,z),z.token})).apply(this,arguments)}function tc(E,T){return yn.apply(this,arguments)}function yn(){return(yn=(0,P.Z)(function*(E,T){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:h1(T)})})).apply(this,arguments)}function ra(E,T){return T.vapidKey===E.vapidKey&&T.endpoint===E.endpoint&&T.auth===E.auth&&T.p256dh===E.p256dh}function ia(E){const T={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Kr(E,T){if(!T.notification)return;E.notification={};const x=T.notification.title;x&&(E.notification.title=x);const z=T.notification.body;z&&(E.notification.body=z);const Y=T.notification.image;Y&&(E.notification.image=Y)}(T,E),function nc(E,T){!T.data||(E.data=T.data)}(T,E),function rc(E,T){if(!T.fcmOptions)return;E.fcmOptions={};const x=T.fcmOptions.link;x&&(E.fcmOptions.link=x);const z=T.fcmOptions.analytics_label;z&&(E.fcmOptions.analyticsLabel=z)}(T,E),T}function xl(E){return"object"==typeof E&&!!E&&_o in E}function ic(E,T){const x=[];for(let z=0;z<E.length;z++)x.push(E.charAt(z)),z<T.length&&x.push(T.charAt(z));return x.join("")}function Ys(E){return kn.create("missing-app-config-values",{valueName:E})}ic("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ic("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ur{constructor(T,x,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function w1(E){if(!E||!E.options)throw Ys("App Configuration Object");if(!E.name)throw Ys("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const z of T)if(!x[z])throw Ys(z);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Y,installations:x,analyticsProvider:z}}_delete(){return Promise.resolve()}}function si(E){return D1.apply(this,arguments)}function D1(){return(D1=(0,P.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(J1,{scope:Us}),E.swRegistration.update().catch(()=>{})}catch(T){throw kn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Zs(E,T){return Si.apply(this,arguments)}function Si(){return(Si=(0,P.Z)(function*(E,T){if(!T&&!E.swRegistration&&(yield si(E)),T||!E.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");E.swRegistration=T}})).apply(this,arguments)}function sc(E,T){return E1.apply(this,arguments)}function E1(){return(E1=(0,P.Z)(function*(E,T){T?E.vapidKey=T:E.vapidKey||(E.vapidKey=Yr)})).apply(this,arguments)}function oc(){return(oc=(0,P.Z)(function*(E,T){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield sc(E,null==T?void 0:T.vapidKey),yield Zs(E,null==T?void 0:T.serviceWorkerRegistration),xa(E)})).apply(this,arguments)}function Oa(E,T,x){return ka.apply(this,arguments)}function ka(){return(ka=(0,P.Z)(function*(E,T,x){const z=ac(T);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:x[_o],message_name:x[Ma],message_time:x[Ml],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ac(E){switch(E){case js.NOTIFICATION_CLICKED:return"notification_open";case js.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ol(){return(Ol=(0,P.Z)(function*(E,T){const x=T.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===js.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(ia(x)):E.onMessageHandler.next(ia(x)));const z=x.data;xl(z)&&"1"===z[hd]&&(yield Oa(E,x.messageType,z))})).apply(this,arguments)}const lc="@firebase/messaging",kl=E=>{const T=new ur(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function cc(E,T){return Ol.apply(this,arguments)}(T,x)),T},wo=E=>{const T=E.getProvider("messaging").getImmediate();return{getToken:z=>function T1(E,T){return oc.apply(this,arguments)}(T,z)}};function Pl(){return Do.apply(this,arguments)}function Do(){return(Do=(0,P.Z)(function*(){try{yield(0,X.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rl(){(0,ae._registerComponent)(new ge.wA("messaging",kl,"PUBLIC")),(0,ae._registerComponent)(new ge.wA("messaging-internal",wo,"PRIVATE")),(0,ae.registerVersion)(lc,"0.9.12"),(0,ae.registerVersion)(lc,"0.9.12","esm2017")}();const dc="analytics",P0="firebase_id",Ra="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",I1="https://www.googletagmanager.com/gtag/js",Vn=new re.Yd("@firebase/analytics");function Ll(E){return Promise.all(E.map(T=>T.catch(x=>x)))}function fd(E,T){const x=document.createElement("script");x.src=`${I1}?l=${E}&id=${T}`,x.async=!0,document.head.appendChild(x)}function sa(E,T,x,z,Y,ee){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,P.Z)(function*(E,T,x,z,Y,ee){const Ae=z[Y];try{if(Ae)yield T[Ae];else{const et=(yield Ll(x)).find(Et=>Et.measurementId===Y);et&&(yield T[et.appId])}}catch(Ne){Vn.error(Ne)}E("config",Y,ee)})).apply(this,arguments)}function fc(E,T,x,z,Y){return bs.apply(this,arguments)}function bs(){return(bs=(0,P.Z)(function*(E,T,x,z,Y){try{let ee=[];if(Y&&Y.send_to){let Ae=Y.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Ne=yield Ll(x);for(const et of Ae){const Et=Ne.find(Mt=>Mt.measurementId===et),kt=Et&&T[Et.appId];if(!kt){ee=[];break}ee.push(kt)}}0===ee.length&&(ee=Object.values(T)),yield Promise.all(ee),E("event",z,Y||{})}catch(ee){Vn.error(ee)}})).apply(this,arguments)}function pd(){const E=window.document.getElementsByTagName("script");for(const T of Object.values(E))if(T.src&&T.src.includes(I1))return T;return null}const wn=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Hn=new class Pn{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function oa(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Vl(E){return fn.apply(this,arguments)}function fn(){return(fn=(0,P.Z)(function*(E){var T;const{appId:x,apiKey:z}=E,Y={method:"GET",headers:oa(z)},ee=Ra.replace("{app-id}",x),Ae=yield fetch(ee,Y);if(200!==Ae.status&&304!==Ae.status){let Ne="";try{const et=yield Ae.json();(null===(T=et.error)||void 0===T?void 0:T.message)&&(Ne=et.error.message)}catch(et){}throw wn.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Ne})}return Ae.json()})).apply(this,arguments)}function hu(E){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,P.Z)(function*(E,T=Hn,x){const{appId:z,apiKey:Y,measurementId:ee}=E.options;if(!z)throw wn.create("no-app-id");if(!Y){if(ee)return{measurementId:ee,appId:z};throw wn.create("no-api-key")}const Ae=T.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ne=new gc;return setTimeout((0,P.Z)(function*(){Ne.abort()}),void 0!==x?x:6e4),S1({appId:z,apiKey:Y,measurementId:ee},Ae,Ne,T)})).apply(this,arguments)}function S1(E,T,x){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,P.Z)(function*(E,{throttleEndTimeMillis:T,backoffCount:x},z,Y=Hn){const{appId:ee,measurementId:Ae}=E;try{yield Dt(z,T)}catch(Ne){if(Ae)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Ne.message}]`),{appId:ee,measurementId:Ae};throw Ne}try{const Ne=yield Vl(E);return Y.deleteThrottleMetadata(ee),Ne}catch(Ne){if(!Hl(Ne)){if(Y.deleteThrottleMetadata(ee),Ae)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Ne.message}]`),{appId:ee,measurementId:Ae};throw Ne}const et=503===Number(Ne.customData.httpStatus)?(0,X.$s)(x,Y.intervalMillis,30):(0,X.$s)(x,Y.intervalMillis),Et={throttleEndTimeMillis:Date.now()+et,backoffCount:x+1};return Y.setThrottleMetadata(ee,Et),Vn.debug(`Calling attemptFetch again in ${et} millis`),S1(E,Et,z,Y)}})).apply(this,arguments)}function Dt(E,T){return new Promise((x,z)=>{const Y=Math.max(T-Date.now(),0),ee=setTimeout(x,Y);E.addEventListener(()=>{clearTimeout(ee),z(wn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Hl(E){if(!(E instanceof X.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}class gc{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function mc(){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,P.Z)(function*(){if(!(0,X.hl)())return Vn.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(E){return Vn.warn(wn.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function Cs(){return(Cs=(0,P.Z)(function*(E,T,x,z,Y,ee,Ae){var Ne;const et=hu(E);et.then(Mn=>{x[Mn.measurementId]=Mn.appId,E.options.measurementId&&Mn.measurementId!==E.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mn=>Vn.error(Mn)),T.push(et);const Et=mc().then(Mn=>{if(Mn)return z.getId()}),[kt,Mt]=yield Promise.all([et,Et]);pd()||fd(ee,kt.measurementId),Y("js",new Date);const Bn=null!==(Ne=null==Ae?void 0:Ae.config)&&void 0!==Ne?Ne:{};return Bn.origin="firebase",Bn.update=!0,null!=Mt&&(Bn[P0]=Mt),Y("config",kt.measurementId,Bn),kt.measurementId})).apply(this,arguments)}class Qs{constructor(T){this.app=T}_delete(){return delete oi[this.app.options.appId],Promise.resolve()}}let oi={},Xs=[];const ai={};let eo,Zi,Yi="dataLayer",_c=!1;function Ai(E,T,x){!function ci(){const E=[];if((0,X.ru)()&&E.push("This is a browser extension environment."),(0,X.zI)()||E.push("Cookies are not available."),E.length>0){const T=E.map((z,Y)=>`(${Y+1}) ${z}`).join(" "),x=wn.create("invalid-analytics-context",{errorInfo:T});Vn.warn(x.message)}}();const z=E.options.appId;if(!z)throw wn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw wn.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oi[z])throw wn.create("already-exists",{id:z});if(!_c){!function ys(E){let T=[];Array.isArray(window[E])?T=window[E]:window[E]=T}(Yi);const{wrappedGtag:ee,gtagCore:Ae}=function zl(E,T,x,z,Y){let ee=function(...Ae){window[z].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ee=window[Y]),window[Y]=function pc(E,T,x,z){function ee(){return(ee=(0,P.Z)(function*(Ae,Ne,et){try{"event"===Ae?yield fc(E,T,x,Ne,et):"config"===Ae?yield sa(E,T,x,z,Ne,et):E("set",Ne)}catch(Et){Vn.error(Et)}})).apply(this,arguments)}return function Y(Ae,Ne,et){return ee.apply(this,arguments)}}(ee,E,T,x),{gtagCore:ee,wrappedGtag:window[Y]}}(oi,Xs,ai,Yi,"gtag");Zi=ee,eo=Ae,_c=!0}return oi[z]=function mn(E,T,x,z,Y,ee,Ae){return Cs.apply(this,arguments)}(E,Xs,ai,T,eo,Yi,x),new Qs(E)}function Pa(){return(Pa=(0,P.Z)(function*(E,T,x,z,Y){if(Y&&Y.global)E("event",x,z);else{const ee=yield T;E("event",x,Object.assign(Object.assign({},z),{send_to:ee}))}})).apply(this,arguments)}function bn(){return no.apply(this,arguments)}function no(){return(no=(0,P.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(E){return!1}})).apply(this,arguments)}const ro="@firebase/analytics";!function _d(){(0,ae._registerComponent)(new ge.wA(dc,(T,{options:x})=>Ai(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new ge.wA("analytics-internal",function E(T){try{const x=T.getProvider(dc).getImmediate();return{logEvent:(z,Y,ee)=>function vd(E,T,x,z){E=(0,X.m9)(E),function to(E,T,x,z,Y){return Pa.apply(this,arguments)}(Zi,oi[E.app.options.appId],T,x,z).catch(Y=>Vn.error(Y))}(x,z,Y,ee)}}catch(x){throw wn.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(ro,"0.7.8"),(0,ae.registerVersion)(ro,"0.7.8","esm2017")}();var io=R(4408),A1=R(7565);const yc=new class En extends A1.v{}(class ws extends io.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(T,x,z):T.flush(this)}});var yd=R(4986),bc=R(8505),Tr=R(9468),li=R(5363);const Cc=new d.GfV("7.3.0"),Ds="__angularfire_symbol__analyticsIsSupportedValue",xi="__angularfire_symbol__analyticsIsSupported",Ji="__angularfire_symbol__remoteConfigIsSupportedValue",La="__angularfire_symbol__remoteConfigIsSupported",wc="__angularfire_symbol__messagingIsSupportedValue",Dc="__angularfire_symbol__messagingIsSupported";function so(E,T,x){if(T){if(1===T.length)return T[0];const ee=T.filter(Ae=>Ae.app===x);if(1===ee.length)return ee[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[xi]||(globalThis[xi]=bn().then(E=>globalThis[Ds]=E).catch(()=>globalThis[Ds]=!1)),globalThis[Dc]||(globalThis[Dc]=Pl().then(E=>globalThis[wc]=E).catch(()=>globalThis[wc]=!1)),globalThis[La]||(globalThis[La]=vo().then(E=>globalThis[Ji]=E).catch(()=>globalThis[Ji]=!1));const jl=(E,T)=>{const x=T?[T]:(0,K.C6)(),z=[];return x.forEach(Y=>{Y.container.getProvider(E).instances.forEach(Ae=>{z.includes(Ae)||z.push(Ae)})}),z};function To(){}class N1{constructor(T,x=yc){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,z){const Y=this.zone;return this.delegate.schedule(function(Ae){Y.runGuarded(()=>{T.apply(this,[Ae])})},x,z)}}class Qi{constructor(T){this.zone=T,this.task=null}call(T,x){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",To,{},To,To)),x.pipe((0,bc.b)({next:z,complete:z,error:z})).subscribe(T).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let x1=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new N1(Zone.current)),this.insideAngular=x.run(()=>new N1(Zone.current,yd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(d.LFG(d.R0b))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Xi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Ic(E){return Xi(),function Io(E){return function(x){return(x=x.lift(new Qi(E.ngZone))).pipe((0,Tr.R)(E.outsideAngular),(0,li.Q)(E.insideAngular))}}(Xi())(E)}},2090:(lt,Ee,R)=>{R.d(Ee,{$s:()=>po,BH:()=>Me,G6:()=>ne,L:()=>le,LL:()=>St,Lj:()=>Ut,Mn:()=>qe,Sg:()=>ke,UG:()=>Ce,US:()=>re,X3:()=>mt,ZB:()=>Q,ZR:()=>ce,b$:()=>Te,d:()=>_e,eu:()=>ie,hl:()=>q,jU:()=>rt,m9:()=>gt,ne:()=>ft,pd:()=>us,r3:()=>Qt,ru:()=>Je,tV:()=>U,uI:()=>fe,vZ:()=>Ps,w1:()=>be,xO:()=>$i,xb:()=>sr,z$:()=>ze,zI:()=>me,zd:()=>Or});var d=R(5861);const X=function(B){const V=[];let G=0;for(let ue=0;ue<B.length;ue++){let J=B.charCodeAt(ue);J<128?V[G++]=J:J<2048?(V[G++]=J>>6|192,V[G++]=63&J|128):55296==(64512&J)&&ue+1<B.length&&56320==(64512&B.charCodeAt(ue+1))?(J=65536+((1023&J)<<10)+(1023&B.charCodeAt(++ue)),V[G++]=J>>18|240,V[G++]=J>>12&63|128,V[G++]=J>>6&63|128,V[G++]=63&J|128):(V[G++]=J>>12|224,V[G++]=J>>6&63|128,V[G++]=63&J|128)}return V},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,V){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let J=0;J<B.length;J+=3){const Be=B[J],bt=J+1<B.length,Zt=bt?B[J+1]:0,_r=J+2<B.length,qt=_r?B[J+2]:0;let dn=(15&Zt)<<2|qt>>6,rr=63&qt;_r||(rr=64,bt||(dn=64)),ue.push(G[Be>>2],G[(3&Be)<<4|Zt>>4],G[dn],G[rr])}return ue.join("")},encodeString(B,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(B):this.encodeByteArray(X(B),V)},decodeString(B,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(B):function(B){const V=[];let G=0,ue=0;for(;G<B.length;){const J=B[G++];if(J<128)V[ue++]=String.fromCharCode(J);else if(J>191&&J<224){const Be=B[G++];V[ue++]=String.fromCharCode((31&J)<<6|63&Be)}else if(J>239&&J<365){const _r=((7&J)<<18|(63&B[G++])<<12|(63&B[G++])<<6|63&B[G++])-65536;V[ue++]=String.fromCharCode(55296+(_r>>10)),V[ue++]=String.fromCharCode(56320+(1023&_r))}else{const Be=B[G++],bt=B[G++];V[ue++]=String.fromCharCode((15&J)<<12|(63&Be)<<6|63&bt)}}return V.join("")}(this.decodeStringToByteArray(B,V))},decodeStringToByteArray(B,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let J=0;J<B.length;){const Be=G[B.charAt(J++)],Zt=J<B.length?G[B.charAt(J)]:0;++J;const qt=J<B.length?G[B.charAt(J)]:64;++J;const Ot=J<B.length?G[B.charAt(J)]:64;if(++J,null==Be||null==Zt||null==qt||null==Ot)throw Error();ue.push(Be<<2|Zt>>4),64!==qt&&(ue.push(Zt<<4&240|qt>>2),64!==Ot&&ue.push(qt<<6&192|Ot))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},le=function(B){return function(B){const V=X(B);return re.encodeByteArray(V,!0)}(B).replace(/\./g,"")},U=function(B){try{return re.decodeString(B,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Q(B,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return V}for(const G in V)!V.hasOwnProperty(G)||!Ze(G)||(B[G]=Q(B[G],V[G]));return B}function Ze(B){return"__proto__"!==B}class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,ue)=>{G?this.reject(G):this.resolve(ue),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,ue))}}}function ke(B,V){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=V||"demo-project",J=B.iat||0,Be=B.sub||B.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:J,exp:J+3600,auth_time:J,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},B);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(bt)),""].join(".")}function ze(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function rt(){return"object"==typeof self&&self.self===self}function Je(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return ze().indexOf("Electron/")>=0}function be(){const B=ze();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function qe(){return ze().indexOf("MSAppHost/")>=0}function ne(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return"object"==typeof indexedDB}function ie(){return new Promise((B,V)=>{try{let G=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(ue);J.onsuccess=()=>{J.result.close(),G||self.indexedDB.deleteDatabase(ue),B(!0)},J.onupgradeneeded=()=>{G=!1},J.onerror=()=>{var Be;V((null===(Be=J.error)||void 0===Be?void 0:Be.message)||"")}}catch(G){V(G)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ce extends Error{constructor(V,G,ue){super(G),this.code=V,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(V,G,ue){this.service=V,this.serviceName=G,this.errors=ue}create(V,...G){const ue=G[0]||{},J=`${this.service}/${V}`,Be=this.errors[V],bt=Be?function Jt(B,V){return B.replace(xn,(G,ue)=>{const J=V[ue];return null!=J?String(J):`<${ue}?>`})}(Be,ue):"Error";return new ce(J,`${this.serviceName}: ${bt} (${J}).`,ue)}}const xn=/\{\$([^}]+)}/g;function Qt(B,V){return Object.prototype.hasOwnProperty.call(B,V)}function sr(B){for(const V in B)if(Object.prototype.hasOwnProperty.call(B,V))return!1;return!0}function Ps(B,V){if(B===V)return!0;const G=Object.keys(B),ue=Object.keys(V);for(const J of G){if(!ue.includes(J))return!1;const Be=B[J],bt=V[J];if(xr(Be)&&xr(bt)){if(!Ps(Be,bt))return!1}else if(Be!==bt)return!1}for(const J of ue)if(!G.includes(J))return!1;return!0}function xr(B){return null!==B&&"object"==typeof B}function $i(B){const V=[];for(const[G,ue]of Object.entries(B))Array.isArray(ue)?ue.forEach(J=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent(J))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(ue));return V.length?"&"+V.join("&"):""}function Or(B){const V={};return B.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[J,Be]=ue.split("=");V[decodeURIComponent(J)]=decodeURIComponent(Be)}}),V}function us(B){const V=B.indexOf("?");if(!V)return"";const G=B.indexOf("#",V);return B.substring(V,G>0?G:void 0)}function ft(B,V){const G=new Wr(B,V);return G.subscribe.bind(G)}class Wr{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(ue=>{this.error(ue)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,ue){let J;if(void 0===V&&void 0===G&&void 0===ue)throw new Error("Missing Observer.");J=function Wn(B,V){if("object"!=typeof B||null===B)return!1;for(const G of V)if(G in B&&"function"==typeof B[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:ue},void 0===J.next&&(J.next=ti),void 0===J.error&&(J.error=ti),void 0===J.complete&&(J.complete=ti);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(bt){}}),this.observers.push(J),Be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(ue){"undefined"!=typeof console&&console.error&&console.error(ue)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ti(){}function po(B,V=1e3,G=2){const ue=V*Math.pow(G,B),J=Math.round(.5*ue*(Math.random()-.5)*2);return Math.min(144e5,ue+J)}function gt(B){return B&&B._delegate?B._delegate:B}function vr(B,V){return new Promise((G,ue)=>{B.onsuccess=J=>{G(J.target.result)},B.onerror=J=>{var Be;ue(`${V}: ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}})}class Bt{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,G="readonly"){return new Qe(this._db.transaction.call(this._db,V,G))}createObjectStore(V,G){return new Ie(this._db.createObjectStore(V,G))}close(){this._db.close()}}class Qe{constructor(V){this._transaction=V,this.complete=new Promise((G,ue)=>{this._transaction.oncomplete=function(){G()},this._transaction.onerror=()=>{ue(this._transaction.error)},this._transaction.onabort=()=>{ue(this._transaction.error)}})}objectStore(V){return new Ie(this._transaction.objectStore(V))}}class Ie{constructor(V){this._store=V}index(V){return new tt(this._store.index(V))}createIndex(V,G,ue){return new tt(this._store.createIndex(V,G,ue))}get(V){return vr(this._store.get(V),"Error reading from IndexedDB")}put(V,G){return vr(this._store.put(V,G),"Error writing to IndexedDB")}delete(V){return vr(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return vr(this._store.clear(),"Error clearing IndexedDB object store")}}class tt{constructor(V){this._index=V}get(V){return vr(this._index.get(V),"Error reading from IndexedDB")}}function mt(B,V,G){return new Promise((ue,J)=>{try{const Be=indexedDB.open(B,V);Be.onsuccess=bt=>{ue(new Bt(bt.target.result))},Be.onerror=bt=>{var Zt;J(`Error opening indexedDB: ${null===(Zt=bt.target.error)||void 0===Zt?void 0:Zt.message}`)},Be.onupgradeneeded=bt=>{G(new Bt(Be.result),bt.oldVersion,bt.newVersion,new Qe(Be.transaction))}}catch(Be){J(`Error opening indexedDB: ${Be.message}`)}})}function Ut(B){return zt.apply(this,arguments)}function zt(){return(zt=(0,d.Z)(function*(B){return new Promise((V,G)=>{try{const ue=indexedDB.deleteDatabase(B);ue.onsuccess=()=>{V()},ue.onerror=J=>{var Be;G(`Error deleting indexedDB database "${B}": ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}}catch(ue){G(`Error deleting indexedDB database "${B}": ${ue.message}`)}})})).apply(this,arguments)}},1510:(lt,Ee,R)=>{var d=R(5e3);let K=null;function P(){return K}const re=new d.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function le(){return(0,d.LFG)(j)}()},providedIn:"platform"}),n})();const U=new d.OlP("Location Initialized");let j=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ze(){return new j((0,d.LFG)(re))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ze(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ce(n){const e=(0,d.LFG)(re).location;return new Je((0,d.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const rt=new d.OlP("appBaseHref");let Je=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ze(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+ze(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+ze(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(he),d.LFG(rt,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+ze(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+ze(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(he),d.LFG(rt,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ke(Ge(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ze(r))}normalize(t){return n.stripTrailingSlash(function qe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ze(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ze(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ze,n.joinWithSlash=Me,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(d.LFG(fe),d.LFG(he))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function be(){return new _e((0,d.LFG)(fe),(0,d.LFG)(he))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}let Yn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function lr(n){return"server"===n}let g1=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new m1((0,d.LFG)(re),window)}),n})();class m1{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Aa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ms(this.window.history)||ms(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ms(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Gs extends class na extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){K||(K=n)}(new Gs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Nl(){return on=on||document.querySelector("base"),on?on.getAttribute("href"):null}();return null==t?null:function bo(n){yo=yo||document.createElement("a"),yo.setAttribute("href",n);const e=yo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){on=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Qo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let yo,on=null;const br=new d.OlP("TRANSITION_ID"),Na=[{provide:d.ip1,useFactory:function kn(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[br,re,d.zs3],multi:!0}];class Ii{static init(){(0,d.VLi)(new Ii)}addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const p=function(v){u=u||v,a--,0==a&&r(u)};i.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Cr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const $s=new d.OlP("EventManagerPlugins");let vs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($s),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class v1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Zr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ws=(()=>{class n extends Zr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(qs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(qs))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function qs(n){P().remove(n)}const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_1=/%COMP%/g;function we(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?we(n,i,t):(i=i.replace(_1,n),t.push(i))}return t}function Vt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let yn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ra(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new nc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new rc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=we(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(vs),d.LFG(Ws),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ra{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(vt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=vt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=vt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Vt(r)):this.eventManager.addEventListener(e,t,Vt(r))}}class nc extends ra{constructor(e,t,r,i){super(e),this.component=r;const a=we(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function X1(n){return"_ngcontent-%COMP%".replace(_1,n)}(i+"-"+r.id),this.hostAttr=function ec(n){return"_nghost-%COMP%".replace(_1,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class rc extends ra{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=we(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const p=document.createElement("style");p.textContent=a[u],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let xl=(()=>{class n extends v1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ic=["alt","control","meta","shift"],Ys={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ur={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},si={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let D1=(()=>{class n extends v1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="";if(ic.forEach(v=>{const w=r.indexOf(v);w>-1&&(r.splice(w,1),u+=v+".")}),u+=a,0!=r.length||0===a.length)return null;const p={};return p.domEventName=i,p.fullKey=u,p}static getEventFullKey(t){let r="",i=function Zs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ur.hasOwnProperty(e)&&(e=ur[e]))}return Ys[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ic.forEach(a=>{a!=i&&si[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const oc=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Si(){Gs.makeCurrent(),Ii.init()},multi:!0},{provide:re,useFactory:function E1(){return(0,d.RDi)(document),document},deps:[]}]),Oa=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function sc(){return new d.qLn},deps:[]},{provide:$s,useClass:xl,multi:!0,deps:[re,d.R0b,d.Lbi]},{provide:$s,useClass:D1,multi:!0,deps:[re]},{provide:yn,useClass:yn,deps:[vs,Ws,d.AFp]},{provide:d.FYo,useExisting:yn},{provide:Zr,useExisting:Ws},{provide:Ws,useClass:Ws,deps:[re]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:vs,useClass:vs,deps:[$s,d.R0b]},{provide:class gn{},useClass:Cr,deps:[]}];let ka=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:br,useExisting:d.AFp},Na]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Oa,imports:[Yn,d.hGG]}),n})();"undefined"!=typeof window&&window;let bs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):d.LFG(zl),r},providedIn:"root"}),n})(),zl=(()=>{class n extends bs{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(r),(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function pc(n){return new zl(n.get(re))}(d.LFG(d.zs3)),r},providedIn:"root"}),n})();var Rn=R(8996),wn=R(3269);function _t(...n){const e=(0,wn.yG)(n);return(0,Rn.D)(n,e)}var en=R(7579);class Pn extends en.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Hn=R(8306);const{isArray:oa}=Array,{getPrototypeOf:Vl,prototype:fn,keys:hu}=Object;function Mi(n){if(1===n.length){const e=n[0];if(oa(e))return{args:e,keys:null};if(function S1(n){return n&&"object"==typeof n&&Vl(n)===fn}(e)){const t=hu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Jr=R(4671),Dt=R(4004);const{isArray:Hl}=Array;function mc(n){return(0,Dt.U)(e=>function gc(n,e){return Hl(e)?n(...e):n(e)}(n,e))}function Eo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var mn=R(5403),Cs=R(9672);function Xs(n,e,t){n?(0,Cs.f)(t,n,e):e()}var ai=R(576);function Yi(n,e){const t=(0,ai.m)(n)?n:()=>n,r=i=>i.error(t());return new Hn.y(e?i=>e.schedule(r,0,i):r)}const eo=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Zi=R(8189);function M1(...n){return function _c(){return(0,Zi.J)(1)}()((0,Rn.D)(n,(0,wn.yG)(n)))}var ci=R(8421);function Ai(n){return new Hn.y(e=>{(0,ci.Xf)(n()).subscribe(e)})}var to=R(515),Pa=R(727),ir=R(4482);function Ni(){return(0,ir.e)((n,e)=>{let t=null;n._refCount++;const r=(0,mn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Bl extends Hn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ir.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pa.w0;const t=this.getSubject();e.add(this.source.subscribe((0,mn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pa.w0.EMPTY)}return e}refCount(){return Ni()(this)}}function Dn(n,e){return(0,ir.e)((t,r)=>{let i=null,a=0,u=!1;const p=()=>u&&!i&&r.complete();t.subscribe((0,mn.x)(r,v=>{null==i||i.unsubscribe();let w=0;const I=a++;(0,ci.Xf)(n(v,I)).subscribe(i=(0,mn.x)(r,A=>r.next(e?e(v,A,I,w++):A),()=>{i=null,p()}))},()=>{u=!0,p()}))})}var Zn=R(5698);function Rr(...n){const e=(0,wn.yG)(n);return(0,ir.e)((t,r)=>{(e?M1(n,t,e):M1(n,t)).subscribe(r)})}function aa(n,e,t,r,i){return(a,u)=>{let p=t,v=e,w=0;a.subscribe((0,mn.x)(u,I=>{const A=w++;v=p?n(v,I,A):(p=!0,I),r&&u.next(v)},i&&(()=>{p&&u.next(v),u.complete()})))}}function Dr(n,e){return(0,ir.e)(aa(n,e,arguments.length>=2,!0))}function dr(n,e){return(0,ir.e)((t,r)=>{let i=0;t.subscribe((0,mn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function Ki(n){return(0,ir.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,mn.x)(t,void 0,void 0,u=>{a=(0,ci.Xf)(n(u,Ki(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var bn=R(5577);function no(n,e){return(0,ai.m)(e)?(0,bn.z)(n,e,1):(0,bn.z)(n,1)}function Ul(n){return n<=0?()=>to.E:(0,ir.e)((e,t)=>{let r=[];e.subscribe((0,mn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Sn(n=gd){return(0,ir.e)((e,t)=>{let r=!1;e.subscribe((0,mn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function gd(){return new eo}function md(n){return(0,ir.e)((e,t)=>{let r=!1;e.subscribe((0,mn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ro(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dr((i,a)=>n(i,a,r)):Jr.y,(0,Zn.q)(1),t?md(e):Sn(()=>new eo))}var Er=R(8505);class io{constructor(e,t){this.id=e,this.url=t}}class ws extends io{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class A1 extends io{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class En extends io{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yc extends io{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ca extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yd extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bc extends io{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tr extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class li extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cc{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ds{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class La{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Lt="primary";class Ec{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Kn(n){return new Ec(n)}const Tc="ngNavigationCancelingError";function so(n){const e=Error("NavigationCancelingError: "+n);return e[Tc]=!0,e}function To(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],p=n[a];if(u.startsWith(":"))i[u.substring(1)]=p;else if(u!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Qi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!x1(n[i],e[i]))return!1;return!0}function x1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Xi(n){return Array.prototype.concat.apply([],n)}function Gl(n){return n.length>0?n[n.length-1]:null}function Jn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ui(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,Rn.D)(Promise.resolve(n)):_t(n)}const Io={exact:function T(n,e,t){if(!kt(n.segments,e.segments)||!ee(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!T(n.children[r],e.children[r],t))return!1;return!0},subset:z},la={exact:function E(n,e){return Qi(n,e)},subset:function x(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>x1(n[t],e[t]))},ignored:()=>!0};function O1(n,e,t){return Io[t.paths](n.root,e.root,t.matrixParams)&&la[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function z(n,e,t){return Y(n,e,e.segments,t)}function Y(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!kt(i,t)||e.hasChildren()||!ee(i,t,r))}if(n.segments.length===t.length){if(!kt(n.segments,t)||!ee(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!z(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(kt(n.segments,i)&&ee(n.segments,i,r)&&n.children[Lt])&&Y(n.children[Lt],e,a,r)}}function ee(n,e,t){return e.every((r,i)=>la[t](n[i].parameters,r.parameters))}class Ae{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kn(this.queryParams)),this._queryParamMap}toString(){return ua.serialize(this)}}class Ne{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Jn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return So(this)}}class et{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Kn(this.parameters)),this._parameterMap}toString(){return Fa(this)}}function kt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Bn{}class Mn{parse(e){const t=new Wl(e);return new Ae(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Pr(e.root,!0)}`,r=function L0(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Oi(t)}=${Oi(i)}`).join("&"):`${Oi(t)}=${Oi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Mo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ua=new Mn;function So(n){return n.segments.map(e=>Fa(e)).join("/")}function Pr(n,e){if(!n.hasChildren())return So(n);if(e){const t=n.children[Lt]?Pr(n.children[Lt],!1):"",r=[];return Jn(n.children,(i,a)=>{a!==Lt&&r.push(`${a}:${Pr(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Mt(n,e){let t=[];return Jn(n.children,(r,i)=>{i===Lt&&(t=t.concat(e(r,i)))}),Jn(n.children,(r,i)=>{i!==Lt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Lt?[Pr(n.children[Lt],!1)]:[`${i}:${Pr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${So(n)}/${t[0]}`:`${So(n)}/(${t.join("//")})`}}function di(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oi(n){return di(n).replace(/%3B/gi,";")}function $l(n){return di(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sc(n){return decodeURIComponent(n)}function Mc(n){return Sc(n.replace(/\+/g,"%20"))}function Fa(n){return`${$l(n.path)}${function bd(n){return Object.keys(n).map(e=>`;${$l(e)}=${$l(n[e])}`).join("")}(n.parameters)}`}const F0=/^[^\/()?;=#]+/;function Es(n){const e=n.match(F0);return e?e[0]:""}const Ac=/^[^=?&#]+/,V0=/^[^&#]+/;class Wl{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Lt]=new Ne(e,t)),r}parseSegment(){const e=Es(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new et(Sc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Es(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Es(this.remaining);i&&(r=i,this.capture(r))}e[Sc(t)]=Sc(r)}parseQueryParam(e){const t=function z0(n){const e=n.match(Ac);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function Cd(n){const e=n.match(V0);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Mc(t),a=Mc(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Es(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Lt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Lt]:new Ne([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class H0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=fu(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=fu(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pu(e,this._root).map(t=>t.value)}}function fu(n,e){if(n===e.value)return e;for(const t of e.children){const r=fu(n,t);if(r)return r}return null}function pu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=pu(n,t);if(r.length)return r.unshift(e),r}return[]}class Ao{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function No(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ql extends H0{constructor(e,t){super(e),this.snapshot=t,Zl(this,e)}toString(){return this.snapshot.toString()}}function za(n,e){const t=function B0(n,e){const u=new k1([],{},{},"",{},Lt,e,null,n.root,-1,{});return new gu("",new Ao(u,[]))}(n,e),r=new Pn([new et("",{})]),i=new Pn({}),a=new Pn({}),u=new Pn({}),p=new Pn(""),v=new da(r,i,u,p,a,Lt,e,t.root);return v.snapshot=t.root,new ql(new Ao(v,[]),t)}class da{constructor(e,t,r,i,a,u,p,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=p,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>Kn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>Kn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function U0(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Yl(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class k1{constructor(e,t,r,i,a,u,p,v,w,I,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=p,this.routeConfig=v,this._urlSegment=w,this._lastPathIndex=I,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gu extends H0{constructor(e,t){super(t),this.url=e,Zl(this,t)}toString(){return Kl(this._root)}}function Zl(n,e){e.value._routerState=n,e.children.forEach(t=>Zl(n,t))}function Kl(n){const e=n.children.length>0?` { ${n.children.map(Kl).join(", ")} } `:"";return`${n.value}${e}`}function xo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Qi(e.params,t.params)||n.params.next(t.params),function N1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Qi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function mu(n,e){const t=Qi(n.params,e.params)&&function Et(n,e){return kt(n,e)&&n.every((t,r)=>Qi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||mu(n.parent,e.parent))}function Nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function vu(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Nc(n,r,i);return Nc(n,r)})}(n,e,t);return new Ao(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(p=>Nc(n,p)),u}}const r=function G0(n){return new da(new Pn(n.url),new Pn(n.params),new Pn(n.queryParams),new Pn(n.fragment),new Pn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Nc(n,a));return new Ao(r,i)}}function Oo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Va(n){return"object"==typeof n&&null!=n&&n.outlets}function _u(n,e,t,r,i){let a={};if(r&&Jn(r,(p,v)=>{a[v]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),n===e)return new Ae(t,a,i);const u=Jl(n,e,t);return new Ae(u,a,i)}function Jl(n,e,t){const r={};return Jn(n.children,(i,a)=>{r[a]=i===e?t:Jl(i,e,t)}),new Ne(n.segments,r)}class wd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Oo(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Va);if(i&&i!==Gl(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ql{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function q0(n,e,t){if(n||(n=new Ne([],{})),0===n.segments.length&&n.hasChildren())return oo(n,e,t);const r=function k6(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],p=t[r];if(Va(p))break;const v=`${p}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&w&&"object"==typeof w&&void 0===w.outlets){if(!ki(v,w,u))return a;r+=2}else{if(!ki(v,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Ne(n.segments.slice(0,r.pathIndex),{});return a.children[Lt]=new Ne(n.segments.slice(r.pathIndex),n.children),oo(a,0,i)}return r.match&&0===i.length?new Ne(n.segments,{}):r.match&&!n.hasChildren()?yu(n,e,t):r.match?oo(n,0,i):yu(n,e,t)}function oo(n,e,t){if(0===t.length)return new Ne(n.segments,{});{const r=function W0(n){return Va(n[0])?n[0].outlets:{[Lt]:n}}(t),i={};return Jn(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=q0(n.children[u],e,a))}),Jn(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new Ne(n.segments,i)}}function yu(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Va(a)){const v=Ha(a.outlets);return new Ne(r,v)}if(0===i&&Oo(t[0])){r.push(new et(n.segments[e].path,bu(t[0]))),i++;continue}const u=Va(a)?a.outlets[Lt]:`${a}`,p=i<t.length-1?t[i+1]:null;u&&p&&Oo(p)?(r.push(new et(u,bu(p))),i+=2):(r.push(new et(u,{})),i++)}return new Ne(r,{})}function Ha(n){const e={};return Jn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=yu(new Ne([],{}),0,t))}),e}function bu(n){const e={};return Jn(n,(t,r)=>e[r]=`${t}`),e}function ki(n,e,t){return n==t.path&&Qi(e,t.parameters)}class Td{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),xo(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=No(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),Jn(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=No(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=No(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=No(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new wc(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Ji(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(xo(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(p.contexts),u.attachRef=p.componentRef,u.route=p.route.value,u.outlet&&u.outlet.attach(p.componentRef,p.route.value),xo(p.route.value),this.activateChildRoutes(e,null,u.children)}else{const p=function Xl(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),v=p?p.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=v,u.outlet&&u.outlet.activateWith(i,v),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class e2{constructor(e,t){this.routes=e,this.module=t}}function Ba(n){return"function"==typeof n}function R1(n){return n instanceof Ae}const Oc=Symbol("INITIAL_VALUE");function ha(){return Dn(n=>function Qs(...n){const e=(0,wn.yG)(n),t=(0,wn.jO)(n),{args:r,keys:i}=Mi(n);if(0===r.length)return(0,Rn.D)([],e);const a=new Hn.y(function oi(n,e,t=Jr.y){return r=>{Xs(e,()=>{const{length:i}=n,a=new Array(i);let u=i,p=i;for(let v=0;v<i;v++)Xs(e,()=>{const w=(0,Rn.D)(n[v],e);let I=!1;w.subscribe((0,mn.x)(r,A=>{a[v]=A,I||(I=!0,p--),p||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>Eo(i,u):Jr.y));return t?a.pipe(mc(t)):a}(n.map(e=>e.pipe((0,Zn.q)(1),Rr(Oc)))).pipe(Dr((e,t)=>{let r=!1;return t.reduce((i,a,u)=>i!==Oc?i:(a===Oc&&(r=!0),r||!1!==a&&u!==t.length-1&&!R1(a)?i:a),e)},Oc),dr(e=>e!==Oc),(0,Dt.U)(e=>R1(e)?e:!0===e),(0,Zn.q)(1)))}class Y0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new kc,this.attachRef=null}}class kc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Y0,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Rc=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=a||Lt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,v=new Eu(t,p,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kc),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Eu{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===da?this.route:e===kc?this.childContexts:this.parent.get(e,t)}}let Tu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[Rc],encapsulation:2}),n})();function Pc(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Lc(r,Iu(e,r))}}function Lc(n,e){n.children&&Pc(n.children,e)}function Iu(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Su(n){const e=n.children&&n.children.map(Su),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=Tu),t}function Xt(n){return n.outlet||Lt}function t2(n,e){const t=n.filter(r=>Xt(r)===e);return t.push(...n.filter(r=>Xt(r)!==e)),t}const Sd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P1(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Sd):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||To)(t,n,e);if(!a)return Object.assign({},Sd);const u={};Jn(a.posParams,(v,w)=>{u[w]=v.path});const p=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:p,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Fc(n,e,t,r,i="corrected"){if(t.length>0&&function K0(n,e,t){return t.some(r=>r2(n,e,r)&&Xt(r)!==Lt)}(n,t,r)){const u=new Ne(e,function n2(n,e,t,r){const i={};i[Lt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Xt(a)!==Lt){const u=new Ne([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[Xt(a)]=u}return i}(n,e,r,new Ne(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Md(n,e,t){return t.some(r=>r2(n,e,r))}(n,t,r)){const u=new Ne(n.segments,function Z0(n,e,t,r,i,a){const u={};for(const p of r)if(r2(n,t,p)&&!i[Xt(p)]){const v=new Ne([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[Xt(p)]=v}return Object.assign(Object.assign({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new Ne(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function r2(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function J0(n,e,t,r){return!!(Xt(n)===r||r!==Lt&&r2(e,t,n))&&("**"===n.path||P1(e,n,t).matched)}function Q0(n,e,t){return 0===e.length&&!n.children[t]}class fa{constructor(e){this.segmentGroup=e||null}}class Ir{constructor(e){this.urlTree=e}}function ko(n){return Yi(new fa(n))}function zc(n){return Yi(new Ir(n))}class Au{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=Fc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ne(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Lt).pipe((0,Dt.U)(a=>this.createUrlTree(ja(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ki(a=>{if(a instanceof Ir)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof fa?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Lt).pipe((0,Dt.U)(i=>this.createUrlTree(ja(i),e.queryParams,e.fragment))).pipe(Ki(i=>{throw i instanceof fa?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ne([],{[Lt]:e}):e;return new Ae(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(a=>new Ne([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Rn.D)(i).pipe(no(a=>{const u=r.children[a],p=t2(t,a);return this.expandSegmentGroup(e,p,u,a).pipe((0,Dt.U)(v=>({segment:v,outlet:a})))}),Dr((a,u)=>(a[u.outlet]=u.segment,a),{}),function vd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dr((i,a)=>n(i,a,r)):Jr.y,Ul(1),t?md(e):Sn(()=>new eo))}())}expandSegment(e,t,r,i,a,u){return(0,Rn.D)(r).pipe(no(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,a,u).pipe(Ki(w=>{if(w instanceof fa)return _t(null);throw w}))),ro(p=>!!p),Ki((p,v)=>{if(p instanceof eo||"EmptyError"===p.name)return Q0(t,i,a)?_t(new Ne([],{})):ko(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,a,u,p){return J0(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):ko(t):ko(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zc(a):this.lineralizeSegments(r,a).pipe((0,bn.z)(u=>{const p=new Ne(u,{});return this.expandSegment(e,p,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:p,consumedSegments:v,remainingSegments:w,positionalParamSegments:I}=P1(t,i,a);if(!p)return ko(t);const A=this.applyRedirectCommands(v,i.redirectTo,I);return i.redirectTo.startsWith("/")?zc(A):this.lineralizeSegments(i,A).pipe((0,bn.z)(k=>this.expandSegment(e,t,r,k.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?_t(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Dt.U)(A=>(r._loadedConfig=A,new Ne(i,{})))):_t(new Ne(i,{}));const{matched:u,consumedSegments:p,remainingSegments:v}=P1(t,r,i);return u?this.getChildConfig(e,r,i).pipe((0,bn.z)(I=>{const A=I.module,k=I.routes,{segmentGroup:F,slicedSegments:W}=Fc(t,p,v,k),te=new Ne(F.segments,F.children);if(0===W.length&&te.hasChildren())return this.expandChildren(A,k,te).pipe((0,Dt.U)(We=>new Ne(p,We)));if(0===k.length&&0===W.length)return _t(new Ne(p,{}));const De=Xt(r)===a;return this.expandSegment(A,te,k,W,De?Lt:a,!0).pipe((0,Dt.U)(Pe=>new Ne(p.concat(Pe.segments),Pe.children)))})):ko(t)}getChildConfig(e,t,r){return t.children?_t(new e2(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?_t(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,bn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Dt.U)(a=>(t._loadedConfig=a,a))):function Lr(n){return Yi(so(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):_t(new e2([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?_t(i.map(u=>{const p=e.get(u);let v;if(function Cu(n){return n&&Ba(n.canLoad)}(p))v=p.canLoad(t,r);else{if(!Ba(p))throw new Error("Invalid CanLoad guard");v=p(t,r)}return ui(v)})).pipe(ha(),(0,Er.b)(u=>{if(!R1(u))return;const p=so(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw p.url=u,p}),(0,Dt.U)(u=>!0===u)):_t(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return _t(r);if(i.numberOfChildren>1||!i.children[Lt])return Yi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Lt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Ae(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Jn(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[a]=t[p]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return Jn(t.children,(p,v)=>{u[v]=this.createSegmentGroup(e,p,r,i)}),new Ne(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function ja(n){const e={};for(const r of Object.keys(n.children)){const a=ja(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Ri(n){if(1===n.numberOfChildren&&n.children[Lt]){const e=n.children[Lt];return new Ne(n.segments.concat(e.segments),e.children)}return n}(new Ne(n.segments,e))}class Ad{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ga{constructor(e,t){this.component=e,this.route=t}}function xu(n,e,t){const r=n._root;return hi(r,e?e._root:null,t,[r.value])}function Vc(n,e,t){const r=function X0(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function hi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=No(e);return n.children.forEach(u=>{(function xd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const v=function eh(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!kt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!kt(n.url,e.url)||!Qi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mu(n,e)||!Qi(n.queryParams,e.queryParams);default:return!mu(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new Ad(r)):(a.data=u.data,a._resolvedData=u._resolvedData),hi(n,e,a.component?p?p.children:null:t,r,i),v&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Ga(p.outlet.component,u))}else u&&$a(e,p,i),i.canActivateChecks.push(new Ad(r)),hi(n,null,a.component?p?p.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),Jn(a,(u,p)=>$a(u,t.getContext(p),i)),i}function $a(n,e,t){const r=No(n),i=n.value;Jn(r,(a,u)=>{$a(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ga(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ru{}function Pu(n){return new Hn.y(e=>e.error(n))}class Lu{constructor(e,t,r,i,a,u){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=Fc(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Lt);if(null===t)return null;const r=new k1([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ao(r,t),a=new gu(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=U0(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const u=t.children[a],p=t2(e,a),v=this.processSegmentGroup(p,u,a);if(null===v)return null;r.push(...v)}const i=kd(r);return function ih(n){n.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,r,i);if(null!==u)return u}return Q0(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!J0(e,t,r,i))return null;let a,u=[],p=[];if("**"===e.path){const F=r.length>0?Gl(r).parameters:{};a=new k1(r,F,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),Xt(e),e.component,e,f(t),m(t)+r.length,S(e))}else{const F=P1(t,e,r);if(!F.matched)return null;u=F.consumedSegments,p=F.remainingSegments,a=new k1(u,F.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),Xt(e),e.component,e,f(t),m(t)+u.length,S(e))}const v=function sh(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:I}=Fc(t,u,p,v.filter(F=>void 0===F.redirectTo),this.relativeLinkResolution);if(0===I.length&&w.hasChildren()){const F=this.processChildren(v,w);return null===F?null:[new Ao(a,F)]}if(0===v.length&&0===I.length)return[new Ao(a,[])];const A=Xt(e)===i,k=this.processSegment(v,w,I,A?Lt:i);return null===k?null:[new Ao(a,k)]}}function oh(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function kd(n){const e=[],t=new Set;for(const r of n){if(!oh(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=kd(r.children);e.push(new Ao(r.value,i))}return e.filter(r=>!t.has(r))}function f(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function m(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function b(n){return n.data||{}}function S(n){return n.resolve||{}}function nt(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ut(n){return Dn(e=>{const t=n(e);return t?(0,Rn.D)(t).pipe((0,Dt.U)(()=>e)):_t(e)})}class Bc extends class ts{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const L1=new d.OlP("ROUTES");class F1{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Dt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=a.create(e);return new e2(Xi(u.injector.get(L1,void 0,d.XFs.Self|d.XFs.Optional)).map(Su),u)}),Ki(a=>{throw t._loader$=void 0,a}));return t._loader$=new Bl(i,()=>new en.x).pipe(Ni()),t._loader$}loadModuleFactory(e){return ui(e()).pipe((0,bn.z)(t=>t instanceof d.YKP?_t(t):(0,Rn.D)(this.compiler.compileModuleAsync(t))))}}class ah{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function pa(n){throw n}function s2(n,e,t){return e.parse("/")}function o2(n,e){return _t(null)}const zu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},a2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fr=(()=>{class n{constructor(t,r,i,a,u,p,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new en.x,this.errorHandler=pa,this.malformedUriErrorHandler=s2,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:o2,afterPreactivation:o2},this.urlHandlingStrategy=new ah,this.routeReuseStrategy=new Bc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(d.h0i),this.console=u.get(d.c2e);const A=u.get(d.R0b);this.isNgZoneEnabled=A instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Ic(){return new Ae(new Ne([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new F1(u,p,k=>this.triggerEvent(new Cc(k)),k=>this.triggerEvent(new Ds(k))),this.routerState=za(this.currentUrlTree,this.rootComponentType),this.transitions=new Pn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(dr(i=>0!==i.id),(0,Dt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Dn(i=>{let a=!1,u=!1;return _t(i).pipe((0,Er.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dn(p=>{const v=this.browserUrlTree.toString(),w=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Rd(p.source)&&(this.browserUrlTree=p.extractedUrl),_t(p).pipe(Dn(A=>{const k=this.transitions.getValue();return r.next(new ws(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),k!==this.transitions.getValue()?to.E:Promise.resolve(A)}),function Nu(n,e,t,r){return Dn(i=>function Ua(n,e,t,r,i){return new Au(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Dt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Er.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function O(n,e,t,r,i){return(0,bn.z)(a=>function rh(n,e,t,r,i="emptyOnly",a="legacy"){try{const u=new Lu(n,e,t,r,i,a).recognize();return null===u?Pu(new Ru):_t(u)}catch(u){return Pu(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,Dt.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Er.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(F,A)}this.browserUrlTree=A.urlAfterRedirects}const k=new ca(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(k)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:F,source:W,restoredState:te,extras:De}=p,Ve=new ws(k,this.serializeUrl(F),W,te);r.next(Ve);const Pe=za(F,this.rootComponentType).snapshot;return _t(Object.assign(Object.assign({},p),{targetSnapshot:Pe,urlAfterRedirects:F,extras:Object.assign(Object.assign({},De),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),to.E}),ut(p=>{const{targetSnapshot:v,id:w,extractedUrl:I,rawUrl:A,extras:{skipLocationChange:k,replaceUrl:F}}=p;return this.hooks.beforePreactivation(v,{navigationId:w,appliedUrlTree:I,rawUrlTree:A,skipLocationChange:!!k,replaceUrl:!!F})}),(0,Er.b)(p=>{const v=new yd(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),(0,Dt.U)(p=>Object.assign(Object.assign({},p),{guards:xu(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function th(n,e){return(0,bn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?_t(Object.assign(Object.assign({},t),{guardsResult:!0})):function Od(n,e,t,r){return(0,Rn.D)(n).pipe((0,bn.z)(i=>function Hc(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?_t(a.map(p=>{const v=Vc(p,e,i);let w;if(function R6(n){return n&&Ba(n.canDeactivate)}(v))w=ui(v.canDeactivate(n,e,t,r));else{if(!Ba(v))throw new Error("Invalid CanDeactivate guard");w=ui(v(n,e,t,r))}return w.pipe(ro())})).pipe(ha()):_t(!0)}(i.component,i.route,t,e,r)),ro(i=>!0!==i,!0))}(u,r,i,n).pipe((0,bn.z)(p=>p&&function Id(n){return"boolean"==typeof n}(p)?function Sr(n,e,t,r){return(0,Rn.D)(e).pipe(no(i=>M1(function ku(n,e){return null!==n&&e&&e(new xi(n)),_t(!0)}(i.route.parent,r),function Ou(n,e){return null!==n&&e&&e(new La(n)),_t(!0)}(i.route,r),function Ro(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function Nd(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Ai(()=>_t(u.guards.map(v=>{const w=Vc(v,u.node,t);let I;if(function Du(n){return n&&Ba(n.canActivateChild)}(w))I=ui(w.canActivateChild(r,n));else{if(!Ba(w))throw new Error("Invalid CanActivateChild guard");I=ui(w(r,n))}return I.pipe(ro())})).pipe(ha())));return _t(a).pipe(ha())}(n,i.path,t),function nh(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return _t(!0);const i=r.map(a=>Ai(()=>{const u=Vc(a,e,t);let p;if(function wu(n){return n&&Ba(n.canActivate)}(u))p=ui(u.canActivate(e,n));else{if(!Ba(u))throw new Error("Invalid CanActivate guard");p=ui(u(e,n))}return p.pipe(ro())}));return _t(i).pipe(ha())}(n,i.route,t))),ro(i=>!0!==i,!0))}(r,a,n,e):_t(p)),(0,Dt.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Er.b)(p=>{if(R1(p.guardsResult)){const w=so(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw w.url=p.guardsResult,w}const v=new bc(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),dr(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),ut(p=>{if(p.guards.canActivateChecks.length)return _t(p).pipe((0,Er.b)(v=>{const w=new Tr(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),Dn(v=>{let w=!1;return _t(v).pipe(function $(n,e){return(0,bn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return _t(t);let a=0;return(0,Rn.D)(i).pipe(no(u=>function oe(n,e,t,r){return function Ue(n,e,t,r){const i=nt(n);if(0===i.length)return _t({});const a={};return(0,Rn.D)(i).pipe((0,bn.z)(u=>function Ct(n,e,t,r){const i=Vc(n,e,r);return ui(i.resolve?i.resolve(e,t):i(e,t))}(n[u],e,t,r).pipe((0,Er.b)(p=>{a[u]=p}))),Ul(1),(0,bn.z)(()=>nt(a).length===i.length?_t(a):to.E))}(n._resolve,n,e,r).pipe((0,Dt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),U0(n,t).resolve),null)))}(u.route,r,n,e)),(0,Er.b)(()=>a++),Ul(1),(0,bn.z)(u=>a===i.length?_t(t):to.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Er.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Er.b)(v=>{const w=new li(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}))}),ut(p=>{const{targetSnapshot:v,id:w,extractedUrl:I,rawUrl:A,extras:{skipLocationChange:k,replaceUrl:F}}=p;return this.hooks.afterPreactivation(v,{navigationId:w,appliedUrlTree:I,rawUrlTree:A,skipLocationChange:!!k,replaceUrl:!!F})}),(0,Dt.U)(p=>{const v=function j0(n,e,t){const r=Nc(n,e._root,t?t._root:void 0);return new ql(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:v})}),(0,Er.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new Td(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Er.b)({next(){a=!0},complete(){a=!0}}),function _d(n){return(0,ir.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;a||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),Ki(p=>{if(u=!0,function jl(n){return n&&n[Tc]}(p)){const v=R1(p.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const w=new En(i.id,this.serializeUrl(i.extractedUrl),p.message);r.next(w),v?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Rd(i.source)};this.scheduleNavigation(I,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new yc(i.id,this.serializeUrl(i.extractedUrl),p);r.next(v);try{i.resolve(this.errorHandler(p))}catch(w){i.reject(w)}}return to.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},u=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(u){const v=Object.assign({},u);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(a.state=v)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Pc(t),this.config=t.map(Su),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:p,preserveFragment:v}=r,w=i||this.routerState.root,I=v?this.currentUrlTree.fragment:u;let A=null;switch(p){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),function Ts(n,e,t,r,i){if(0===t.length)return _u(e.root,e.root,e.root,r,i);const a=function Dd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wd(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return Jn(a.outlets,(v,w)=>{p[w]="string"==typeof v?v.split("/"):v}),[...i,{outlets:p}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,a]},[]);return new wd(t,e,r)}(t);if(a.toRoot())return _u(e.root,e.root,new Ne([],{}),r,i);const u=function Ed(n,e,t){if(n.isAbsolute)return new Ql(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new Ql(a,a===e.root,0)}const r=Oo(n.commands[0])?0:1;return function $0(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ql(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),p=u.processChildren?oo(u.segmentGroup,u.index,a.commands):q0(u.segmentGroup,u.index,a.commands);return _u(e.root,u.segmentGroup,p,r,i)}(w,this.currentUrlTree,t,A,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=R1(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Vu(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},zu):!1===r?Object.assign({},a2):r,R1(t))return O1(this.currentUrlTree,t,i);const a=this.parseUrl(t);return O1(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new A1(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){var p,v;if(this.disposed)return Promise.resolve(!1);let w,I,A;u?(w=u.resolve,I=u.reject,A=u.promise):A=new Promise((W,te)=>{w=W,I=te});const k=++this.navigationId;let F;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),F=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):F=0,this.setTransition({id:k,targetPageId:F,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:w,reject:I,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(W=>Promise.reject(W))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new En(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Rd(n){return"imperative"!==n}class dh{}class L6{preload(e,t){return _t(null)}}let F6=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new F1(i,r,v=>t.triggerEvent(new Cc(v)),v=>t.triggerEvent(new Ds(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(dr(t=>t instanceof A1),no(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,Rn.D)(i).pipe((0,Zi.J)(),(0,Dt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?_t(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,bn.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Fr),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(dh))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Pd=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ws?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof A1&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Dc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Dc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Is=new d.OlP("ROUTER_CONFIGURATION"),fh=new d.OlP("ROUTER_FORROOT_GUARD"),z6=[_e,{provide:Bn,useClass:Mn},{provide:Fr,useFactory:function gh(n,e,t,r,i,a,u={},p,v){const w=new Fr(null,n,e,t,r,i,Xi(a));return p&&(w.urlHandlingStrategy=p),v&&(w.routeReuseStrategy=v),function B6(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,w),u.enableTracing&&w.events.subscribe(I=>{var A,k;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(k=console.groupEnd)||void 0===k||k.call(console)}),w},deps:[Bn,kc,_e,d.zs3,d.Sil,L1,Is,[class Fu{},new d.FiY],[class An{},new d.FiY]]},kc,{provide:da,useFactory:function Ld(n){return n.routerState.root},deps:[Fr]},F6,L6,class hh{preload(e,t){return t().pipe(Ki(()=>_t(null)))}},{provide:Is,useValue:{enableTracing:!1}}];function Gg(){return new d.PXZ("Router",Fr)}let Hu=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[z6,ph(t),{provide:fh,useFactory:H6,deps:[[Fr,new d.FiY,new d.tp0]]},{provide:Is,useValue:r||{}},{provide:fe,useFactory:V6,deps:[he,[new d.tBr(rt),new d.FiY],Is]},{provide:Pd,useFactory:$g,deps:[Fr,g1,Is]},{provide:dh,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:L6},{provide:d.PXZ,multi:!0,useFactory:Gg},[l2,{provide:d.ip1,multi:!0,useFactory:U6,deps:[l2]},{provide:vh,useFactory:mh,deps:[l2]},{provide:d.tb,multi:!0,useExisting:vh}]]}}static forChild(t){return{ngModule:n,providers:[ph(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fh,8),d.LFG(Fr,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function $g(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Pd(n,e,t)}function V6(n,e,t={}){return t.useHash?new Te(n,e):new Je(n,e)}function H6(n){return"guarded"}function ph(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:L1,multi:!0,useValue:n}]}let l2=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new en.x}appInitializer(){return this.injector.get(U,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(p=>r=p),a=this.injector.get(Fr),u=this.injector.get(Is);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?_t(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Is),i=this.injector.get(F6),a=this.injector.get(Pd),u=this.injector.get(Fr),p=this.injector.get(d.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),a.init(),u.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function U6(n){return n.appInitializer.bind(n)}function mh(n){return n.bootstrapListener.bind(n)}const vh=new d.OlP("Router Initializer");var Wg=R(1144);const j6=["addListener","removeListener"],qg=["addEventListener","removeEventListener"],Yg=["on","off"];function fi(n,e,t,r){if((0,ai.m)(t)&&(r=t,t=void 0),r)return fi(n,e,t).pipe(mc(r));const[i,a]=function $6(n){return(0,ai.m)(n.addEventListener)&&(0,ai.m)(n.removeEventListener)}(n)?qg.map(u=>p=>n[u](e,p,t)):function G6(n){return(0,ai.m)(n.addListener)&&(0,ai.m)(n.removeListener)}(n)?j6.map(zd(n,e)):function Kw(n){return(0,ai.m)(n.on)&&(0,ai.m)(n.off)}(n)?Yg.map(zd(n,e)):[];if(!i&&(0,Wg.z)(n))return(0,bn.z)(u=>fi(u,e,t))((0,ci.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Hn.y(u=>{const p=(...v)=>u.next(1<v.length?v:v[0]);return i(p),()=>a(p)})}function zd(n,e){return t=>r=>n[t](e,r)}var yh=R(4986),W6=R(3532);const{isArray:Po}=Array;function q6(n){return 1===n.length&&Po(n[0])?n[0]:n}var Vd=R(5032);function Bu(...n){const e=(0,wn.jO)(n),t=q6(n);return t.length?new Hn.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let u=0;!r.closed&&u<t.length;u++)(0,ci.Xf)(t[u]).subscribe((0,mn.x)(r,p=>{if(i[u].push(p),i.every(v=>v.length)){const v=i.map(w=>w.shift());r.next(e?e(...v):v),i.some((w,I)=>!w.length&&a[I])&&r.complete()}},()=>{a[u]=!0,!i[u].length&&r.complete()}));return()=>{i=a=null}}):to.E}function Mr(n){return(0,ir.e)((e,t)=>{(0,ci.Xf)(n).subscribe((0,mn.x)(t,()=>t.complete(),Vd.Z)),!t.closed&&e.subscribe(t)})}function Rt(n,e){return n===e}function Bd(...n){const e=(0,wn.jO)(n);return(0,ir.e)((t,r)=>{const i=n.length,a=new Array(i);let u=n.map(()=>!1),p=!1;for(let v=0;v<i;v++)(0,ci.Xf)(n[v]).subscribe((0,mn.x)(r,w=>{a[v]=w,!p&&!u[v]&&(u[v]=!0,(p=u.every(Jr.y))&&(u=null))},Vd.Z));t.subscribe((0,mn.x)(r,v=>{if(p){const w=[v,...a];r.next(e?e(...w):w)}}))})}new Hn.y(Vd.Z);let Ud=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Pi=(()=>{class n extends Ud{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const ns=new d.OlP("NgValueAccessor"),Qw={provide:ns,useExisting:(0,d.Gpc)(()=>Uc),multi:!0},Xw=new d.OlP("CompositionEventMode");let Uc=(()=>{class n extends Ud{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function X6(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Xw,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([Qw]),d.qOj]}),n})();const zr=new d.OlP("NgValidators"),ga=new d.OlP("NgAsyncValidators");function i8(n){return null!=n}function $d(n){const e=(0,d.QGY)(n)?(0,Rn.D)(n):n;return(0,d.CqO)(e),e}function tm(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function nm(n,e){return e.map(t=>t(n))}function rm(n){return n.map(e=>function nD(n){return!n.validate}(e)?e:t=>e.validate(t))}function s8(n){return null!=n?function im(n){if(!n)return null;const e=n.filter(i8);return 0==e.length?null:function(t){return tm(nm(t,e))}}(rm(n)):null}function o8(n){return null!=n?function sm(n){if(!n)return null;const e=n.filter(i8);return 0==e.length?null:function(t){return function Qg(...n){const e=(0,wn.jO)(n),{args:t,keys:r}=Mi(n),i=new Hn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const p=new Array(u);let v=u,w=u;for(let I=0;I<u;I++){let A=!1;(0,ci.Xf)(t[I]).subscribe((0,mn.x)(a,k=>{A||(A=!0,w--),p[I]=k},()=>v--,void 0,()=>{(!v||!A)&&(w||a.next(r?Eo(r,p):p),a.complete())}))}});return e?i.pipe(mc(e)):i}(nm(t,e).map($d)).pipe((0,Dt.U)(tm))}}(rm(n)):null}function om(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Gu(n){return n?Array.isArray(n)?n:[n]:[]}function Wd(n,e){return Array.isArray(n)?n.includes(e):n===e}function Eh(n,e){const t=Gu(e);return Gu(n).forEach(i=>{Wd(t,i)||t.push(i)}),t}function qd(n,e){return Gu(e).filter(t=>!Wd(n,t))}class Th{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=s8(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=o8(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ma extends Th{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Li extends Th{get formDirective(){return null}get path(){return null}}class qa{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Yd=(()=>{class n extends qa{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ma,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})(),Ih=(()=>{class n extends qa{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Li,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[d.qOj]}),n})();function d2(n,e){Ah(n,e),e.valueAccessor.writeValue(n.value),function dm(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rs(n,e)})}(n,e),function fm(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function hm(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rs(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function u8(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ah(n,e){const t=function am(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(om(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Wa(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(om(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();qu(e._rawValidators,i),qu(e._rawAsyncValidators,i)}function rs(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const h2="VALID",t4="INVALID",f2="PENDING",p2="DISABLED";function kh(n){return(n4(n)?n.validators:n)||null}function zo(n){return Array.isArray(n)?s8(n):n||null}function Ku(n,e){return(n4(e)?e.asyncValidators:n)||null}function m8(n){return Array.isArray(n)?o8(n):n||null}function n4(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const r4=n=>n instanceof g2;function v8(n){return(n=>n instanceof y8)(n)?n.value:n.getRawValue()}function _8(n,e){const t=r4(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[e])throw new d.vHH(1001,"")}function i4(n,e){r4(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new d.vHH(1002,"")})}class Rh{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=zo(this._rawValidators),this._composedAsyncValidatorFn=m8(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===h2}get invalid(){return this.status===t4}get pending(){return this.status==f2}get disabled(){return this.status===p2}get enabled(){return this.status!==p2}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=zo(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=m8(e)}addValidators(e){this.setValidators(Eh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Eh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qd(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qd(e,this._rawAsyncValidators))}hasValidator(e){return Wd(this._rawValidators,e)}hasAsyncValidator(e){return Wd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=f2,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=p2,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=h2,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===h2||this.status===f2)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?p2:h2}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=f2,this._hasOwnPendingAsyncValidator=!0;const t=$d(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function g8(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r4(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Ph)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?p2:this.errors?t4:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(f2)?f2:this._anyControlsHaveStatus(t4)?t4:h2}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){n4(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class y8 extends Rh{constructor(e=null,t,r){super(kh(t),Ku(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),n4(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xh(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xh(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class g2 extends Rh{constructor(e,t,r){super(kh(t),Ku(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){i4(this,e),Object.keys(e).forEach(r=>{_8(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=v8(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Ph extends Rh{constructor(e,t,r){super(kh(t),Ku(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){i4(this,e),e.forEach((r,i)=>{_8(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>v8(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const _m={provide:Li,useExisting:(0,d.Gpc)(()=>$c)},Gc=(()=>Promise.resolve(null))();let $c=(()=>{class n extends Li{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new g2({},s8(t),o8(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Gc.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),d2(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Gc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Gc.then(()=>{const r=this._findContainer(t.path),i=new g2({});(function d8(n,e){Ah(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Gc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Gc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function p8(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(zr,10),d.Y36(ga,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([_m]),d.qOj]}),n})();const C8={provide:ma,useExisting:(0,d.Gpc)(()=>s4)},zh=(()=>Promise.resolve(null))();let s4=(()=>{class n extends ma{constructor(t,r,i,a,u){super(),this._changeDetectorRef=u,this.control=new y8,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Nh(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Uc?t=a:function f8(n){return Object.getPrototypeOf(n.constructor)===Pi}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Zu(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){d2(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){zh.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;zh.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?function e4(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Li,9),d.Y36(zr,10),d.Y36(ga,10),d.Y36(ns,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([C8]),d.qOj,d.TTD]}),n})(),o4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Cm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),R8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Cm]]}),n})(),P8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[R8]}),n})();Math,Math,Math;const u7=["*"],y7=["dialog"];function Qc(n){return null!=n}function Cn(n){return(n||document.body).getBoundingClientRect()}const j7={animation:!0,transitionTimerDelayMs:5},G7=()=>{},{transitionTimerDelayMs:$7}=j7,x2=new Map,vi=(n,e,t,r)=>{let i=r.context||{};const a=x2.get(e);if(a)switch(r.runningTransition){case"continue":return to.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),x2.delete(e)}const u=t(e,r.animation,i)||G7;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),_t(void 0).pipe(function LD(n){return e=>new Hn.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const p=new en.x,v=new en.x,w=p.pipe(function Jg(...n){return e=>M1(e,_t(...n))}(!0));x2.set(e,{transition$:p,complete:()=>{v.next(),v.complete()},context:i});const I=function kv(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const A=fi(e,"transitionend").pipe(Mr(w),dr(({target:F})=>F===e));(function Ch(...n){return 1===(n=q6(n)).length?(0,ci.Xf)(n[0]):new Hn.y(function Kg(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,ci.Xf)(n[r]).subscribe((0,mn.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))})(function bh(n=0,e,t=yh.P){let r=-1;return null!=e&&((0,W6.K)(e)?t=e:r=e),new Hn.y(i=>{let a=function Zg(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(I+$7).pipe(Mr(w)),A,v).pipe(Mr(w)).subscribe(()=>{x2.delete(e),n.run(()=>{u(),p.next(),p.complete()})})}),p.asObservable()};let H1=(()=>{class n{constructor(){this.animation=j7.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Yn]]}),n})(),Af=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Yn]]}),n})(),Hv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),ep=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Yn]]}),n})(),tp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();var hr=(()=>{return(n=hr||(hr={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",hr;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cp=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function xf(n){const e=Array.from(n.querySelectorAll(cp)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let k4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Yn,P8]]}),n})(),Bf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),R4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();class il{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let T_=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Zn.q)(1)).subscribe(()=>{vi(this._zone,this._el.nativeElement,(t,r)=>{r&&Cn(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return vi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(d.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),d.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class Ip{close(e){}dismiss(e){}}class Sp{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new en.x,this._dismissed=new en.x,this._hidden=new en.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,u)=>{this._resolve=a,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Mr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Mr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function xv(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():_t(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Bu(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var sl=(()=>{return(n=sl||(sl={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",sl;var n})();let Mp=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new en.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new d.vpe,this.shown=new en.x,this.hidden=new en.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Zn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},u=Bu(vi(this._zone,t,()=>t.classList.remove("show"),r),vi(this._zone,this._dialogEl.nativeElement,()=>{},r));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};Bu(vi(this._zone,this._elRef.nativeElement,(a,u)=>{u&&Cn(a),a.classList.add("show")},t),vi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{fi(t,"keydown").pipe(Mr(this._closed$),dr(i=>i.which===hr.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(sl.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;fi(this._dialogEl.nativeElement,"mousedown").pipe(Mr(this._closed$),(0,Er.b)(()=>r=!1),Dn(()=>fi(t,"mouseup").pipe(Mr(this._closed$),(0,Zn.q)(1))),dr(({target:i})=>t===i)).subscribe(()=>{r=!0}),fi(t,"click").pipe(Mr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(sl.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=xf(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&vi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(re),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&d.Gf(y7,7),2&t){let i;d.iGM(i=d.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(d.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),d.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),d.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:u7,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"div",0,1)(2,"div",2),d.Hsn(3),d.qZA()()),2&t&&d.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Ap=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:u}=i;if(t>0){const p=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${p+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=u),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Np=(()=>{class n{constructor(t,r,i,a,u,p){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=u,this._ngZone=p,this._activeWindowCmptHasChanged=new en.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new d.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=fi(e,"focusin").pipe(Mr(t),(0,Dt.U)(a=>a.target));fi(e,"keydown").pipe(Mr(t),dr(a=>a.which===hr.Tab),Bd(i)).subscribe(([a,u])=>{const[p,v]=xf(e);(u===p||u===e)&&a.shiftKey&&(v.focus(),a.preventDefault()),u===v&&!a.shiftKey&&(p.focus(),a.preventDefault())}),r&&fi(e,"click").pipe(Mr(t),Bd(i),(0,Dt.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i,a){const u=a.container instanceof HTMLElement?a.container:Qc(a.container)?this._document.querySelector(a.container):this._document.body,p=this._rendererFactory.createRenderer(null,null),v=()=>{this._modalRefs.length||(p.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())};if(!u)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const w=new Ip,I=this._getContentRef(t,a.injector||r,i,w,a);let A=!1!==a.backdrop?this._attachBackdrop(t,u):void 0,k=this._attachWindowComponent(t,u,I),F=new Sp(k,I,A,a.beforeDismiss);return this._registerModalRef(F),this._registerWindowCmpt(k),F.result.then(v,v),w.close=W=>{F.close(W)},w.dismiss=W=>{F.dismiss(W)},this._applyWindowOptions(k.instance,a),1===this._modalRefs.length&&p.addClass(this._document.body,"modal-open"),A&&A.instance&&(this._applyBackdropOptions(A.instance,a),A.changeDetectorRef.detectChanges()),k.changeDetectorRef.detectChanges(),F}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let a=t.resolveComponentFactory(T_).create(this._injector);return this._applicationRef.attachView(a.hostView),r.appendChild(a.location.nativeElement),a}_attachWindowComponent(t,r,i){let u=t.resolveComponentFactory(Mp).create(this._injector,i.nodes);return this._applicationRef.attachView(u.hostView),r.appendChild(u.location.nativeElement),u}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Qc(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Qc(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a,u){return i?i instanceof d.Rgc?this._createFromTemplateRef(i,a):function Nv(n){return"string"==typeof n}(i)?this._createFromString(i):this._createFromComponent(t,r,i,a,u):new il([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(u){r.close(u)},dismiss(u){r.dismiss(u)}});return this._applicationRef.attachView(a),new il([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new il([[r]])}_createFromComponent(t,r,i,a,u){const p=t.resolveComponentFactory(i),v=d.zs3.create({providers:[{provide:Ip,useValue:a}],parent:r}),w=p.create(v),I=w.location.nativeElement;return u.scrollable&&I.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new il([[I]],w.hostView,w)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.z2F),d.LFG(d.zs3),d.LFG(re),d.LFG(Ap),d.LFG(d.FYo),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xp=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(H1))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I_=(()=>{class n{constructor(t,r,i,a){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=a}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d._Vd),d.LFG(d.zs3),d.LFG(Np),d.LFG(xp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[I_]}),n})(),Fp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Yn]]}),n})(),Bp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Yn]]}),n})(),Yf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Yn]]}),n})(),Gp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Yn]]}),n})(),Zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Yn]]}),n})(),V_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Yn]]}),n})(),H_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Yn]]}),n})(),G_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();new d.OlP("live announcer delay",{providedIn:"root",factory:function xE(){return 100}});let Z_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Yn]]}),n})();const RE=[Z7,Af,Hv,ep,tp,k4,R4,jf,Fp,Bp,Yf,Gp,Zf,V_,H_,G_,Z_];let PE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[RE,Z7,Af,Hv,ep,tp,k4,R4,jf,Fp,Bp,Yf,Gp,Zf,V_,H_,G_,Z_]}),n})(),Yp=(()=>{class n{constructor(t){this.router=t}home(){this.router.navigate(["/home"])}quienSoy(){this.router.navigate(["/quien-soy"])}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Fr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-navbar"]],decls:17,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-danger"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarTogglerDemo01","aria-controls","navbarTogglerDemo01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarTogglerDemo01",1,"collapse","navbar-collapse"],["href","#",1,"navbar-brand"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page",1,"nav-link","active",3,"click"],[1,"nav-link",3,"click"],[1,"nav-link","disabled"]],template:function(t,r){1&t&&(d.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),d._UZ(3,"span",3),d.qZA(),d.TgZ(4,"div",4)(5,"a",5),d._uU(6,"Sala de juegos"),d.qZA(),d.TgZ(7,"ul",6)(8,"li",7)(9,"a",8),d.NdJ("click",function(){return r.home()}),d._uU(10,"Home"),d.qZA()(),d.TgZ(11,"li",7)(12,"a",9),d.NdJ("click",function(){return r.quienSoy()}),d._uU(13,"quien soy"),d.qZA()(),d.TgZ(14,"li",7)(15,"a",10),d._uU(16,"Disabled"),d.qZA()()()()()())},directives:[Bf],styles:[""]}),n})(),K_=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"app-navbar")},directives:[Yp],styles:[""]}),n})();class J_{constructor(){this.user="",this.password=""}}var ye=R(5861),Q_=R(6451),V2=R(5363),X_=R(6063);class Wo extends en.x{constructor(e=1/0,t=1/0,r=X_.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let p=0;for(let v=1;v<r.length&&r[v]<=u;v+=2)p=v;p&&r.splice(0,p+1)}}}var ey=R(3099);function V4(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,ey.B)({connector:()=>new Wo(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Zp(n,e){return(0,ai.m)(e)?Dn(()=>n,e):Dn(()=>n)}var Jf=R(9468),fr=R(5813),lo=R(2011);R(5867);var j1=R(9681),B4=R(4859),Yt=R(2090),t1=R(1877);const U4=new Map,e5={activated:!1,tokenObservers:[]},Qp={initialized:!1,enabled:!1};function Hr(n){return U4.get(n)||e5}function uo(n,e){U4.set(n,e)}function v3(){return Qp}class ly{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Yt.BH,yield function uy(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const is=new Yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dy(n){if(!Hr(n).activated)throw is.create("use-before-activation",{appName:n.name})}function s5(n,e){return o5.apply(this,arguments)}function o5(){return(o5=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:r};let u,p;try{u=yield fetch(n,a)}catch(A){throw is.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==u.status)throw is.create("fetch-status-error",{httpStatus:u.status});try{p=yield u.json()}catch(A){throw is.create("fetch-parse-error",{originalErrorMessage:A.message})}const v=p.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const w=1e3*Number(v[1]),I=Date.now();return{token:p.attestationToken,expireTimeMillis:I+w,issuedAtTimeMillis:I}})).apply(this,arguments)}function e9(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const _3="firebase-app-check-store";let H2=null;function y3(){return H2||(H2=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(is.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_3,{keyPath:"compositeKey"})}}catch(t){e(is.create("storage-open",{originalErrorMessage:t.message}))}}),H2)}function u5(){return(u5=(0,ye.Z)(function*(n,e){const r=(yield y3()).transaction(_3,"readwrite"),a=r.objectStore(_3).put({compositeKey:n,value:e});return new Promise((u,p)=>{a.onsuccess=v=>{u()},r.onerror=v=>{var w;p(is.create("storage-set",{originalErrorMessage:null===(w=v.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const B2=new t1.Yd("@firebase/app-check");function i9(n,e){return(0,Yt.hl)()?function WE(n,e){return function l5(n,e){return u5.apply(this,arguments)}(function n9(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{B2.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function W4(){return v3().enabled}function fy(){return q4.apply(this,arguments)}function q4(){return(q4=(0,ye.Z)(function*(){const n=v3();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const py={error:"UNKNOWN_ERROR"};function gy(n){return Yt.US.encodeString(JSON.stringify(n),!1)}function f5(n){return s9.apply(this,arguments)}function s9(){return(s9=(0,ye.Z)(function*(n,e=!1){const t=n.app;dy(t);const r=Hr(t);let a,i=r.token;if(!i){const v=yield r.cachedTokenPromise;v&&g5(v)&&(i=v)}if(!e&&i&&g5(i))return{token:i.token};let p,u=!1;if(W4()){r.exchangeTokenPromise||(r.exchangeTokenPromise=s5(e9(t,yield fy()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),u=!0);const v=yield r.exchangeTokenPromise;return yield i9(t,v),uo(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),u=!0),i=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?B2.warn(v.message):B2.error(v),a=v}return i?(p={token:i.token},uo(t,Object.assign(Object.assign({},r),{token:i})),yield i9(t,i)):p=KE(a),u&&my(t,p),p})).apply(this,arguments)}function p5(n,e){const t=Hr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),uo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function a9(n){const{app:e}=n,t=Hr(e);let r=t.tokenRefresher;r||(r=function ZE(n){const{app:e}=n;return new ly((0,ye.Z)(function*(){let r;if(r=Hr(e).token?yield f5(n,!0):yield f5(n),r.error)throw r.error}),()=>!0,()=>{const t=Hr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),uo(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function my(n,e){const t=Hr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function g5(n){return n.expireTimeMillis-Date.now()>0}function KE(n){return{token:gy(py),error:n}}class JE{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hr(this.app);for(const t of e)p5(this.app,t.next);return Promise.resolve()}}const ss="app-check-internal";!function ll(){(0,j1._registerComponent)(new B4.wA("app-check",n=>function vy(n,e){return new JE(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ss).initialize()})),(0,j1._registerComponent)(new B4.wA(ss,n=>function QE(n){return{getToken:e=>f5(n,e),addTokenListener:e=>function o9(n,e,t,r){const{app:i}=n,a=Hr(i),u={next:t,error:r,type:e};if(uo(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&g5(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),a9(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>a9(n))}(n,"INTERNAL",e),removeTokenListener:e=>p5(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,j1.registerVersion)("@firebase/app-check","0.5.6")}();class C3{constructor(){return(0,fr.vb)("app-check")}}"undefined"!=typeof window&&window;var nT=R(127);const rT=new d.OlP("angularfire2.auth.use-emulator"),iT=new d.OlP("angularfire2.auth.settings"),sT=new d.OlP("angularfire2.auth.tenant-id"),oT=new d.OlP("angularfire2.auth.langugage-code"),aT=new d.OlP("angularfire2.auth.use-device-language"),cT=new d.OlP("angularfire.auth.persistence"),lT=(n,e,t,r,i,a,u,p)=>(0,lo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,a&&v.useDeviceLanguage(),u)for(const[w,I]of Object.entries(u))v.settings[w]=I;return p&&v.setPersistence(p),v},[t,r,i,a,u,p]);let d9=(()=>{class n{constructor(t,r,i,a,u,p,v,w,I,A,k,F){const W=new en.x,te=_t(void 0).pipe((0,V2.Q)(u.outsideAngular),Dn(()=>a.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,820)))),(0,Dt.U)(()=>(0,lo.on)(t,a,r)),(0,Dt.U)(De=>lT(De,a,p,w,I,A,v,k)),V4({bufferSize:1,refCount:!1}));if(lr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=_t(null);else{te.pipe(ro()).subscribe();const Ve=te.pipe(Dn(He=>He.getRedirectResult().then(je=>je,()=>null)),fr.iC,V4({bufferSize:1,refCount:!1})),Pe=te.pipe(Dn(He=>new Hn.y(je=>({unsubscribe:a.runOutsideAngular(()=>He.onAuthStateChanged(Xe=>je.next(Xe),Xe=>je.error(Xe),()=>je.complete()))})))),We=te.pipe(Dn(He=>new Hn.y(je=>({unsubscribe:a.runOutsideAngular(()=>He.onIdTokenChanged(Xe=>je.next(Xe),Xe=>je.error(Xe),()=>je.complete()))}))));this.authState=Ve.pipe(Zp(Pe),(0,Jf.R)(u.outsideAngular),(0,V2.Q)(u.insideAngular)),this.user=Ve.pipe(Zp(We),(0,Jf.R)(u.outsideAngular),(0,V2.Q)(u.insideAngular)),this.idToken=this.user.pipe(Dn(He=>He?(0,Rn.D)(He.getIdToken()):_t(null))),this.idTokenResult=this.user.pipe(Dn(He=>He?(0,Rn.D)(He.getIdTokenResult()):_t(null))),this.credential=(0,Q_.T)(Ve,W,this.authState.pipe(dr(He=>!He))).pipe((0,Dt.U)(He=>(null==He?void 0:He.user)?He:null),(0,Jf.R)(u.outsideAngular),(0,V2.Q)(u.insideAngular))}return(0,lo.pX)(this,te,a,{spy:{apply:(De,Ve,Pe)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&Pe.then(We=>W.next(We))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(lo.Dh),d.LFG(lo.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(fr.HU),d.LFG(rT,8),d.LFG(iT,8),d.LFG(sT,8),d.LFG(oT,8),d.LFG(aT,8),d.LFG(cT,8),d.LFG(C3,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Sx=(()=>{class n{constructor(){nT.Z.registerVersion("angularfire",fr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[d9]}),n})(),Mx=(()=>{class n{constructor(t){this.afAuth=t,this.isLogged=!1,t.authState.subscribe(r=>this.isLogged=r)}onLogin(t){var r=this;return(0,ye.Z)(function*(){console.log(t);try{return yield r.afAuth.signInWithEmailAndPassword(t.user,t.password)}catch(i){return}})()}onRegister(t){var r=this;return(0,ye.Z)(function*(){try{return yield r.afAuth.createUserWithEmailAndPassword(t.user,t.password)}catch(i){return}})()}getCurrentUser(){return this.afAuth.currentUser}logout(){this.afAuth.signOut()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d9))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ax=(()=>{class n{constructor(t,r){this.router=t,this.authServ=r,this.user=new J_}login(){"admin@admin.com"==this.user.user&&"admin"==this.user.password&&this.router.navigate(["/home"])}register(){this.router.navigate(["/register"])}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Fr),d.Y36(Mx))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:27,vars:2,consts:[[1,"col-md-4","offset-md-4","text-center","form-signin"],["src","../../../assets/DSC_0043.jpg","alt","","width","250","height","250",1,"mb-4","rounded-circle"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],[1,"checkbox","mb-3"],["type","checkbox","value","remember-me","disabled",""],[1,"row"],[1,"col-md-6"],["type","submit",1,"w-100","btn","btn-lg","btn-danger",3,"click"],["type","submit","disabled","",1,"w-100","btn","btn-lg","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"form"),d._UZ(2,"img",1),d.TgZ(3,"h1",2),d._uU(4,"Por favor conectese"),d.qZA(),d.TgZ(5,"div",3)(6,"input",4),d.NdJ("ngModelChange",function(a){return r.user.user=a}),d.qZA(),d.TgZ(7,"label",5),d._uU(8,"Correo electronico"),d.qZA()(),d.TgZ(9,"div",3)(10,"input",6),d.NdJ("ngModelChange",function(a){return r.user.password=a}),d.qZA(),d.TgZ(11,"label",7),d._uU(12,"Contrase\xf1a"),d.qZA()(),d.TgZ(13,"div",8)(14,"label"),d._uU(15," usuario admin@admin.com | clave admin "),d.qZA()(),d.TgZ(16,"div",8)(17,"label"),d._UZ(18,"input",9),d._uU(19," Recuerdame "),d.qZA()(),d.TgZ(20,"div",10)(21,"div",11)(22,"button",12),d.NdJ("click",function(){return r.login()}),d._uU(23,"Conectarse"),d.qZA()(),d.TgZ(24,"div",11)(25,"button",13),d.NdJ("click",function(){return r.register()}),d._uU(26,"Registrarse"),d.qZA()()()()()),2&t&&(d.xp6(6),d.Q6J("ngModel",r.user.user),d.xp6(4),d.Q6J("ngModel",r.user.password))},directives:[o4,Ih,$c,Uc,Yd,s4],styles:[".form-signin[_ngcontent-%COMP%]{padding-top:15%}"]}),n})();var dT={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};function _T(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function st(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?_T(Object(t),!0).forEach(function(r){cH(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_T(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function h9(n){return(h9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function yT(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function cH(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yy(n,e){return function dH(n){if(Array.isArray(n))return n}(n)||function fH(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var u,p,r=[],i=!0,a=!1;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!e||r.length!==e);i=!0);}catch(v){a=!0,p=v}finally{try{!i&&null!=t.return&&t.return()}finally{if(a)throw p}}return r}}(n,e)||bT(n,e)||function gH(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p9(n){return function uH(n){if(Array.isArray(n))return by(n)}(n)||function hH(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||bT(n)||function pH(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bT(n,e){if(n){if("string"==typeof n)return by(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return by(n,e)}}function by(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var CT=function(){},Cy={},wT={},DT=null,ET={mark:CT,measure:CT};try{"undefined"!=typeof window&&(Cy=window),"undefined"!=typeof document&&(wT=document),"undefined"!=typeof MutationObserver&&(DT=MutationObserver),"undefined"!=typeof performance&&(ET=performance)}catch(n){}var TT=(Cy.navigator||{}).userAgent,IT=void 0===TT?"":TT,U2=Cy,Un=wT,ST=DT,g9=ET,ul=!!Un.documentElement&&!!Un.head&&"function"==typeof Un.addEventListener&&"function"==typeof Un.createElement,MT=~IT.indexOf("MSIE")||~IT.indexOf("Trident/"),dl="___FONT_AWESOME___",NT="svg-inline--fa",D3="data-fa-i2svg",Dy="data-fa-pseudo-element",Ey="data-prefix",Ty="data-icon",xT="fontawesome-i2svg",yH=["HTML","HEAD","STYLE","SCRIPT"],OT=function(){try{return!0}catch(n){return!1}}(),Iy={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},m9={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},kT={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},bH={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},CH=/fa[srltdbk\-\ ]/,RT="fa-layers-text",wH=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,DH={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},PT=[1,2,3,4,5,6,7,8,9,10],EH=PT.concat([11,12,13,14,15,16,17,18,19,20]),TH=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],IH=[].concat(p9(Object.keys(m9)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(PT.map(function(n){return"".concat(n,"x")})).concat(EH.map(function(n){return"w-".concat(n)})),LT=U2.FontAwesomeConfig||{};Un&&"function"==typeof Un.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=yy(n,2),r=e[1],i=function MH(n){return""===n||"false"!==n&&("true"===n||n)}(function SH(n){var e=Un.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(LT[r]=i)});var y5=st(st({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:NT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),LT);y5.autoReplaceSvg||(y5.observeMutations=!1);var Tt={};Object.keys(y5).forEach(function(n){Object.defineProperty(Tt,n,{enumerable:!0,set:function(t){y5[n]=t,v9.forEach(function(r){return r(Tt)})},get:function(){return y5[n]}})}),U2.FontAwesomeConfig=Tt;var v9=[],G1={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function b5(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function Z4(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function Sy(n){return n.classList?Z4(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function FT(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _9(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function My(n){return n.size!==G1.size||n.x!==G1.x||n.y!==G1.y||n.rotate!==G1.rotate||n.flipX||n.flipY}function zT(){var n="fa",e=NT,t=Tt.familyPrefix,r=Tt.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||r!==e){var a=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),p=new RegExp("\\.".concat(e),"g");i=i.replace(a,".".concat(t,"-")).replace(u,"--".concat(t,"-")).replace(p,".".concat(r))}return i}var VT=!1;function Ay(){Tt.autoAddCss&&!VT&&(function OH(n){if(n&&ul){var e=Un.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=Un.head.childNodes,r=null,i=t.length-1;i>-1;i--){var a=t[i],u=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=a)}Un.head.insertBefore(e,r)}}(zT()),VT=!0)}var zH={mixout:function(){return{dom:{css:zT,insertCss:Ay}}},hooks:function(){return{beforeDOMElementCreation:function(){Ay()},beforeI2svg:function(){Ay()}}}},hl=U2||{};hl[dl]||(hl[dl]={}),hl[dl].styles||(hl[dl].styles={}),hl[dl].hooks||(hl[dl].hooks={}),hl[dl].shims||(hl[dl].shims=[]);var n1=hl[dl],HT=[],y9=!1;function HH(n){!ul||(y9?setTimeout(n,0):HT.push(n))}function C5(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,a=void 0===i?[]:i;return"string"==typeof n?FT(n):"<".concat(e," ").concat(function RH(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(FT(n[t]),'" ')},"").trim()}(r),">").concat(a.map(C5).join(""),"</").concat(e,">")}function BT(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}ul&&((y9=(Un.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Un.readyState))||Un.addEventListener("DOMContentLoaded",function n(){Un.removeEventListener("DOMContentLoaded",n),y9=1,HT.map(function(e){return e()})}));var Ny=function(e,t,r,i){var v,w,I,a=Object.keys(e),u=a.length,p=void 0!==i?function(e,t){return function(r,i,a,u){return e.call(t,r,i,a,u)}}(t,i):t;for(void 0===r?(v=1,I=e[a[0]]):(v=0,I=r);v<u;v++)I=p(I,e[w=a[v]],w,e);return I};function xy(n){var e=function UH(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var a=n.charCodeAt(t++);56320==(64512&a)?e.push(((1023&i)<<10)+(1023&a)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function UT(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function Oy(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,a=UT(e);"function"!=typeof n1.hooks.addPack||i?n1.styles[n]=st(st({},n1.styles[n]||{}),a):n1.hooks.addPack(n,UT(e)),"fas"===n&&Oy("fa",e)}var w5=n1.styles,GH=n1.shims,$H=Object.values(kT),ky=null,jT={},GT={},$T={},WT={},qT={},WH=Object.keys(Iy);function YH(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function qH(n){return~IH.indexOf(n)}(i)?null:i}var YT=function(){var e=function(a){return Ny(w5,function(u,p,v){return u[v]=Ny(p,a,{}),u},{})};jT=e(function(i,a,u){return a[3]&&(i[a[3]]=u),a[2]&&a[2].filter(function(v){return"number"==typeof v}).forEach(function(v){i[v.toString(16)]=u}),i}),GT=e(function(i,a,u){return i[u]=u,a[2]&&a[2].filter(function(v){return"string"==typeof v}).forEach(function(v){i[v]=u}),i}),qT=e(function(i,a,u){var p=a[2];return i[u]=u,p.forEach(function(v){i[v]=u}),i});var t="far"in w5||Tt.autoFetchSvg,r=Ny(GH,function(i,a){var u=a[0],p=a[1],v=a[2];return"far"===p&&!t&&(p="fas"),"string"==typeof u&&(i.names[u]={prefix:p,iconName:v}),"number"==typeof u&&(i.unicodes[u.toString(16)]={prefix:p,iconName:v}),i},{names:{},unicodes:{}});$T=r.names,WT=r.unicodes,ky=b9(Tt.styleDefault)};function Ry(n,e){return(jT[n]||{})[e]}function K4(n,e){return(qT[n]||{})[e]}function ZT(n){return $T[n]||{prefix:null,iconName:null}}function G2(){return ky}function b9(n){return m9[n]||m9[Iy[n]]||(n in n1.styles?n:null)||null}function C9(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.skipLookups,r=void 0!==t&&t,i=null,a=n.reduce(function(u,p){var v=YH(Tt.familyPrefix,p);if(w5[p]?(p=$H.includes(p)?bH[p]:p,i=p,u.prefix=p):WH.indexOf(p)>-1?(i=p,u.prefix=b9(p)):v?u.iconName=v:p!==Tt.replacementClass&&u.rest.push(p),!r&&u.prefix&&u.iconName){var w="fa"===i?ZT(u.iconName):{},I=K4(u.prefix,u.iconName);w.prefix&&(i=null),u.iconName=w.iconName||I||u.iconName,u.prefix=w.prefix||u.prefix,"far"===u.prefix&&!w5.far&&w5.fas&&!Tt.autoFetchSvg&&(u.prefix="fas")}return u},{prefix:null,iconName:null,rest:[]});return("fa"===a.prefix||"fa"===i)&&(a.prefix=G2()||"fas"),a}(function xH(n){v9.push(n)})(function(n){ky=b9(n.styleDefault)}),YT();var JH=function(){function n(){(function oH(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function aH(n,e,t){e&&yT(n.prototype,e),t&&yT(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var u=i.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(p){t.definitions[p]=st(st({},t.definitions[p]||{}),u[p]),Oy(p,u[p]);var v=kT[p];v&&Oy(v,u[p]),YT()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(a){var u=i[a],p=u.prefix,v=u.iconName,w=u.icon,I=w[2];t[p]||(t[p]={}),I.length>0&&I.forEach(function(A){"string"==typeof A&&(t[p][A]=w)}),t[p][v]=w}),t}}]),n}(),KT=[],J4={},Q4={},QH=Object.keys(Q4);function Ly(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var a=J4[n]||[];return a.forEach(function(u){e=u.apply(null,[e].concat(r))}),e}function T3(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=J4[n]||[];i.forEach(function(a){a.apply(null,t)})}function fl(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Q4[n]?Q4[n].apply(null,e):void 0}function Fy(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||G2();if(e)return e=K4(t,e)||e,BT(JT.definitions,t,e)||BT(n1.styles,t,e)}var JT=new JH,tB={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ul?(T3("beforeI2svg",e),fl("pseudoElements2svg",e),fl("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Tt.autoReplaceSvg&&(Tt.autoReplaceSvg=!0),Tt.observeMutations=!0,HH(function(){rB({autoReplaceSvgRoot:t}),T3("watch",e)})}},qo={noAuto:function(){Tt.autoReplaceSvg=!1,Tt.observeMutations=!1,T3("noAuto")},config:Tt,dom:tB,parse:{icon:function(e){if(null===e)return null;if("object"===h9(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:K4(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=b9(e[0]);return{prefix:r,iconName:K4(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(Tt.familyPrefix,"-"))>-1||e.match(CH))){var i=C9(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||G2(),iconName:K4(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var a=G2();return{prefix:a,iconName:K4(a,e)||e}}}},library:JT,findIconDefinition:Fy,toHtml:C5},rB=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,r=void 0===t?Un:t;(Object.keys(n1.styles).length>0||Tt.autoFetchSvg)&&ul&&Tt.autoReplaceSvg&&qo.dom.i2svg({node:r})};function w9(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return C5(r)})}}),Object.defineProperty(n,"node",{get:function(){if(ul){var r=Un.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function zy(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,a=n.iconName,u=n.transform,p=n.symbol,v=n.title,w=n.maskId,I=n.titleId,A=n.extra,k=n.watchable,F=void 0!==k&&k,W=r.found?r:t,te=W.width,De=W.height,Ve="fak"===i,Pe=[Tt.replacementClass,a?"".concat(Tt.familyPrefix,"-").concat(a):""].filter(function(er){return-1===A.classes.indexOf(er)}).filter(function(er){return""!==er||!!er}).concat(A.classes).join(" "),We={children:[],attributes:st(st({},A.attributes),{},{"data-prefix":i,"data-icon":a,class:Pe,role:A.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(te," ").concat(De)})},He=Ve&&!~A.classes.indexOf("fa-fw")?{width:"".concat(te/De*16*.0625,"em")}:{};F&&(We.attributes[D3]=""),v&&(We.children.push({tag:"title",attributes:{id:We.attributes["aria-labelledby"]||"title-".concat(I||b5())},children:[v]}),delete We.attributes.title);var je=st(st({},We),{},{prefix:i,iconName:a,main:t,mask:r,maskId:w,transform:u,symbol:p,styles:st(st({},He),A.styles)}),Xe=r.found&&t.found?fl("generateAbstractMask",je)||{children:[],attributes:{}}:fl("generateAbstractIcon",je)||{children:[],attributes:{}},Ht=Xe.attributes;return je.children=Xe.children,je.attributes=Ht,p?function sB(n){var t=n.iconName,r=n.children,i=n.attributes,a=n.symbol,u=!0===a?"".concat(n.prefix,"-").concat(Tt.familyPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:st(st({},i),{},{id:u}),children:r}]}]}(je):function iB(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,a=n.styles,u=n.transform;if(My(u)&&t.found&&!r.found){var w={x:t.width/t.height/2,y:.5};i.style=_9(st(st({},a),{},{"transform-origin":"".concat(w.x+u.x/16,"em ").concat(w.y+u.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(je)}function QT(n){var e=n.content,t=n.width,r=n.height,i=n.transform,a=n.title,u=n.extra,p=n.watchable,v=void 0!==p&&p,w=st(st(st({},u.attributes),a?{title:a}:{}),{},{class:u.classes.join(" ")});v&&(w[D3]="");var I=st({},u.styles);My(i)&&(I.transform=function LH(n){var e=n.transform,t=n.width,i=n.height,a=void 0===i?16:i,u=n.startCentered,p=void 0!==u&&u,v="";return v+=p&&MT?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-a/2,"em) "):p?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(v+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:t,height:r}),I["-webkit-transform"]=I.transform);var A=_9(I);A.length>0&&(w.style=A);var k=[];return k.push({tag:"span",attributes:w,children:[e]}),a&&k.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),k}function oB(n){var e=n.content,t=n.title,r=n.extra,i=st(st(st({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),a=_9(r.styles);a.length>0&&(i.style=a);var u=[];return u.push({tag:"span",attributes:i,children:[e]}),t&&u.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),u}var Vy=n1.styles;function Hy(n){var e=n[0],t=n[1],a=yy(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(Tt.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(Tt.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(Tt.familyPrefix,"-").concat("primary"),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}var aB={found:!1,width:512,height:512};function By(n,e){var t=e;return"fa"===e&&null!==Tt.styleDefault&&(e=G2()),new Promise(function(r,i){if(fl("missingIconAbstract"),"fa"===t){var u=ZT(n)||{};n=u.iconName||n,e=u.prefix||e}if(n&&e&&Vy[e]&&Vy[e][n])return r(Hy(Vy[e][n]));(function cB(n,e){!OT&&!Tt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(st(st({},aB),{},{icon:Tt.showMissingIcons&&n&&fl("missingIconAbstract")||{}}))})}var XT=function(){},Uy=Tt.measurePerformance&&g9&&g9.mark&&g9.measure?g9:{mark:XT,measure:XT},D5='FA "6.1.1"',jy_begin=function(e){return Uy.mark("".concat(D5," ").concat(e," begins")),function(){return function(e){Uy.mark("".concat(D5," ").concat(e," ends")),Uy.measure("".concat(D5," ").concat(e),"".concat(D5," ").concat(e," begins"),"".concat(D5," ").concat(e," ends"))}(e)}},D9=function(){};function tI(n){return"string"==typeof(n.getAttribute?n.getAttribute(D3):null)}function fB(n){return Un.createElementNS("http://www.w3.org/2000/svg",n)}function pB(n){return Un.createElement(n)}function nI(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,r=void 0===t?"svg"===n.tag?fB:pB:t;if("string"==typeof n)return Un.createTextNode(n);var i=r(n.tag);Object.keys(n.attributes||[]).forEach(function(u){i.setAttribute(u,n.attributes[u])});var a=n.children||[];return a.forEach(function(u){i.appendChild(nI(u,{ceFn:r}))}),i}var E9={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(nI(i),t)}),null===t.getAttribute(D3)&&Tt.keepOriginalSource){var r=Un.createComment(function gB(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~Sy(t).indexOf(Tt.replacementClass))return E9.replace(e);var i=new RegExp("".concat(Tt.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var a=r[0].attributes.class.split(" ").reduce(function(p,v){return v===Tt.replacementClass||v.match(i)?p.toSvg.push(v):p.toNode.push(v),p},{toNode:[],toSvg:[]});r[0].attributes.class=a.toSvg.join(" "),0===a.toNode.length?t.removeAttribute("class"):t.setAttribute("class",a.toNode.join(" "))}var u=r.map(function(p){return C5(p)}).join("\n");t.setAttribute(D3,""),t.innerHTML=u}};function rI(n){n()}function iI(n,e){var t="function"==typeof e?e:D9;if(0===n.length)t();else{var r=rI;"async"===Tt.mutateApproach&&(r=U2.requestAnimationFrame||rI),r(function(){var i=function hB(){return!0===Tt.autoReplaceSvg?E9.replace:E9[Tt.autoReplaceSvg]||E9.replace}(),a=jy_begin("mutate");n.map(i),a(),t()})}}var Gy=!1;function sI(){Gy=!0}function $y(){Gy=!1}var T9=null;function oI(n){if(ST&&Tt.observeMutations){var e=n.treeCallback,t=void 0===e?D9:e,r=n.nodeCallback,i=void 0===r?D9:r,a=n.pseudoElementsCallback,u=void 0===a?D9:a,p=n.observeMutationsRoot,v=void 0===p?Un:p;T9=new ST(function(w){if(!Gy){var I=G2();Z4(w).forEach(function(A){if("childList"===A.type&&A.addedNodes.length>0&&!tI(A.addedNodes[0])&&(Tt.searchPseudoElements&&u(A.target),t(A.target)),"attributes"===A.type&&A.target.parentNode&&Tt.searchPseudoElements&&u(A.target.parentNode),"attributes"===A.type&&tI(A.target)&&~TH.indexOf(A.attributeName))if("class"===A.attributeName&&function uB(n){var e=n.getAttribute?n.getAttribute(Ey):null,t=n.getAttribute?n.getAttribute(Ty):null;return e&&t}(A.target)){var k=C9(Sy(A.target)),W=k.iconName;A.target.setAttribute(Ey,k.prefix||I),W&&A.target.setAttribute(Ty,W)}else(function dB(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Tt.replacementClass)})(A.target)&&i(A.target)})}}),ul&&T9.observe(v,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function vB(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var a=i.split(":"),u=a[0],p=a.slice(1);return u&&p.length>0&&(r[u]=p.join(":").trim()),r},{})),t}function _B(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=C9(Sy(n));return i.prefix||(i.prefix=G2()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function ZH(n,e){return(GT[n]||{})[e]}(i.prefix,n.innerText)||Ry(i.prefix,xy(n.innerText))),i}function yB(n){var e=Z4(n.attributes).reduce(function(i,a){return"class"!==i.name&&"style"!==i.name&&(i[a.name]=a.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return Tt.autoA11y&&(t?e["aria-labelledby"]="".concat(Tt.replacementClass,"-title-").concat(r||b5()):(e["aria-hidden"]="true",e.focusable="false")),e}function aI(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=_B(n),r=t.iconName,i=t.prefix,a=t.rest,u=yB(n),p=Ly("parseNodeAttributes",{},n),v=e.styleParser?vB(n):[];return st({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:G1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:v,attributes:u}},p)}var CB=n1.styles;function cI(n){var e="nest"===Tt.autoReplaceSvg?aI(n,{styleParser:!1}):aI(n);return~e.extra.classes.indexOf(RT)?fl("generateLayersText",n,e):fl("generateSvgReplacementMutation",n,e)}function lI(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!ul)return Promise.resolve();var t=Un.documentElement.classList,r=function(A){return t.add("".concat(xT,"-").concat(A))},i=function(A){return t.remove("".concat(xT,"-").concat(A))},a=Object.keys(Tt.autoFetchSvg?Iy:CB),u=[".".concat(RT,":not([").concat(D3,"])")].concat(a.map(function(I){return".".concat(I,":not([").concat(D3,"])")})).join(", ");if(0===u.length)return Promise.resolve();var p=[];try{p=Z4(n.querySelectorAll(u))}catch(I){}if(!(p.length>0))return Promise.resolve();r("pending"),i("complete");var v=jy_begin("onTree"),w=p.reduce(function(I,A){try{var k=cI(A);k&&I.push(k)}catch(F){OT||"MissingIcon"===F.name&&console.error(F)}return I},[]);return new Promise(function(I,A){Promise.all(w).then(function(k){iI(k,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),v(),I()})}).catch(function(k){v(),A(k)})})}function wB(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;cI(n).then(function(t){t&&iI([t],e)})}var EB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,i=void 0===r?G1:r,a=t.symbol,u=void 0!==a&&a,p=t.mask,v=void 0===p?null:p,w=t.maskId,I=void 0===w?null:w,A=t.title,k=void 0===A?null:A,F=t.titleId,W=void 0===F?null:F,te=t.classes,De=void 0===te?[]:te,Ve=t.attributes,Pe=void 0===Ve?{}:Ve,We=t.styles,He=void 0===We?{}:We;if(e){var je=e.prefix,Xe=e.iconName,It=e.icon;return w9(st({type:"icon"},e),function(){return T3("beforeDOMElementCreation",{iconDefinition:e,params:t}),Tt.autoA11y&&(k?Pe["aria-labelledby"]="".concat(Tt.replacementClass,"-title-").concat(W||b5()):(Pe["aria-hidden"]="true",Pe.focusable="false")),zy({icons:{main:Hy(It),mask:v?Hy(v.icon):{found:!1,width:null,height:null,icon:{}}},prefix:je,iconName:Xe,transform:st(st({},G1),i),symbol:u,title:k,maskId:I,titleId:W,extra:{attributes:Pe,styles:He,classes:De}})})}},TB={mixout:function(){return{icon:(n=EB,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Fy(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:Fy(i||{})),n(r,st(st({},t),{},{mask:i}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=lI,t.nodeCallback=wB,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,a=t.callback;return lI(void 0===r?Un:r,void 0===a?function(){}:a)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,a=r.title,u=r.titleId,p=r.prefix,v=r.transform,w=r.symbol,I=r.mask,A=r.maskId,k=r.extra;return new Promise(function(F,W){Promise.all([By(i,p),I.iconName?By(I.iconName,I.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(te){var De=yy(te,2);F([t,zy({icons:{main:De[0],mask:De[1]},prefix:p,iconName:i,transform:v,symbol:w,maskId:A,title:a,titleId:u,extra:k,watchable:!0})])}).catch(W)})},e.generateAbstractIcon=function(t){var w,r=t.children,i=t.attributes,a=t.main,u=t.transform,v=_9(t.styles);return v.length>0&&(i.style=v),My(u)&&(w=fl("generateAbstractTransformGrouping",{main:a,transform:u,containerWidth:a.width,iconWidth:a.width})),r.push(w||a.icon),{children:r,attributes:i}}}},IB={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,a=void 0===i?[]:i;return w9({type:"layer"},function(){T3("beforeDOMElementCreation",{assembler:t,params:r});var u=[];return t(function(p){Array.isArray(p)?p.map(function(v){u=u.concat(v.abstract)}):u=u.concat(p.abstract)}),[{tag:"span",attributes:{class:["".concat(Tt.familyPrefix,"-layers")].concat(p9(a)).join(" ")},children:u}]})}}}},SB={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,a=void 0===i?null:i,u=r.classes,p=void 0===u?[]:u,v=r.attributes,w=void 0===v?{}:v,I=r.styles,A=void 0===I?{}:I;return w9({type:"counter",content:t},function(){return T3("beforeDOMElementCreation",{content:t,params:r}),oB({content:t.toString(),title:a,extra:{attributes:w,styles:A,classes:["".concat(Tt.familyPrefix,"-layers-counter")].concat(p9(p))}})})}}}},MB={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,a=void 0===i?G1:i,u=r.title,p=void 0===u?null:u,v=r.classes,w=void 0===v?[]:v,I=r.attributes,A=void 0===I?{}:I,k=r.styles,F=void 0===k?{}:k;return w9({type:"text",content:t},function(){return T3("beforeDOMElementCreation",{content:t,params:r}),QT({content:t,transform:st(st({},G1),a),title:p,extra:{attributes:A,styles:F,classes:["".concat(Tt.familyPrefix,"-layers-text")].concat(p9(w))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,a=r.transform,u=r.extra,p=null,v=null;if(MT){var w=parseInt(getComputedStyle(t).fontSize,10),I=t.getBoundingClientRect();p=I.width/w,v=I.height/w}return Tt.autoA11y&&!i&&(u.attributes["aria-hidden"]="true"),Promise.resolve([t,QT({content:t.innerHTML,width:p,height:v,transform:a,title:i,extra:u,watchable:!0})])}}},AB=new RegExp('"',"ug"),uI=[1105920,1112319];function dI(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(t))return r();var u=Z4(n.children).filter(function(Xe){return Xe.getAttribute(Dy)===e})[0],p=U2.getComputedStyle(n,e),v=p.getPropertyValue("font-family").match(wH),w=p.getPropertyValue("font-weight"),I=p.getPropertyValue("content");if(u&&!v)return n.removeChild(u),r();if(v&&"none"!==I&&""!==I){var A=p.getPropertyValue("content"),k=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(v[2])?m9[v[2].toLowerCase()]:DH[w],F=function NB(n){var e=n.replace(AB,""),t=function jH(n,e){var i,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=uI[0]&&t<=uI[1],i=2===e.length&&e[0]===e[1];return{value:xy(i?e[0]:e),isSecondary:r||i}}(A),W=F.value,te=F.isSecondary,De=v[0].startsWith("FontAwesome"),Ve=Ry(k,W),Pe=Ve;if(De){var We=function KH(n){var e=WT[n],t=Ry("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(W);We.iconName&&We.prefix&&(Ve=We.iconName,k=We.prefix)}if(!Ve||te||u&&u.getAttribute(Ey)===k&&u.getAttribute(Ty)===Pe)r();else{n.setAttribute(t,Pe),u&&n.removeChild(u);var He=function bB(){return{iconName:null,title:null,titleId:null,prefix:null,transform:G1,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),je=He.extra;je.attributes[Dy]=e,By(Ve,k).then(function(Xe){var It=zy(st(st({},He),{},{icons:{main:Xe,mask:{prefix:null,iconName:null,rest:[]}},prefix:k,iconName:Pe,extra:je,watchable:!0})),Ht=Un.createElement("svg");"::before"===e?n.insertBefore(Ht,n.firstChild):n.appendChild(Ht),Ht.outerHTML=It.map(function(er){return C5(er)}).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function xB(n){return Promise.all([dI(n,"::before"),dI(n,"::after")])}function OB(n){return!(n.parentNode===document.head||~yH.indexOf(n.tagName.toUpperCase())||n.getAttribute(Dy)||n.parentNode&&"svg"===n.parentNode.tagName)}function hI(n){if(ul)return new Promise(function(e,t){var r=Z4(n.querySelectorAll("*")).filter(OB).map(xB),i=jy_begin("searchPseudoElements");sI(),Promise.all(r).then(function(){i(),$y(),e()}).catch(function(){i(),$y(),t()})})}var fI=!1,pI=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var a=i.toLowerCase().split("-"),u=a[0],p=a.slice(1).join("-");if(u&&"h"===p)return r.flipX=!0,r;if(u&&"v"===p)return r.flipY=!0,r;if(p=parseFloat(p),isNaN(p))return r;switch(u){case"grow":r.size=r.size+p;break;case"shrink":r.size=r.size-p;break;case"left":r.x=r.x-p;break;case"right":r.x=r.x+p;break;case"up":r.y=r.y-p;break;case"down":r.y=r.y+p;break;case"rotate":r.rotate=r.rotate+p}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Wy={x:0,y:0,width:"100%",height:"100%"};function gI(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}var FB={hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),a=i?C9(i.split(" ").map(function(u){return u.trim()})):{prefix:null,iconName:null,rest:[]};return a.prefix||(a.prefix=G2()),t.mask=a,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var n,r=t.children,i=t.attributes,a=t.main,u=t.mask,p=t.maskId,I=a.icon,k=u.icon,F=function PH(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},a="translate(".concat(32*e.x,", ").concat(32*e.y,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),p="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(u," ").concat(p)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:u.width,iconWidth:a.width}),W={tag:"rect",attributes:st(st({},Wy),{},{fill:"white"})},te=I.children?{children:I.children.map(gI)}:{},De={tag:"g",attributes:st({},F.inner),children:[gI(st({tag:I.tag,attributes:st(st({},I.attributes),F.path)},te))]},Ve={tag:"g",attributes:st({},F.outer),children:[De]},Pe="mask-".concat(p||b5()),We="clip-".concat(p||b5()),He={tag:"mask",attributes:st(st({},Wy),{},{id:Pe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[W,Ve]},je={tag:"defs",children:[{tag:"clipPath",attributes:{id:We},children:(n=k,"g"===n.tag?n.children:[n])},He]};return r.push(je,{tag:"rect",attributes:st({fill:"currentColor","clip-path":"url(#".concat(We,")"),mask:"url(#".concat(Pe,")")},Wy)}),{children:r,attributes:i}}}};!function XH(n,e){var t=e.mixoutsTo;KT=n,J4={},Object.keys(Q4).forEach(function(r){-1===QH.indexOf(r)&&delete Q4[r]}),KT.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(u){"function"==typeof i[u]&&(t[u]=i[u]),"object"===h9(i[u])&&Object.keys(i[u]).forEach(function(p){t[u]||(t[u]={}),t[u][p]=i[u][p]})}),r.hooks){var a=r.hooks();Object.keys(a).forEach(function(u){J4[u]||(J4[u]=[]),J4[u].push(a[u])})}r.provides&&r.provides(Q4)})}([zH,TB,IB,SB,MB,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=hI,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;Tt.searchPseudoElements&&hI(void 0===r?Un:r)}}},{mixout:function(){return{dom:{unwatch:function(){sI(),fI=!0}}}},hooks:function(){return{bootstrap:function(){oI(Ly("mutationObserverCallbacks",{}))},noAuto:function(){!function mB(){!T9||T9.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;fI?$y():oI(Ly("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return pI(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=pI(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,u=t.iconWidth,p={transform:"translate(".concat(t.containerWidth/2," 256)")},v="translate(".concat(32*i.x,", ").concat(32*i.y,") "),w="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),I="rotate(".concat(i.rotate," 0 0)"),F={outer:p,inner:{transform:"".concat(v," ").concat(w," ").concat(I)},path:{transform:"translate(".concat(u/2*-1," -256)")}};return{tag:"g",attributes:st({},F.outer),children:[{tag:"g",attributes:st({},F.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:st(st({},r.icon.attributes),F.path)}]}]}}}},FB,{provides:function(e){var t=!1;U2.matchMedia&&(t=U2.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:st(st({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var u=st(st({},a),{},{attributeName:"opacity"}),p={tag:"circle",attributes:st(st({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||p.children.push({tag:"animate",attributes:st(st({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:st(st({},u),{},{values:"1;0;1;1;0;1;"})}),r.push(p),r.push({tag:"path",attributes:st(st({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:st(st({},u),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:st(st({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:st(st({},u),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol");return t.symbol=null!==i&&(""===i||i),t}}}}],{mixoutsTo:qo});var BB=qo.parse,UB=qo.icon;const jB=["*"],WB=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let ZB=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KB=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(a=>r[a]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JB=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[d.TTD]}),n})(),QB=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[d.TTD],ngContentSelectors:jB,decls:1,vars:0,template:function(t,r){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2}),n})(),XB=(()=>{class n{constructor(t,r,i,a,u){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=a,this.classes=[],null!=u&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=null==this.icon?this.config.fallbackIcon:this.icon,t){const i=this.findIconDefinition(r);if(null!=i){const a=this.buildParams();this.renderIcon(i,a)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);if("icon"in r)return r;const i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return null!=i?i:((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?BB.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...WB(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=UB(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(bs),d.Y36(ZB),d.Y36(KB),d.Y36(JB,8),d.Y36(QB,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(d.Ikx("innerHTML",r.renderedIconHTML,d.oJD),d.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[d.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),eU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const tU=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Ax},{path:"home",component:K_},{path:"register",component:(()=>{class n{constructor(t){this.router=t}login(){this.router.navigate([""])}register(){this.router.navigate(["/home"])}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Fr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-register"]],decls:24,vars:0,consts:[[1,"col-md-4","offset-md-4","text-center","form-signin"],["src","../../../assets/DSC_0043.jpg","alt","","width","250","height","250",1,"mb-4","rounded-circle"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password",1,"form-control"],["for","floatingPassword"],[1,"checkbox","mb-3"],["type","checkbox","value","remember-me"],[1,"row"],[1,"col-md-6"],["type","submit",1,"w-100","btn","btn-lg","btn-danger",3,"click"],["type","submit",1,"w-100","btn","btn-lg","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"form"),d._UZ(2,"img",1),d.TgZ(3,"h1",2),d._uU(4,"Por favor registrarse"),d.qZA(),d.TgZ(5,"div",3),d._UZ(6,"input",4),d.TgZ(7,"label",5),d._uU(8,"Correo electronico"),d.qZA()(),d.TgZ(9,"div",3),d._UZ(10,"input",6),d.TgZ(11,"label",7),d._uU(12,"Clave"),d.qZA()(),d.TgZ(13,"div",8)(14,"label"),d._UZ(15,"input",9),d._uU(16," Recuerdame "),d.qZA()(),d.TgZ(17,"div",10)(18,"div",11)(19,"button",12),d.NdJ("click",function(){return r.register()}),d._uU(20,"Registrarse"),d.qZA()(),d.TgZ(21,"div",11)(22,"button",13),d.NdJ("click",function(){return r.login()}),d._uU(23,"Conectarse"),d.qZA()()()()())},directives:[o4,Ih,$c],styles:[".form-signin[_ngcontent-%COMP%]{padding-top:15%}"]}),n})()},{path:"quien-soy",component:(()=>{class n{constructor(){this.faGithub=dT}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-quien-soy"]],decls:12,vars:1,consts:[[1,"col-md-4","offset-md-4","text-center","component","quienSoy"],["src","../../../assets/DSC_0043.jpg","alt","","width","250","height","250",1,"mb-4","rounded-circle"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["href","https://github.com/Shilua",1,"btn","btn-danger"],[3,"icon"]],template:function(t,r){1&t&&(d._UZ(0,"app-navbar"),d.TgZ(1,"div",0),d._UZ(2,"img",1),d.TgZ(3,"div",2)(4,"div",3)(5,"h5",4),d._uU(6,"Maximiliano Vargas"),d.qZA(),d.TgZ(7,"p",5),d._uU(8,"Desarrollador de software, estudiante de la Universidad Tecnologica Nacional"),d.qZA(),d.TgZ(9,"a",6),d._UZ(10,"fa-icon",7),d._uU(11," github"),d.qZA()()()()),2&t&&(d.xp6(10),d.Q6J("icon",r.faGithub))},directives:[Yp,XB],styles:[".quienSoy[_ngcontent-%COMP%]{padding-top:2%}"]}),n})()}];let nU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Hu.forRoot(tU)],Hu]}),n})(),rU=(()=>{class n{constructor(){this.title="salaDeJuegos"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[Rc],styles:[""]}),n})();function qy(){return(0,ir.e)((n,e)=>{let t,r=!1;n.subscribe((0,mn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}R(820);var ot,iU=R(3942),sU="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pl={},Yy=Yy||{},Ft=sU||self;function I9(){}function Zy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function E5(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ky="closure_uid_"+(1e9*Math.random()>>>0),aU=0;function cU(n,e,t){return n.call.apply(n.bind,arguments)}function lU(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function zi(n,e,t){return(zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cU:lU).apply(null,arguments)}function S9(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Vi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return e.prototype[i].apply(r,u)}}function $2(){this.s=this.s,this.o=this.o}var dU={};$2.prototype.s=!1,$2.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function oU(n){return Object.prototype.hasOwnProperty.call(n,Ky)&&n[Ky]||(n[Ky]=++aU)}(this);delete dU[n]}},$2.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},vI=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function _I(n){return Array.prototype.concat.apply([],arguments)}function Jy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function M9(n){return/^[\s\xa0]*$/.test(n)}var Ns,yI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function As(n,e){return-1!=n.indexOf(e)}function Qy(n,e){return n<e?-1:n>e?1:0}e:{var bI=Ft.navigator;if(bI){var CI=bI.userAgent;if(CI){Ns=CI;break e}}Ns=""}function Xy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function wI(n){const e={};for(const t in n)e[t]=n[t];return e}var DI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EI(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<DI.length;a++)t=DI[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function eb(n){return eb[" "](n),n}eb[" "]=I9;var A9,n,pU=As(Ns,"Opera"),X4=As(Ns,"Trident")||As(Ns,"MSIE"),TI=As(Ns,"Edge"),tb=TI||X4,II=As(Ns,"Gecko")&&!(As(Ns.toLowerCase(),"webkit")&&!As(Ns,"Edge"))&&!(As(Ns,"Trident")||As(Ns,"MSIE"))&&!As(Ns,"Edge"),gU=As(Ns.toLowerCase(),"webkit")&&!As(Ns,"Edge");function SI(){var n=Ft.document;return n?n.documentMode:void 0}e:{var nb="",rb=(n=Ns,II?/rv:([^\);]+)(\)|;)/.exec(n):TI?/Edge\/([\d\.]+)/.exec(n):X4?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):gU?/WebKit\/(\S+)/.exec(n):pU?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(rb&&(nb=rb?rb[1]:""),X4){var ib=SI();if(null!=ib&&ib>parseFloat(nb)){A9=String(ib);break e}}A9=nb}var mU={};var _U=Ft.document&&X4&&(SI()||parseInt(A9,10))||void 0,yU=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",I9,e),Ft.removeEventListener("test",I9,e)}catch(t){}return n}();function os(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function T5(n,e){if(os.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(II){e:{try{eb(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:bU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&T5.Z.h.call(this)}}os.prototype.h=function(){this.defaultPrevented=!0},Vi(T5,os);var bU={2:"touch",3:"pen",4:"mouse"};T5.prototype.h=function(){T5.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var I5="closure_listenable_"+(1e6*Math.random()|0),CU=0;function wU(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++CU,this.ca=this.fa=!1}function N9(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function x9(n){this.src=n,this.g={},this.h=0}function ob(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=mI(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(N9(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ab(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}x9.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=ab(n,e,r,i);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new wU(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var cb="closure_lm_"+(1e6*Math.random()|0),lb={};function AI(n,e,t,r,i){if(r&&r.once)return xI(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)AI(n,e[a],t,r,i);return null}return t=fb(t),n&&n[I5]?n.N(e,t,E5(r)?!!r.capture:!!r,i):NI(n,e,t,!1,r,i)}function NI(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=E5(i)?!!i.capture:!!i,p=db(n);if(p||(n[cb]=p=new x9(n)),(t=p.add(e,t,r,u,a)).proxy)return t;if(r=function DU(){var e=EU;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)yU||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(kI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xI(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)xI(n,e[a],t,r,i);return null}return t=fb(t),n&&n[I5]?n.O(e,t,E5(r)?!!r.capture:!!r,i):NI(n,e,t,!0,r,i)}function OI(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)OI(n,e[a],t,r,i);else r=E5(r)?!!r.capture:!!r,t=fb(t),n&&n[I5]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ab(a=n.g[e],t,r,i))&&(N9(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=db(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ab(e,t,r,i)),(t=-1<n?e[n]:null)&&ub(t))}function ub(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[I5])ob(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(kI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=db(e))?(ob(t,n),0==t.h&&(t.src=null,e[cb]=null)):N9(n)}}}function kI(n){return n in lb?lb[n]:lb[n]="on"+n}function EU(n,e){if(n.ca)n=!0;else{e=new T5(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&ub(n),n=t.call(r,e)}return n}function db(n){return(n=n[cb])instanceof x9?n:null}var hb="__closure_events_fn_"+(1e9*Math.random()>>>0);function fb(n){return"function"==typeof n?n:(n[hb]||(n[hb]=function(e){return n.handleEvent(e)}),n[hb])}function _i(){$2.call(this),this.i=new x9(this),this.P=this,this.I=null}function Hi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new os(e,n);else if(e instanceof os)e.target=e.target||n;else{var i=e;EI(e=new os(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=O9(u,r,!0,e)&&i}if(i=O9(u=e.g=n,r,!0,e)&&i,i=O9(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=O9(u=e.g=t[a],r,!1,e)&&i}function O9(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var p=u.listener,v=u.ia||u.src;u.fa&&ob(n.i,u),i=!1!==p.call(v,r)&&i}}return i&&!r.defaultPrevented}Vi(_i,$2),_i.prototype[I5]=!0,_i.prototype.removeEventListener=function(n,e,t,r){OI(this,n,e,t,r)},_i.prototype.M=function(){if(_i.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)N9(t[r]);delete n.g[e],n.h--}}this.I=null},_i.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},_i.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var pb=Ft.JSON.stringify;function TU(){var n=PI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var mb,RI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new SU,n=>n.reset());class SU{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function MU(n){Ft.setTimeout(()=>{throw n},0)}function gb(n,e){mb||function AU(){var n=Ft.Promise.resolve(void 0);mb=function(){n.then(NU)}}(),vb||(mb(),vb=!0),PI.add(n,e)}var vb=!1,PI=new class IU{constructor(){this.h=this.g=null}add(e,t){const r=RI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function NU(){for(var n;n=TU();){try{n.h.call(n.g)}catch(t){MU(t)}var e=RI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}vb=!1}function k9(n,e){_i.call(this),this.h=n||1,this.g=e||Ft,this.j=zi(this.kb,this),this.l=Date.now()}function _b(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function yb(n,e,t){if("function"==typeof n)t&&(n=zi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function LI(n){n.g=yb(()=>{n.g=null,n.i&&(n.i=!1,LI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vi(k9,_i),(ot=k9.prototype).da=!1,ot.S=null,ot.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Hi(this,"tick"),this.da&&(_b(this),this.start()))}},ot.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.M=function(){k9.Z.M.call(this),_b(this),delete this.g};class xU extends $2{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LI(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function S5(n){$2.call(this),this.h=n,this.g={}}Vi(S5,$2);var FI=[];function zI(n,e,t,r){Array.isArray(t)||(t&&(FI[0]=t.toString()),t=FI);for(var i=0;i<t.length;i++){var a=AI(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function VI(n){Xy(n.g,function(e,t){this.g.hasOwnProperty(t)&&ub(e)},n),n.g={}}function R9(){this.g=!0}function e0(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function PU(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return pb(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}S5.prototype.M=function(){S5.Z.M.call(this),VI(this)},S5.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},R9.prototype.Aa=function(){this.g=!1},R9.prototype.info=function(){};var I3={},HI=null;function P9(){return HI=HI||new _i}function BI(n){os.call(this,I3.Ma,n)}function M5(n){const e=P9();Hi(e,new BI(e,n))}function UI(n,e){os.call(this,I3.STAT_EVENT,n),this.stat=e}function xs(n){const e=P9();Hi(e,new UI(e,n))}function jI(n,e){os.call(this,I3.Na,n),this.size=e}function A5(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}I3.Ma="serverreachability",Vi(BI,os),I3.STAT_EVENT="statevent",Vi(UI,os),I3.Na="timingevent",Vi(jI,os);var L9={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},GI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bb(){}function WI(){}bb.prototype.h=null;var Db,N5={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Cb(){os.call(this,"d")}function wb(){os.call(this,"c")}function F9(){}function x5(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new S5(this),this.P=LU,this.W=new k9(n=tb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qI}function qI(){this.i=null,this.g="",this.h=!1}Vi(Cb,os),Vi(wb,os),Vi(F9,bb),F9.prototype.g=function(){return new XMLHttpRequest},F9.prototype.i=function(){return{}},Db=new F9;var LU=45e3,Eb={},z9={};function Tb(n,e,t){n.K=1,n.v=j9(gl(e)),n.s=t,n.U=!0,YI(n,null)}function YI(n,e){n.F=Date.now(),O5(n),n.A=gl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),rS(t.h,"t",r),n.C=0,t=n.l.H,n.h=new qI,n.g=IS(n.l,t?e:null,!n.s),0<n.O&&(n.L=new xU(zi(n.Ia,n,n.g),n.O)),zI(n.V,n.g,"readystatechange",n.gb),e=n.H?wI(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),M5(1),function OU(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",p=a.split("&"),v=0;v<p.length;v++){var w=p[v].split("=");if(1<w.length){var I=w[0];w=w[1];var A=I.split("_");u=2<=A.length&&"type"==A[1]?u+(I+"=")+w+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function ZI(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function KI(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=FU(n,t),i==z9){4==e&&(n.o=4,xs(14),r=!1),e0(n.j,n.m,null,"[Incomplete Response]");break}if(i==Eb){n.o=4,xs(15),e0(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}e0(n.j,n.m,i,null),Ib(n,i)}ZI(n)&&i!=z9&&i!=Eb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,xs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Fb(e),e.L=!0,xs(11))):(e0(n.j,n.m,t,"[Invalid Chunked Response]"),S3(n),k5(n))}function FU(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?z9:(t=Number(e.substring(t,r)),isNaN(t)?Eb:(r+=1)+t>e.length?z9:(e=e.substr(r,t),n.C=r+t,e))}function O5(n){n.Y=Date.now()+n.P,JI(n,n.P)}function JI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=A5(zi(n.eb,n),e)}function V9(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function k5(n){0==n.l.G||n.I||wS(n.l,n)}function S3(n){V9(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,_b(n.W),VI(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ib(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ab(t.i,n)))if(t.I=n.N,!n.J&&Ab(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=A5(zi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Z9(t),q9(t)}Lb(t),xs(18)}if(1>=oS(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else N3(t,11)}else if((n.J||t.g==n)&&Z9(t),!M9(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const I=w[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const A=w[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const k=w[5];null!=k&&"number"==typeof k&&0<k&&(t.K=r=1.5*k,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const F=n.g;if(F){const W=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var a=r.i;!a.g&&(As(W,"spdy")||As(W,"quic")||As(W,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Nb(a,a.h),a.h=null))}if(r.D){const te=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.sa=te,Qn(r.F,r.D,te))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((r=t).oa=TS(r,r.H?r.la:null,r.W),u.J){aS(r.i,u);var p=u,v=r.K;v&&p.setTimeout(v),p.B&&(V9(p),O5(p)),r.g=u}else bS(r);0<t.l.length&&Y9(t)}else"stop"!=w[0]&&"close"!=w[0]||N3(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?N3(t,7):Rb(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}M5(4)}catch(w){}}function Sb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Zy(n)||"string"==typeof n)vI(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Zy(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function zU(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Zy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function t0(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof t0)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Mb(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];M3(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)M3(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function M3(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ot=x5.prototype).setTimeout=function(n){this.P=n},ot.gb=function(n){n=n.target;const e=this.L;e&&3==ml(n)?e.l():this.Ia(n)},ot.Ia=function(n){try{if(n==this.g)e:{const I=ml(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>I)&&(3!=I||tb||this.g&&(this.h.h||this.g.ga()||gS(this.g)))){this.I||4!=I||7==e||M5(8==e||0>=A?3:2),V9(this);var t=this.g.ba();this.N=t;t:if(ZI(this)){var r=gS(this.g);n="";var i=r.length,a=4==ml(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){S3(this),k5(this);var u="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function kU(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M9(p)){var w=p;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,xs(12),S3(this),k5(this);break e}e0(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ib(this,t)}this.U?(KI(this,I,u),tb&&this.i&&3==I&&(zI(this.V,this.W,"tick",this.fb),this.W.start())):(e0(this.j,this.m,u,null),Ib(this,u)),4==I&&S3(this),this.i&&!this.I&&(4==I?wS(this.l,this):(this.i=!1,O5(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,xs(12)):(this.o=0,xs(13)),S3(this),k5(this)}}}catch(I){}},ot.fb=function(){if(this.g){var n=ml(this.g),e=this.g.ga();this.C<e.length&&(V9(this),KI(this,n,e),this.i&&4!=n&&O5(this))}},ot.cancel=function(){this.I=!0,S3(this)},ot.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function RU(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(M5(3),xs(17)),S3(this),this.o=2,k5(this)):JI(this,this.Y-n)},(ot=t0.prototype).R=function(){Mb(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ot.T=function(){return Mb(this),this.g.concat()},ot.get=function(n,e){return M3(this.h,n)?this.h[n]:e},ot.set=function(n,e){M3(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ot.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var QI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function A3(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof A3){this.g=void 0!==e?e:n.g,H9(this,n.j),this.s=n.s,B9(this,n.i),U9(this,n.m),this.l=n.l,e=n.h;var t=new L5;t.i=e.i,e.g&&(t.g=new t0(e.g),t.h=e.h),XI(this,t),this.o=n.o}else n&&(t=String(n).match(QI))?(this.g=!!e,H9(this,t[1]||"",!0),this.s=R5(t[2]||""),B9(this,t[3]||"",!0),U9(this,t[4]),this.l=R5(t[5]||"",!0),XI(this,t[6]||"",!0),this.o=R5(t[7]||"")):(this.g=!!e,this.h=new L5(null,this.g))}function gl(n){return new A3(n)}function H9(n,e,t){n.j=t?R5(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function B9(n,e,t){n.i=t?R5(e,!0):e}function U9(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function XI(n,e,t){e instanceof L5?(n.h=e,function qU(n,e){e&&!n.j&&(W2(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(tS(this,r),rS(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=P5(e,$U)),n.h=new L5(e,n.g))}function Qn(n,e,t){n.h.set(e,t)}function j9(n){return Qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function R5(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function P5(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,UU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function UU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}A3.prototype.toString=function(){var n=[],e=this.j;e&&n.push(P5(e,eS,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(P5(e,eS,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(P5(t,"/"==t.charAt(0)?GU:jU,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",P5(t,WU)),n.join("")};var eS=/[#\/\?@]/g,jU=/[#\?:]/g,GU=/[#\?]/g,$U=/[#\?@]/g,WU=/#/g;function L5(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function W2(n){n.g||(n.g=new t0,n.h=0,n.i&&function VU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function tS(n,e){W2(n),e=n0(n,e),M3(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,M3((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Mb(n)))}function nS(n,e){return W2(n),e=n0(n,e),M3(n.g.h,e)}function rS(n,e,t){tS(n,e),0<t.length&&(n.i=null,n.g.set(n0(n,e),Jy(t)),n.h+=t.length)}function n0(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function iS(n){this.l=n||ZU,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ea&&Ft.g.Ea()&&Ft.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=L5.prototype).add=function(n,e){W2(this),this.i=null,n=n0(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ot.forEach=function(n,e){W2(this),this.g.forEach(function(t,r){vI(t,function(i){n.call(e,i,r,this)},this)},this)},ot.T=function(){W2(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},ot.R=function(n){W2(this);var e=[];if("string"==typeof n)nS(this,n)&&(e=_I(e,this.g.get(n0(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=_I(e,n[t])}return e},ot.set=function(n,e){return W2(this),this.i=null,nS(this,n=n0(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ot.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var u=i;""!==r[a]&&(u+="="+encodeURIComponent(String(r[a]))),n.push(u)}}return this.i=n.join("&")};var ZU=10;function sS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function oS(n){return n.h?1:n.g?n.g.size:0}function Ab(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Nb(n,e){n.g?n.g.add(e):n.h=e}function aS(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function cS(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Jy(n.i)}function xb(){}function KU(){this.g=new xb}function JU(n,e,t){const r=t||"";try{Sb(n,function(i,a){let u=i;E5(i)&&(u=pb(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function G9(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function F5(n){this.l=n.$b||null,this.j=n.ib||!1}function $9(n,e){_i.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ob,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}iS.prototype.cancel=function(){if(this.i=cS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},xb.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},xb.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},Vi(F5,bb),F5.prototype.g=function(){return new $9(this.l,this.j)},F5.prototype.i=function(n){return function(){return n}}({}),Vi($9,_i);var Ob=0;function lS(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function z5(n){n.readyState=4,n.l=null,n.j=null,n.A=null,V5(n)}function V5(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=$9.prototype).open=function(n,e){if(this.readyState!=Ob)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,V5(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ft).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,z5(this)),this.readyState=Ob},ot.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,V5(this)),this.g&&(this.readyState=3,V5(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lS(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ot.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?z5(this):V5(this),3==this.readyState&&lS(this)}},ot.Ua=function(n){this.g&&(this.response=this.responseText=n,z5(this))},ot.Ta=function(n){this.g&&(this.response=n,z5(this))},ot.ha=function(){this.g&&z5(this)},ot.setRequestHeader=function(n,e){this.v.append(n,e)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($9.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var XU=Ft.JSON.parse;function Br(n){_i.call(this),this.headers=new t0,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uS,this.K=this.L=!1}Vi(Br,_i);var uS="",ej=/^https?$/i,tj=["POST","PUT"];function rj(n){return"content-type"==n.toLowerCase()}function dS(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,hS(n),W9(n)}function hS(n){n.D||(n.D=!0,Hi(n,"complete"),Hi(n,"error"))}function fS(n){if(n.h&&void 0!==Yy&&(!n.C[1]||4!=ml(n)||2!=n.ba()))if(n.v&&4==ml(n))yb(n.Fa,0,n);else if(Hi(n,"readystatechange"),4==ml(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(QI)[1]||null;if(!i&&Ft.self&&Ft.self.location){var a=Ft.self.location.protocol;i=a.substr(0,a.length-1)}r=!ej.test(i?i.toLowerCase():"")}t=r}if(t)Hi(n,"complete"),Hi(n,"success");else{n.m=6;try{var u=2<ml(n)?n.g.statusText:""}catch(v){u=""}n.j=u+" ["+n.ba()+"]",hS(n)}}finally{W9(n)}}}function W9(n,e){if(n.g){pS(n);const t=n.g,r=n.C[0]?I9:null;n.g=null,n.C=null,e||Hi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function pS(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function ml(n){return n.g?n.g.readyState:0}function gS(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case uS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function kb(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function ij(n){let e="";return Xy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qn(n,e,t))}function H5(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function mS(n){this.za=0,this.l=[],this.h=new R9,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=H5("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=H5("baseRetryDelayMs",5e3,n),this.$a=H5("retryDelaySeedMs",1e4,n),this.Ya=H5("forwardChannelMaxRetries",2,n),this.ra=H5("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new iS(n&&n.concurrentRequestLimit),this.Ca=new KU,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Rb(n){if(vS(n),3==n.G){var e=n.V++,t=gl(n.F);Qn(t,"SID",n.J),Qn(t,"RID",e),Qn(t,"TYPE","terminate"),B5(n,t),(e=new x5(n,n.h,e,void 0)).K=2,e.v=j9(gl(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=IS(e.l,null),e.g.ea(e.v)),e.F=Date.now(),O5(e)}ES(n)}function q9(n){n.g&&(Fb(n),n.g.cancel(),n.g=null)}function vS(n){q9(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),Z9(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function Pb(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Y9(n)}function Y9(n){sS(n.i)||n.m||(n.m=!0,gb(n.Ha,n),n.C=0)}function _S(n,e){var t;t=e?e.m:n.V++;const r=gl(n.F);Qn(r,"SID",n.J),Qn(r,"RID",t),Qn(r,"AID",n.U),B5(n,r),n.o&&n.s&&kb(r,n.o,n.s),t=new x5(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=yS(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Nb(n.i,t),Tb(t,r,e)}function B5(n,e){n.j&&Sb({},function(t,r){Qn(e,r,t)})}function yS(n,e,t){t=Math.min(n.l.length,t);var r=n.j?zi(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let p=!0;for(let v=0;v<t;v++){let w=i[v].h;const I=i[v].g;if(w-=a,0>w)a=Math.max(0,i[v].h-100),p=!1;else try{JU(I,u,"req"+w+"_")}catch(A){r&&r(I)}}if(p){r=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function bS(n){n.g||n.u||(n.Y=1,gb(n.Ga,n),n.A=0)}function Lb(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=A5(zi(n.Ga,n),DS(n,n.A)),n.A++,0))}function Fb(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function CS(n){n.g=new x5(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=gl(n.oa);Qn(e,"RID","rpc"),Qn(e,"SID",n.J),Qn(e,"CI",n.N?"0":"1"),Qn(e,"AID",n.U),B5(n,e),Qn(e,"TYPE","xmlhttp"),n.o&&n.s&&kb(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=j9(gl(e)),t.s=null,t.U=!0,YI(t,n)}function Z9(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function wS(n,e){var t=null;if(n.g==e){Z9(n),Fb(n),n.g=null;var r=2}else{if(!Ab(n.i,e))return;t=e.D,aS(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Hi(r=P9(),new jI(r,t,e,i)),Y9(n)}else bS(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function sj(n,e){return!(oS(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=A5(zi(n.Ha,n,e),DS(n,n.C)),n.C++,0)))}(n,e)||2==r&&Lb(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:N3(n,5);break;case 4:N3(n,10);break;case 3:N3(n,6);break;default:N3(n,2)}}function DS(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function N3(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=zi(n.jb,n);t||(t=new A3("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||H9(t,"https"),j9(t)),function QU(n,e){const t=new R9;if(Ft.Image){const r=new Image;r.onload=S9(G9,t,r,"TestLoadImage: loaded",!0,e),r.onerror=S9(G9,t,r,"TestLoadImage: error",!1,e),r.onabort=S9(G9,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=S9(G9,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else xs(2);n.G=0,n.j&&n.j.va(e),ES(n),vS(n)}function ES(n){n.G=0,n.I=-1,n.j&&((0!=cS(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Jy(n.l),n.l.length=0),n.j.ua())}function TS(n,e,t){let r=function HU(n){return n instanceof A3?gl(n):new A3(n,void 0)}(t);if(""!=r.i)e&&B9(r,e+"."+r.i),U9(r,r.m);else{const i=Ft.location;r=function BU(n,e,t,r){var i=new A3(null,void 0);return n&&H9(i,n),e&&B9(i,e),t&&U9(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Xy(n.aa,function(i,a){Qn(r,a,i)}),t=n.sa,(e=n.D)&&t&&Qn(r,e,t),Qn(r,"VER",n.ma),B5(n,r),r}function IS(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Br(t&&n.Ba&&!n.qa?new F5({ib:!0}):n.qa)).L=n.H,e}function SS(){}function K9(){if(X4&&!(10<=Number(_U)))throw Error("Environmental error: no available transport.")}function Yo(n,e){_i.call(this),this.g=new mS(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!M9(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!M9(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new r0(this)}function MS(n){Cb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function AS(){wb.call(this),this.status=1}function r0(n){this.g=n}(ot=Br.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Db.g(),this.C=function $I(n){return n.h||(n.h=n.i())}(this.u?this.u:Db),this.g.onreadystatechange=zi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void dS(this,a)}n=t||"";const i=new t0(this.headers);r&&Sb(r,function(a,u){i.set(u,a)}),r=function hU(n){e:{var e=rj;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ft.FormData&&n instanceof Ft.FormData,!(0<=mI(tj,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pS(this),0<this.B&&((this.K=function nj(n){return X4&&function vU(){return function fU(n){var e=mU;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=yI(String(A9)).split("."),t=yI("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Qy(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Qy(0==i[2].length,0==a[2].length)||Qy(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zi(this.pa,this)):this.A=yb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){dS(this,a)}},ot.pa=function(){void 0!==Yy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hi(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hi(this,"complete"),Hi(this,"abort"),W9(this))},ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),W9(this,!0)),Br.Z.M.call(this)},ot.Fa=function(){this.s||(this.F||this.v||this.l?fS(this):this.cb())},ot.cb=function(){fS(this)},ot.ba=function(){try{return 2<ml(this)?this.g.status:-1}catch(n){return-1}},ot.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ot.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),XU(e)}},ot.Da=function(){return this.m},ot.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=mS.prototype).ma=8,ot.G=1,ot.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ot.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new x5(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=wI(a),EI(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yS(this,i,e),Qn(t=gl(this.F),"RID",n),Qn(t,"CVER",22),this.D&&Qn(t,"X-HTTP-Session-Id",this.D),B5(this,t),this.o&&a&&kb(t,this.o,a),Nb(this.i,i),this.Ra&&Qn(t,"TYPE","init"),this.ja?(Qn(t,"$req",e),Qn(t,"SID","null"),i.$=!0,Tb(i,t,null)):Tb(i,t,e),this.G=2}}else 3==this.G&&(n?_S(this,n):0==this.l.length||sS(this.i)||_S(this))},ot.Ga=function(){if(this.u=null,CS(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=A5(zi(this.bb,this),n)}},ot.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xs(10),q9(this),CS(this))},ot.ab=function(){null!=this.v&&(this.v=null,q9(this),Lb(this),xs(19))},ot.jb=function(n){n?(this.h.info("Successfully pinged google.com"),xs(2)):(this.h.info("Failed to ping google.com"),xs(1))},(ot=SS.prototype).xa=function(){},ot.wa=function(){},ot.va=function(){},ot.ua=function(){},ot.Oa=function(){},K9.prototype.g=function(n,e){return new Yo(n,e)},Vi(Yo,_i),Yo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),gb(zi(n.hb,n,e))),xs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=TS(n,null,n.W),Y9(n)},Yo.prototype.close=function(){Rb(this.g)},Yo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Pb(this.g,e)}else this.v?((e={}).__data__=pb(n),Pb(this.g,e)):Pb(this.g,n)},Yo.prototype.M=function(){this.g.j=null,delete this.j,Rb(this.g),delete this.g,Yo.Z.M.call(this)},Vi(MS,Cb),Vi(AS,wb),Vi(r0,SS),r0.prototype.xa=function(){Hi(this.g,"a")},r0.prototype.wa=function(n){Hi(this.g,new MS(n))},r0.prototype.va=function(n){Hi(this.g,new AS(n))},r0.prototype.ua=function(){Hi(this.g,"b")},K9.prototype.createWebChannel=K9.prototype.g,Yo.prototype.send=Yo.prototype.u,Yo.prototype.open=Yo.prototype.m,Yo.prototype.close=Yo.prototype.close,L9.NO_ERROR=0,L9.TIMEOUT=8,L9.HTTP_ERROR=6,GI.COMPLETE="complete",WI.EventType=N5,N5.OPEN="a",N5.CLOSE="b",N5.ERROR="c",N5.MESSAGE="d",_i.prototype.listen=_i.prototype.N,Br.prototype.listenOnce=Br.prototype.O,Br.prototype.getLastError=Br.prototype.La,Br.prototype.getLastErrorCode=Br.prototype.Da,Br.prototype.getStatus=Br.prototype.ba,Br.prototype.getResponseJson=Br.prototype.Qa,Br.prototype.getResponseText=Br.prototype.ga,Br.prototype.send=Br.prototype.ea;var oj=pl.createWebChannelTransport=function(){return new K9},aj=pl.getStatEventTarget=function(){return P9()},zb=pl.ErrorCode=L9,cj=pl.EventType=GI,lj=pl.Event=I3,NS=pl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},uj=pl.FetchXmlHttpFactory=F5,J9=pl.WebChannel=WI,dj=pl.XhrIo=Br;const xS="@firebase/firestore";class Bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");let s0="9.6.11";const q2=new t1.Yd("@firebase/firestore");function Vb(){return q2.logLevel}function Fe(n,...e){if(q2.logLevel<=t1.in.DEBUG){const t=e.map(Hb);q2.debug(`Firestore (${s0}): ${n}`,...t)}}function Ur(n,...e){if(q2.logLevel<=t1.in.ERROR){const t=e.map(Hb);q2.error(`Firestore (${s0}): ${n}`,...t)}}function U5(n,...e){if(q2.logLevel<=t1.in.WARN){const t=e.map(Hb);q2.warn(`Firestore (${s0}): ${n}`,...t)}}function Hb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ct(n="Unexpected state"){const e=`FIRESTORE (${s0}) INTERNAL ASSERTION FAILED: `+n;throw Ur(e),new Error(e)}function xt(n,e){n||ct()}function Ke(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class OS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bi.UNAUTHENTICATED))}shutdown(){}}class gj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mj{constructor(e){this.t=e,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let u=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yi,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const w=u;e.enqueueRetryable((0,ye.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},v=w=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>v(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?v(w):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yi)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new OS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Bi(e)}}class vj{constructor(e,t,r){this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class _j{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new vj(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yj{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.p=t.token,new kS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Zo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function bj(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Zo.A=-1;class RS{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bj(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function o0(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function PS(n){return n+"\0"}class Ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ar(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new Ar(0,0))}static max(){return new At(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function LS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function x3(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class j5{constructor(e,t,r){void 0===t?t=0:t>e.length&&ct(),void 0===r?r=e.length-t:r>e.length-t&&ct(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===j5.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof j5?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class an extends j5{construct(e,t,r){return new an(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new an(t)}static emptyPath(){return new an([])}}const Cj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bi extends j5{construct(e,t,r){return new bi(e,t,r)}static isValidIdentifier(e){return Cj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new xe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new xe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new xe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===p?(u=!u,i++):"."!==p||u?(r+=p,i++):(a(),i++)}if(a(),u)throw new xe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bi(t)}static emptyPath(){return new bi([])}}class a0{constructor(e){this.fields=e,e.sort(bi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return o0(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xr.EMPTY_BYTE_STRING=new Xr("");const Dj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Y2(n){if(xt(!!n),"string"==typeof n){let e=0;const t=Dj.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pr(n.seconds),nanos:pr(n.nanos)}}function pr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function O3(n){return"string"==typeof n?Xr.fromBase64String(n):Xr.fromUint8Array(n)}function Bb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function zS(n){const e=n.mapValue.fields.__previous_value__;return Bb(e)?zS(e):e}function G5(n){const e=Y2(n.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}class Ej{constructor(e,t,r,i,a,u,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class vl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}function k3(n){return null==n}function $5(n){return 0===n&&1/n==-1/0}function VS(n){return"number"==typeof n&&Number.isInteger(n)&&!$5(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(an.fromString(e))}static fromName(e){return new Ye(an.fromString(e).popFirst(5))}static empty(){return new Ye(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return an.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new an(e.slice()))}}const HS={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},BS={nullValue:"NULL_VALUE"};function R3(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bb(n)?4:$S(n)?9:10:ct()}function $1(n,e){if(n===e)return!0;const t=R3(n);if(t!==R3(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return G5(n).isEqual(G5(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Y2(r.timestampValue),u=Y2(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,O3(n.bytesValue).isEqual(O3(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return pr(r.geoPointValue.latitude)===pr(i.geoPointValue.latitude)&&pr(r.geoPointValue.longitude)===pr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pr(r.integerValue)===pr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=pr(r.doubleValue),u=pr(i.doubleValue);return a===u?$5(a)===$5(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return o0(n.arrayValue.values||[],e.arrayValue.values||[],$1);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(LS(a)!==LS(u))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===u[p]||!$1(a[p],u[p])))return!1;return!0}(n,e);default:return ct()}var i}function W5(n,e){return void 0!==(n.values||[]).find(t=>$1(t,e))}function Z2(n,e){if(n===e)return 0;const t=R3(n),r=R3(e);if(t!==r)return jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=pr(i.integerValue||i.doubleValue),p=pr(a.integerValue||a.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(n,e);case 3:return US(n.timestampValue,e.timestampValue);case 4:return US(G5(n),G5(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(i,a){const u=O3(i),p=O3(a);return u.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),p=a.split("/");for(let v=0;v<u.length&&v<p.length;v++){const w=jt(u[v],p[v]);if(0!==w)return w}return jt(u.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=jt(pr(i.latitude),pr(a.latitude));return 0!==u?u:jt(pr(i.longitude),pr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],p=a.values||[];for(let v=0;v<u.length&&v<p.length;++v){const w=Z2(u[v],p[v]);if(w)return w}return jt(u.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const u=i.fields||{},p=Object.keys(u),v=a.fields||{},w=Object.keys(v);p.sort(),w.sort();for(let I=0;I<p.length&&I<w.length;++I){const A=jt(p[I],w[I]);if(0!==A)return A;const k=Z2(u[p[I]],v[w[I]]);if(0!==k)return k}return jt(p.length,w.length)}(n.mapValue,e.mapValue);default:throw ct()}}function US(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=Y2(n),r=Y2(e),i=jt(t.seconds,r.seconds);return 0!==i?i:jt(t.nanos,r.nanos)}function c0(n){return Ub(n)}function Ub(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Y2(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?O3(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=Ub(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const p of i)u?u=!1:a+=",",a+=`${p}:${Ub(r.fields[p])}`;return a+"}"}(n.mapValue):ct();var e}function P3(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jb(n){return!!n&&"integerValue"in n}function q5(n){return!!n&&"arrayValue"in n}function jS(n){return!!n&&"nullValue"in n}function GS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Q9(n){return!!n&&"mapValue"in n}function Y5(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return x3(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Y5(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Y5(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $S(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Tj(n){return"nullValue"in n?BS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?P3(vl.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ct()}function Ij(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?P3(vl.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?HS:ct()}function WS(n,e){return void 0===n?e:void 0===e||Z2(n,e)>0?n:e}function qS(n,e){return void 0===n?e:void 0===e||Z2(n,e)<0?n:e}class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Q9(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Y5(t)}setAll(e){let t=bi.emptyPath(),r={},i=[];e.forEach((u,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=p.popLast()}u?r[p.lastSegment()]=Y5(u):i.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Q9(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $1(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Q9(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){x3(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new as(Y5(this.value))}}function YS(n){const e=[];return x3(n.fields,(t,r)=>{const i=new bi([t]);if(Q9(r)){const a=YS(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new a0(e)}class jn{constructor(e,t,r,i,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new jn(e,0,At.min(),At.min(),as.empty(),0)}static newFoundDocument(e,t,r){return new jn(e,1,t,At.min(),r,0)}static newNoDocument(e,t){return new jn(e,2,t,At.min(),as.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,At.min(),as.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class X9{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Gb(n){return n.fields.find(e=>2===e.kind)}function L3(n){return n.fields.filter(e=>2!==e.kind)}X9.UNKNOWN_ID=-1;class eg{constructor(e,t){this.fieldPath=e,this.kind=t}}class Z5{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Z5(0,_l.min())}}function ZS(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=At.fromTimestamp(1e9===r?new Ar(t+1,0):new Ar(t,r));return new _l(i,Ye.empty(),e)}function Sj(n){return new _l(n.readTime,n.key,-1)}class _l{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new _l(At.min(),Ye.empty(),-1)}static max(){return new _l(At.max(),Ye.empty(),-1)}}function Mj(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}class Aj{constructor(e,t=null,r=[],i=[],a=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=p,this.P=null}}function KS(n,e=null,t=[],r=[],i=null,a=null,u=null){return new Aj(n,e,t,r,i,a,u)}function F3(n){const e=Ke(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+c0(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),k3(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>c0(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>c0(r)).join(",")),e.P=t}return e.P}function K5(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!zj(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!$1(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tM(n.startAt,e.startAt)&&tM(n.endAt,e.endAt)}function tg(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ng(n,e){return n.filters.filter(t=>t instanceof Ui&&t.field.isEqual(e))}function JS(n,e,t){let r,i=!0;for(const a of ng(n,e)){let u,p=!0;switch(a.op){case"<":case"<=":u=Tj(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,p=!1;break;case"!=":case"not-in":u=BS}WS(r,u)===u&&(r=u,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];WS(r,u)===u&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function QS(n,e,t){let r,i=!0;for(const a of ng(n,e)){let u,p=!0;switch(a.op){case">=":case">":u=Ij(a.value),p=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,p=!1;break;case"!=":case"not-in":u=HS}qS(r,u)===u&&(r=u,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];qS(r,u)===u&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class Ui extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new xj(e,t,r):"array-contains"===t?new Rj(e,r):"in"===t?new Pj(e,r):"not-in"===t?new Lj(e,r):"array-contains-any"===t?new Fj(e,r):new Ui(e,t,r)}static V(e,t,r){return"in"===t?new Oj(e,r):new kj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Z2(t,this.value)):null!==t&&R3(this.value)===R3(t)&&this.v(Z2(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ct()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xj extends Ui{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.v(t)}}class Oj extends Ui{constructor(e,t){super(e,"in",t),this.keys=XS(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kj extends Ui{constructor(e,t){super(e,"not-in",t),this.keys=XS(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function XS(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class Rj extends Ui{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return q5(t)&&W5(t.arrayValue,this.value)}}class Pj extends Ui{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&W5(this.value.arrayValue,t)}}class Lj extends Ui{constructor(e,t){super(e,"not-in",t)}matches(e){if(W5(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!W5(this.value.arrayValue,t)}}class Fj extends Ui{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!q5(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>W5(this.value.arrayValue,r))}}class K2{constructor(e,t){this.position=e,this.inclusive=t}}class l0{constructor(e,t="asc"){this.field=e,this.dir=t}}function zj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function eM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?Ye.comparator(Ye.fromName(u.referenceValue),t.key):Z2(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function tM(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$1(n.position[t],e.position[t]))return!1;return!0}class yl{constructor(e,t=null,r=[],i=[],a=null,u="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=p,this.endAt=v,this.D=null,this.C=null}}function nM(n,e,t,r,i,a,u,p){return new yl(n,e,t,r,i,a,u,p)}function u0(n){return new yl(n)}function rg(n){return!k3(n.limit)&&"F"===n.limitType}function ig(n){return!k3(n.limit)&&"L"===n.limitType}function $b(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Wb(n){for(const e of n.filters)if(e.S())return e.field;return null}function qb(n){return null!==n.collectionGroup}function d0(n){const e=Ke(n);if(null===e.D){e.D=[];const t=Wb(e),r=$b(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new l0(t)),e.D.push(new l0(bi.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new l0(bi.keyField(),a))}}}return e.D}function Ca(n){const e=Ke(n);if(!e.C)if("F"===e.limitType)e.C=KS(e.path,e.collectionGroup,d0(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of d0(e))t.push(new l0(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new K2(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new K2(e.startAt.position,!e.startAt.inclusive):null;e.C=KS(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function rM(n,e,t){return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function J5(n,e){return K5(Ca(n),Ca(e))&&n.limitType===e.limitType}function iM(n){return`${F3(Ca(n))}|lt:${n.limitType}`}function Yb(n){return`Query(target=${function Nj(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${c0(r.value)}`;var r}).join(", ")}]`),k3(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>c0(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>c0(t)).join(",")),`Target(${e})`}(Ca(n))}; limitType=${n.limitType})`}function Zb(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ye.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const p=eM(i,a,u);return i.inclusive?p<=0:p<0}(t.startAt,d0(t),r)||t.endAt&&!function(i,a,u){const p=eM(i,a,u);return i.inclusive?p>=0:p>0}(t.endAt,d0(t),r)));var t,r}function sM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oM(n){return(e,t)=>{let r=!1;for(const i of d0(n)){const a=Vj(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function Vj(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(i,a,u){const p=a.data.field(i),v=u.data.field(i);return null!==p&&null!==v?Z2(p,v):ct()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}function aM(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$5(e)?"-0":e}}function cM(n){return{integerValue:""+n}}function lM(n,e){return VS(e)?cM(e):aM(n,e)}class sg{constructor(){this._=void 0}}function Hj(n,e,t){return n instanceof h0?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof z3?dM(n,e):n instanceof V3?hM(n,e):function(r,i){const a=uM(r,i),u=fM(a)+fM(r.k);return jb(a)&&jb(r.k)?cM(u):aM(r.M,u)}(n,e)}function Bj(n,e,t){return n instanceof z3?dM(n,e):n instanceof V3?hM(n,e):t}function uM(n,e){return n instanceof f0?jb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class h0 extends sg{}class z3 extends sg{constructor(e){super(),this.elements=e}}function dM(n,e){const t=pM(e);for(const r of n.elements)t.some(i=>$1(i,r))||t.push(r);return{arrayValue:{values:t}}}class V3 extends sg{constructor(e){super(),this.elements=e}}function hM(n,e){let t=pM(e);for(const r of n.elements)t=t.filter(i=>!$1(i,r));return{arrayValue:{values:t}}}class f0 extends sg{constructor(e,t){super(),this.M=e,this.k=t}}function fM(n){return pr(n.integerValue||n.doubleValue)}function pM(n){return q5(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Q5{constructor(e,t){this.field=e,this.transform=t}}class jj{constructor(e,t){this.version=e,this.transformResults=t}}class jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function og(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ag{}function Gj(n,e,t){n instanceof X5?function(r,i,a){const u=r.value.clone(),p=_M(r.fieldTransforms,i,a.transformResults);u.setAll(p),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof H3?function(r,i,a){if(!og(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=_M(r.fieldTransforms,i,a.transformResults),p=i.data;p.setAll(vM(r)),p.setAll(u),i.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Kb(n,e,t){var i;n instanceof X5?function(r,i,a){if(!og(r.precondition,i))return;const u=r.value.clone(),p=yM(r.fieldTransforms,a,i);u.setAll(p),i.convertToFoundDocument(mM(i),u).setHasLocalMutations()}(n,e,t):n instanceof H3?function(r,i,a){if(!og(r.precondition,i))return;const u=yM(r.fieldTransforms,a,i),p=i.data;p.setAll(vM(r)),p.setAll(u),i.convertToFoundDocument(mM(i),p).setHasLocalMutations()}(n,e,t):og(n.precondition,i=e)&&i.convertToNoDocument(At.min())}function $j(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=uM(r.transform,i||null);null!=a&&(null==t&&(t=as.empty()),t.set(r.field,a))}return t||null}function gM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&o0(t,r,(i,a)=>function Uj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof z3&&r instanceof z3||t instanceof V3&&r instanceof V3?o0(t.elements,r.elements,$1):t instanceof f0&&r instanceof f0?$1(t.k,r.k):t instanceof h0&&r instanceof h0);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function mM(n){return n.isFoundDocument()?n.version:At.min()}class X5 extends ag{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class H3 extends ag{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function vM(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _M(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,p=e.data.field(a.field);r.set(a.field,Bj(u,p,t[i]))}return r}function yM(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,Hj(a,u,e))}return r}class e6 extends ag{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Jb extends ag{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Wj{constructor(e){this.count=e}}var Gr,cn;function bM(n){switch(n){default:return ct();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function CM(n){if(void 0===n)return Ur("GRPC error has no .code"),de.UNKNOWN;switch(n){case Gr.OK:return de.OK;case Gr.CANCELLED:return de.CANCELLED;case Gr.UNKNOWN:return de.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return de.INTERNAL;case Gr.UNAVAILABLE:return de.UNAVAILABLE;case Gr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Gr.NOT_FOUND:return de.NOT_FOUND;case Gr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Gr.ABORTED:return de.ABORTED;case Gr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Gr.DATA_LOSS:return de.DATA_LOSS;default:return ct()}}(cn=Gr||(Gr={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class J2{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){x3(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return FS(this.inner)}size(){return this.innerSize}}class Nr{constructor(e,t){this.comparator=e,this.root=t||ji.EMPTY}insert(e,t){return new Nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new Nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cg(this.root,e,this.comparator,!1)}getReverseIterator(){return new cg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cg(this.root,e,this.comparator,!0)}}class cg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:ji.RED,this.left=null!=i?i:ji.EMPTY,this.right=null!=a?a:ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ji(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ji.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ji(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gn{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wM(this.data.getIterator())}getIteratorFrom(e){return new wM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gn(this.comparator);return t.data=e,t}}class wM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function p0(n){return n.hasNext()?n.getNext():void 0}const qj=new Nr(Ye.comparator);function wa(){return qj}const Yj=new Nr(Ye.comparator);function Qb(){return Yj}function t6(){return new J2(n=>n.toString(),(n,e)=>n.isEqual(e))}const Zj=new Nr(Ye.comparator),Kj=new Gn(Ye.comparator);function _n(...n){let e=Kj;for(const t of n)e=e.add(t);return e}const Jj=new Gn(jt);function lg(){return Jj}class n6{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,r6.createSynthesizedTargetChangeForCurrentChange(e,t)),new n6(At.min(),r,lg(),wa(),_n())}}class r6{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new r6(Xr.EMPTY_BYTE_STRING,t,_n(),_n(),_n())}}class ug{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class DM{constructor(e,t){this.targetId=e,this.$=t}}class EM{constructor(e,t,r=Xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class TM{constructor(){this.B=0,this.L=SM(),this.U=Xr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=_n(),t=_n(),r=_n();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ct()}}),new r6(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=SM()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Qj{constructor(e){this.nt=e,this.st=new Map,this.it=wa(),this.rt=IM(),this.ot=new Gn(jt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(tg(a))if(0===r){const u=new Ye(a.path);this.ct(t,u,jn.newNoDocument(u,At.min()))}else xt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,u)=>{const p=this.wt(u);if(p){if(a.current&&tg(p.target)){const v=new Ye(p.target.path);null!==this.it.get(v)||this.It(u,v)||this.ct(u,v,jn.newNoDocument(v,e))}a.j&&(t.set(u,a.H()),a.J())}});let r=_n();this.rt.forEach((a,u)=>{let p=!0;u.forEachWhile(v=>{const w=this.wt(v);return!w||2===w.purpose||(p=!1,!1)}),p&&(r=r.add(a))}),this.it.forEach((a,u)=>u.setReadTime(e));const i=new n6(e,t,this.ot,this.it,r);return this.it=wa(),this.rt=IM(),this.ot=new Gn(jt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new TM,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Gn(jt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new TM),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function IM(){return new Nr(Ye.comparator)}function SM(){return new Nr(Ye.comparator)}const Xj={asc:"ASCENDING",desc:"DESCENDING"},eG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class tG{constructor(e,t){this.databaseId=e,this.N=t}}function i6(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MM(n,e){return n.N?e.toBase64():e.toUint8Array()}function nG(n,e){return i6(n,e.toTimestamp())}function Ci(n){return xt(!!n),At.fromTimestamp(function(e){const t=Y2(e);return new Ar(t.seconds,t.nanos)}(n))}function Xb(n,e){return(t=n,new an(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function AM(n){const e=an.fromString(n);return xt(zM(e)),e}function s6(n,e){return Xb(n.databaseId,e.path)}function W1(n,e){const t=AM(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(xM(t))}function eC(n,e){return Xb(n.databaseId,e)}function NM(n){const e=AM(n);return 4===e.length?an.emptyPath():xM(e)}function o6(n){return new an(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xM(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function OM(n,e,t){return{name:s6(n,e),fields:t.value.mapValue.fields}}function kM(n,e,t){const r=W1(n,e.name),i=Ci(e.updateTime),a=new as({mapValue:{fields:e.fields}}),u=jn.newFoundDocument(r,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function a6(n,e){let t;if(e instanceof X5)t={update:OM(n,e.key,e.value)};else if(e instanceof e6)t={delete:s6(n,e.key)};else if(e instanceof H3)t={update:OM(n,e.key,e.data),updateMask:dG(e.fieldMask)};else{if(!(e instanceof Jb))return ct();t={verify:s6(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof h0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof z3)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof V3)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof f0)return{fieldPath:a.field.canonicalString(),increment:u.k};throw ct()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:nG(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ct()),t;var i}function tC(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?jr.updateTime(Ci(i.updateTime)):void 0!==i.exists?jr.exists(i.exists):jr.none():jr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let p=null;"setToServerValue"in u?(xt("REQUEST_TIME"===u.setToServerValue),p=new h0):"appendMissingElements"in u?p=new z3(u.appendMissingElements.values||[]):"removeAllFromArray"in u?p=new V3(u.removeAllFromArray.values||[]):"increment"in u?p=new f0(a,u.increment):ct();const v=bi.fromServerFormat(u.fieldPath);return new Q5(v,p)}(n,i)):[];var i;if(e.update){const i=W1(n,e.update.name),a=new as({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new a0((e.updateMask.fieldPaths||[]).map(w=>bi.fromServerFormat(w)));return new H3(i,a,u,t,r)}return new X5(i,a,t,r)}if(e.delete){const i=W1(n,e.delete);return new e6(i,t)}if(e.verify){const i=W1(n,e.verify);return new Jb(i,t)}return ct()}function RM(n,e){return{documents:[eC(n,e.path)]}}function PM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=eC(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=eC(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0===v.length)return;const w=v.map(I=>function(A){if("=="===A.op){if(GS(A.value))return{unaryFilter:{field:g0(A.field),op:"IS_NAN"}};if(jS(A.value))return{unaryFilter:{field:g0(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(GS(A.value))return{unaryFilter:{field:g0(A.field),op:"IS_NOT_NAN"}};if(jS(A.value))return{unaryFilter:{field:g0(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:g0(A.field),op:cG(A.op),value:A.value}}}(I));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(v){if(0!==v.length)return v.map(w=>{return{field:g0((I=w).field),direction:aG(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(w=e.limit,n.N||k3(w)?w:{value:w});var w,p,v;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function LM(n){let e=NM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=FM(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new l0(m0((A=I).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let p=null;t.limit&&(p=function(I){let A;return A="object"==typeof I?I.value:I,k3(A)?null:A}(t.limit));let v=null;var I;t.startAt&&(v=new K2((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new K2(I.values||[],!I.before)}(t.endAt)),nM(e,i,u,a,p,"F",v,w)}function FM(n){return n?void 0!==n.unaryFilter?[uG(n)]:void 0!==n.fieldFilter?[lG(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>FM(e)).reduce((e,t)=>e.concat(t)):ct():[]}function aG(n){return Xj[n]}function cG(n){return eG[n]}function g0(n){return{fieldPath:n.canonicalString()}}function m0(n){return bi.fromServerFormat(n.fieldPath)}function lG(n){return Ui.create(m0(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function uG(n){switch(n.unaryFilter.op){case"IS_NAN":const e=m0(n.unaryFilter.field);return Ui.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=m0(n.unaryFilter.field);return Ui.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=m0(n.unaryFilter.field);return Ui.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=m0(n.unaryFilter.field);return Ui.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function dG(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Os(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VM(e)),e=hG(n.get(t),e);return VM(e)}function hG(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function VM(n){return n+"\x01\x01"}function q1(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),an.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&ct(),n.charAt(u+1)){case"\x01":const p=n.substring(a,u);let v;0===i.length?v=p:(i+=p,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:ct()}a=u+2}return new an(r)}const HM=["userId","batchId"];function dg(n,e){return[n,Os(e)]}function BM(n,e,t){return[n,Os(e),t]}const fG={},pG=["prefixPath","collectionGroup","readTime","documentId"],gG=["prefixPath","collectionGroup","documentId"],mG=["collectionGroup","readTime","prefixPath","documentId"],vG=["canonicalId","targetId"],_G=["targetId","path"],yG=["path","targetId"],bG=["collectionId","parent"],CG=["indexId","uid"],wG=["uid","sequenceNumber"],DG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],EG=["indexId","uid","orderedDocumentKey"],TG=["userId","collectionPath","documentId"],IG=["userId","collectionPath","largestBatchId"],SG=["userId","collectionGroup","largestBatchId"],UM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],MG=[...UM,"documentOverlays"],jM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AG=[...jM,"indexConfiguration","indexState","indexEntries"],GM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let i=0,a=0,u=!1;e.forEach(p=>{++i,p.next(()=>{++a,u&&a===i&&t()},v=>r(v))}),u=!0,a===i&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(i=>i?pe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class hg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new yi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new c6(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=nC(r.target.error);this.At.reject(new c6(e,i))}}static open(e,t,r,i){try{return new hg(t,e.transaction(i,r))}catch(a){throw new c6(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new xG(t)}}class r1{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===r1.Vt((0,Yt.z$)())&&Ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),U3(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Yt.hl)())return!1;if(r1.St())return!0;const e=(0,Yt.z$)(),t=r1.Vt(e),r=0<t&&t<10,i=r1.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new c6(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const p=u.target.error;i("VersionError"===p.name?new xe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new xe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new c6(e,p))},a.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.bt.kt(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,ye.Z)(function*(){const u="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.Nt(e);const v=hg.open(a.db,e,u?"readonly":"readwrite",r),w=i(v).next(I=>(v.Pt(),I)).catch(I=>(v.abort(I),pe.reject(I))).toPromise();return w.catch(()=>{}),yield v.Rt,w}catch(v){const w="FirebaseError"!==v.name&&p<3;if(Fe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",w),a.close(),!w)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class NG{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return U3(this.Ft.delete())}}class c6 extends xe{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function B3(n){return"IndexedDbTransactionError"===n.name}class xG{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),U3(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),U3(this.store.add(e))}get(e){return U3(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),U3(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),U3(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(u,p)=>{a.push(p)}).next(()=>a)}{const i=this.store.getAll(r.range);return new pe((a,u)=>{i.onerror=p=>{u(p.target.error)},i.onsuccess=p=>{a(p.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new pe((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Qt(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,u,p)=>p.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new pe((r,i)=>{t.onerror=a=>{const u=nC(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(p=>{p?u.continue():r()}):r()}})}Kt(e,t){const r=[];return new pe((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const p=u.target.result;if(!p)return void i();const v=new NG(p),w=t(p.primaryKey,p.value,v);if(w instanceof pe){const I=w.catch(A=>(v.done(),pe.reject(A)));r.push(I)}v.isDone?i():null===v.Lt?p.continue():p.continue(v.Lt)}}).next(()=>pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function U3(n){return new pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=nC(r.target.error);t(i)}})}let WM=!1;function nC(n){const e=r1.Vt((0,Yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return WM||(WM=!0,setTimeout(()=>{throw r},0)),r}}return n}class qM extends $M{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function wi(n,e){const t=Ke(n);return r1.xt(t.Ht,e)}class rC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Gj(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Kb(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Kb(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&o0(this.mutations,e.mutations,(t,r)=>gM(t,r))&&o0(this.baseMutations,e.baseMutations,(t,r)=>gM(t,r))}}class iC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=Zj;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new iC(e,t,r,i)}}class sC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Q2{constructor(e,t,r,i,a=At.min(),u=At.min(),p=Xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p}withSequenceNumber(e){return new Q2(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Q2(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Q2(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class YM{constructor(e){this.Jt=e}}function ZM(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:fg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:s6(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:i6(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:j3(e.version)};else{if(!e.isUnknownDocument())return ct();r.unknownDocument={path:t.path.toArray(),version:j3(e.version)}}var i,a;return r}function fg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function j3(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function G3(n){const e=new Ar(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function v0(n,e){const t=(e.baseMutations||[]).map(a=>tC(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>tC(n.Jt,a)),i=Ar.fromMillis(e.localWriteTimeMs);return new rC(e.batchId,i,t,r)}function l6(n){const e=G3(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?G3(n.lastLimboFreeSnapshotVersion):At.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=Ca(u0(NM(i.documents[0])))):r=Ca(LM(n.query)),new Q2(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Xr.fromBase64String(n.resumeToken))}function KM(n,e){const t=j3(e.snapshotVersion),r=j3(e.lastLimboFreeSnapshotVersion);let i;i=tg(e.target)?RM(n.Jt,e.target):PM(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:F3(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function oC(n){const e=LM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rM(e,e.limit,"L"):e}function aC(n,e){return new sC(e.largestBatchId,tC(n.Jt,e.overlayMutation))}function JM(n,e){const t=e.path.lastSegment();return[n,Os(e.path.popLast()),t]}class kG{getBundleMetadata(e,t){return QM(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:G3(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return QM(e).put({bundleId:(r=t).id,createTime:j3(Ci(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return XM(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:oC(i.bundledQuery),readTime:G3(i.readTime)};var i})}saveNamedQuery(e,t){return XM(e).put({name:(r=t).name,readTime:j3(Ci(r.readTime)),bundledQuery:r.bundledQuery});var r}}function QM(n){return wi(n,"bundles")}function XM(n){return wi(n,"namedQueries")}class cC{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new cC(e,t.uid||"")}getOverlay(e,t){return u6(e).get(JM(this.userId,t)).next(r=>r?aC(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const p=new sC(t,u);i.push(this.Xt(e,p))}),pe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Os(u.getCollectionPath())));const a=[];return i.forEach(u=>{const p=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(u6(e).Qt("collectionPathOverlayIndex",p))}),pe.waitFor(a)}getOverlaysForCollection(e,t,r){const i=t6(),a=Os(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return u6(e).qt("collectionPathOverlayIndex",u).next(p=>{for(const v of p){const w=aC(this.M,v);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=t6();let u;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return u6(e).Wt({index:"collectionGroupOverlayIndex",range:p},(v,w,I)=>{const A=aC(this.M,w);a.size()<i||A.largestBatchId===u?(a.set(A.getKey(),A),u=A.largestBatchId):I.done()}).next(()=>a)}Xt(e,t){return u6(e).put(function(r,i,a){const[u,p,v]=JM(i,a.mutation.key);return{userId:i,collectionPath:p,documentId:v,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:a6(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function u6(n){return wi(n,"documentOverlays")}class $3{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(pr(e.integerValue));else if("doubleValue"in e){const r=pr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),$5(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(O3(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?$S(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ct()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ye.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function RG(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function eA(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=RG(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}$3.fe=new $3;class PG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=eA(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=eA(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class LG{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class FG{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class d6{constructor(){this.De=new PG,this.Ce=new LG(this.De),this.xe=new FG(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class X2{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new X2(this.indexId,this.documentKey,this.arrayValue,r)}}function W3(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=tA(n.arrayValue,e.arrayValue),0!==t?t:(t=tA(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function tA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class zG{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Gb(e);if(void 0!==t&&!this.Be(t))return!1;const r=L3(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const u=r[i];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class VG{constructor(){this.qe=new lC}addToCollectionParentIndex(e,t){return this.qe.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getFieldIndex(e,t){return pe.resolve(null)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class lC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Gn(an.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gn(an.comparator)).toArray()}}const _0=new Uint8Array(0);class HG{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new lC,this.Ge=new J2(r=>F3(r),(r,i)=>K5(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:Os(i)};return nA(e).put(a)}return pe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[PS(t),""],!1,!0);return nA(e).qt(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(q1(u.parent))}return r})}addFieldIndex(e,t){const r=pg(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=pg(e),i=gg(e),a=h6(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=h6(e);let i=!0;const a=new Map;return pe.forEach(this.Qe(t),u=>this.getFieldIndex(e,u).next(p=>{i&&(i=!!p),a.set(u,p)})).next(()=>{if(i){let u=_n();const p=[];return pe.forEach(a,(v,w)=>{var I;Fe("IndexedDbIndexManager",`Using index ${I=v,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(We=>`${We.fieldPath}:${We.kind}`).join(",")}`} to execute ${F3(t)}`);const A=function(We,He){const je=Gb(He);if(void 0===je)return null;for(const Xe of ng(We,je.fieldPath))switch(Xe.op){case"array-contains-any":return Xe.value.arrayValue.values||[];case"array-contains":return[Xe.value]}return null}(w,v),k=function(We,He){const je=new Map;for(const Xe of L3(He))for(const It of ng(We,Xe.fieldPath))switch(It.op){case"==":case"in":je.set(Xe.fieldPath.canonicalString(),It.value);break;case"not-in":case"!=":return je.set(Xe.fieldPath.canonicalString(),It.value),Array.from(je.values())}return null}(w,v),F=function(We,He){const je=[];let Xe=!0;for(const It of L3(He)){const Ht=0===It.kind?JS(We,It.fieldPath,We.startAt):QS(We,It.fieldPath,We.startAt);if(!Ht.value)return null;je.push(Ht.value),Xe&&(Xe=Ht.inclusive)}return new K2(je,Xe)}(w,v),W=function(We,He){const je=[];let Xe=!0;for(const It of L3(He)){const Ht=0===It.kind?QS(We,It.fieldPath,We.endAt):JS(We,It.fieldPath,We.endAt);if(!Ht.value)return null;je.push(Ht.value),Xe&&(Xe=Ht.inclusive)}return new K2(je,Xe)}(w,v),te=this.je(v,w,F),De=this.je(v,w,W),Ve=this.We(v,w,k),Pe=this.ze(v.indexId,A,te,!!F&&F.inclusive,De,!!W&&W.inclusive,Ve);return pe.forEach(Pe,We=>r.Gt(We,t.limit).next(He=>{He.forEach(je=>{const Xe=Ye.fromSegments(je.documentKey);u.has(Xe)||(u=u.add(Xe),p.push(Xe))})}))}).next(()=>p)}return pe.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,a,u,p){const v=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),w=v/(null!=t?t.length:1),I=[];for(let A=0;A<v;++A){const k=t?this.He(t[A/w]):_0,F=r?this.Je(e,k,r[A%w],i):this.Ye(e),W=a?this.Xe(e,k,a[A%w],u):this.Ye(e+1);I.push(...this.createRange(F,W,p.map(te=>this.Je(e,k,te,!0))))}return I}Je(e,t,r,i){const a=new X2(e,Ye.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new X2(e,Ye.empty(),t,r);return i?a.ke():a}Ye(e){return new X2(e,Ye.empty(),_0,_0)}getFieldIndex(e,t){const r=new zG(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const u=a.filter(p=>r.$e(p));return u.sort((p,v)=>v.fields.length-p.fields.length),u.length>0?u[0]:null})}Ze(e,t){const r=new d6;for(const i of L3(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.Ne(i.kind);$3.fe.Zt(a,u)}return r.Se()}He(e){const t=new d6;return $3.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new d6;return $3.fe.Zt(P3(this.databaseId,t),r.Ne(function(i){const a=L3(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new d6);let a=0;for(const u of L3(e)){const p=r[a++];for(const v of i)if(this.en(t,u.fieldPath)&&q5(p))i=this.nn(i,u,p);else{const w=v.Ne(u.kind);$3.fe.Zt(p,w)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const p of i){const v=new d6;v.seed(p.Se()),$3.fe.Zt(u,v.Ne(t.kind)),a.push(v)}return a}en(e,t){return!!e.filters.find(r=>r instanceof Ui&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=pg(e),i=gg(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const u=[];return pe.forEach(a,p=>i.get([p.indexId,this.uid]).next(v=>{u.push(function(w,I){const A=I?new Z5(I.sequenceNumber,new _l(G3(I.readTime),new Ye(q1(I.documentKey)),I.largestBatchId)):Z5.empty(),k=w.fields.map(([F,W])=>new eg(bi.fromServerFormat(F),W));return new X9(w.indexId,w.collectionGroup,k,A)}(p,v))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:jt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=pg(e),a=gg(e);return this.rn(e).next(u=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>pe.forEach(p,v=>{return a.put({indexId:v.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:j3((k=r).readTime),documentKey:Os(k.documentKey.path),largestBatchId:k.largestBatchId});var k})))}updateIndexEntries(e,t){const r=new Map;return pe.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?pe.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),pe.forEach(p,v=>this.on(e,i,v).next(w=>{const I=this.un(a,v);return w.isEqual(I)?pe.resolve():this.an(e,a,v,w,I)}))))})}cn(e,t,r,i){return h6(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return h6(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=h6(e);let a=new Gn(W3);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(u,p)=>{a=a.add(new X2(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>a)}un(e,t){let r=new Gn(W3);const i=this.Ze(t,e);if(null==i)return r;const a=Gb(t);if(null!=a){const u=e.data.field(a.fieldPath);if(q5(u))for(const p of u.arrayValue.values||[])r=r.add(new X2(t.indexId,e.key,this.He(p),i))}else r=r.add(new X2(t.indexId,e.key,_0,i));return r}an(e,t,r,i,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(p,v,w,I,A){const k=p.getIterator(),F=v.getIterator();let W=p0(k),te=p0(F);for(;W||te;){let De=!1,Ve=!1;if(W&&te){const Pe=w(W,te);Pe<0?Ve=!0:Pe>0&&(De=!0)}else null!=W?Ve=!0:De=!0;De?(I(te),te=p0(F)):Ve?(A(W),W=p0(k)):(W=p0(k),te=p0(F))}}(i,a,W3,p=>{u.push(this.cn(e,t,r,p))},p=>{u.push(this.hn(e,t,r,p))}),pe.waitFor(u)}rn(e){let t=1;return gg(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,p)=>W3(u,p)).filter((u,p,v)=>!p||0!==W3(u,v[p-1]));const i=[];i.push(e);for(const u of r){const p=W3(u,e),v=W3(u,t);if(0===p)i[0]=e.ke();else if(p>0&&v<0)i.push(u),i.push(u.ke());else if(v>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,_0,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,_0,[]]));return a}}function nA(n){return wi(n,"collectionParents")}function h6(n){return wi(n,"indexEntries")}function pg(n){return wi(n,"indexConfiguration")}function gg(n){return wi(n,"indexState")}const rA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ho{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ho(e,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iA(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let p=0;const v=r.Wt({range:u},(I,A,k)=>(p++,k.delete()));a.push(v.next(()=>{xt(1===p)}));const w=[];for(const I of t.mutations){const A=BM(e,I.key.path,t.batchId);a.push(i.delete(A)),w.push(I.key)}return pe.waitFor(a).next(()=>w)}function mg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ct();e=n.noDocument}return JSON.stringify(e).length}ho.DEFAULT_COLLECTION_PERCENTILE=10,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ho.DEFAULT=new ho(41943040,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ho.DISABLED=new ho(-1,0,0);class uC{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){xt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new uC(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return eu(e).Wt({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=y0(e),u=eu(e);return u.add({}).next(p=>{xt("number"==typeof p);const v=new rC(p,t,r,i),w=function(k,F,W){const te=W.baseMutations.map(Ve=>a6(k.Jt,Ve)),De=W.mutations.map(Ve=>a6(k.Jt,Ve));return{userId:F,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:te,mutations:De}}(this.M,this.userId,v),I=[];let A=new Gn((k,F)=>jt(k.canonicalString(),F.canonicalString()));for(const k of i){const F=BM(this.userId,k.key.path,p);A=A.add(k.key.path.popLast()),I.push(u.put(w)),I.push(a.put(F,fG))}return A.forEach(k=>{I.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.ln[p]=v.keys()}),pe.waitFor(I).next(()=>v)})}lookupMutationBatch(e,t){return eu(e).get(t).next(r=>r?(xt(r.userId===this.userId),v0(this.M,r)):null)}fn(e,t){return this.ln[t]?pe.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return eu(e).Wt({index:"userMutationsIndex",range:i},(u,p,v)=>{p.userId===this.userId&&(xt(p.batchId>=r),a=v0(this.M,p)),v.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return eu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return eu(e).qt("userMutationsIndex",t).next(r=>r.map(i=>v0(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=dg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return y0(e).Wt({range:i},(u,p,v)=>{const[w,I,A]=u,k=q1(I);if(w===this.userId&&t.path.isEqual(k))return eu(e).get(A).next(F=>{if(!F)throw ct();xt(F.userId===this.userId),a.push(v0(this.M,F))});v.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gn(jt);const i=[];return t.forEach(a=>{const u=dg(this.userId,a.path),p=IDBKeyRange.lowerBound(u),v=y0(e).Wt({range:p},(w,I,A)=>{const[k,F,W]=w,te=q1(F);k===this.userId&&a.path.isEqual(te)?r=r.add(W):A.done()});i.push(v)}),pe.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=dg(this.userId,r),u=IDBKeyRange.lowerBound(a);let p=new Gn(jt);return y0(e).Wt({range:u},(v,w,I)=>{const[A,k,F]=v,W=q1(k);A===this.userId&&r.isPrefixOf(W)?W.length===i&&(p=p.add(F)):I.done()}).next(()=>this.dn(e,p))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(eu(e).get(a).next(u=>{if(null===u)throw ct();xt(u.userId===this.userId),r.push(v0(this.M,u))}))}),pe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return iA(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),pe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return y0(e).Wt({range:r},(a,u,p)=>{if(a[0]===this.userId){const v=q1(a[1]);i.push(v)}else p.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return sA(e,this.userId,t)}wn(e){return oA(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sA(n,e,t){const r=dg(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return y0(n).Wt({range:a,jt:!0},(p,v,w)=>{const[I,A,k]=p;I===e&&A===i&&(u=!0),w.done()}).next(()=>u)}function eu(n){return wi(n,"mutations")}function y0(n){return wi(n,"documentMutations")}function oA(n){return wi(n,"mutationQueues")}class q3{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new q3(0)}static yn(){return new q3(-1)}}class BG{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new q3(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>At.fromTimestamp(new Ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>b0(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return b0(e).Wt((u,p)=>{const v=l6(p);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,a.push(this.removeTargetData(e,v)))}).next(()=>pe.waitFor(a)).next(()=>i)}forEachTarget(e,t){return b0(e).Wt((r,i)=>{const a=l6(i);t(a)})}pn(e){return aA(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}In(e,t){return aA(e).put("targetGlobalKey",t)}Tn(e,t){return b0(e).put(KM(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=F3(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return b0(e).Wt({range:i,index:"queryTargetsIndex"},(u,p,v)=>{const w=l6(p);K5(t,w.target)&&(a=w,v.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=tu(e);return t.forEach(u=>{const p=Os(u.path);i.push(a.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,u))}),pe.waitFor(i)}removeMatchingKeys(e,t,r){const i=tu(e);return pe.forEach(t,a=>{const u=Os(a.path);return pe.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=tu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=tu(e);let a=_n();return i.Wt({range:r,jt:!0},(u,p,v)=>{const w=q1(u[1]),I=new Ye(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=Os(t.path),i=IDBKeyRange.bound([r],[PS(r)],!1,!0);let a=0;return tu(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([u,p],v,w)=>{0!==u&&(a++,w.done())}).next(()=>a>0)}Et(e,t){return b0(e).get(t).next(r=>r?l6(r):null)}}function b0(n){return wi(n,"targets")}function aA(n){return wi(n,"targetGlobal")}function tu(n){return wi(n,"targetDocuments")}function Y3(n){return dC.apply(this,arguments)}function dC(){return dC=(0,ye.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==GM)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),dC.apply(this,arguments)}function cA([n,e],[t,r]){const i=jt(n,t);return 0===i?jt(e,r):i}class UG{constructor(e){this.An=e,this.buffer=new Gn(cA),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();cA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jG{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){B3(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Y3(i)}yield t.Sn(e)}))}}class GG{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(Zo.A);const r=new UG(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(rA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rA):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,u,p,v,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,u=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,p=Date.now(),this.removeTargets(e,r,t))).next(A=>(a=A,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(w=Date.now(),Vb()<=t1.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${i} in `+(p-u)+`ms\n\tRemoved ${a} targets in `+(v-p)+`ms\n\tRemoved ${A} documents in `+(w-v)+`ms\nTotal Duration: ${w-I}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class $G{constructor(e,t){this.db=e,this.garbageCollector=new GG(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return vg(e,r)}removeReference(e,t,r){return vg(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return vg(e,t)}On(e,t){return function(r,i){let a=!1;return oA(r).zt(u=>sA(r,u,i).next(p=>(p&&(a=!0),pe.resolve(!p)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(u,p)=>{if(p<=t){const v=this.On(e,u).next(w=>{if(!w)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,At.min()),tu(e).delete([0,Os(u.path)])))});i.push(v)}}).next(()=>pe.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return vg(e,t)}Mn(e,t){const r=tu(e);let i,a=Zo.A;return r.Wt({index:"documentTargetsIndex"},([u,p],{path:v,sequenceNumber:w})=>{0===u?(a!==Zo.A&&t(new Ye(q1(i)),a),a=w,i=v):a=Zo.A}).next(()=>{a!==Zo.A&&t(new Ye(q1(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vg(n,e){return tu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Os(e.path),sequenceNumber:r}));var r}class lA{constructor(){this.changes=new J2(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class WG{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Z3(e).put(r)}removeEntry(e,t,r){return Z3(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],fg(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=jn.newInvalidDocument(t);return Z3(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(f6(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:jn.newInvalidDocument(t)};return Z3(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(f6(t))},(i,a)=>{r={document:this.$n(t,a),size:mg(a)}}).next(()=>r)}getEntries(e,t){let r=wa();return this.Ln(e,t,(i,a)=>{const u=this.$n(i,a);r=r.insert(i,u)}).next(()=>r)}Un(e,t){let r=wa(),i=new Nr(Ye.comparator);return this.Ln(e,t,(a,u)=>{const p=this.$n(a,u);r=r.insert(a,p),i=i.insert(a,mg(u))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return pe.resolve();let i=new Gn(hA);t.forEach(v=>i=i.add(v));const a=IDBKeyRange.bound(f6(i.first()),f6(i.last())),u=i.getIterator();let p=u.getNext();return Z3(e).Wt({index:"documentKeyIndex",range:a},(v,w,I)=>{const A=Ye.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;p&&hA(p,A)<0;)r(p,null),p=u.getNext();p&&p.isEqual(A)&&(r(p,w),p=u.hasNext()?u.getNext():null),p?I.Ut(f6(p)):I.done()}).next(()=>{for(;p;)r(p,null),p=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),fg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Z3(e).qt(IDBKeyRange.bound(i,a,!0)).next(u=>{let p=wa();for(const v of u){const w=this.$n(Ye.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);p=p.insert(w.key,w)}return p})}getAllFromCollectionGroup(e,t,r,i){let a=wa();const u=dA(t,r),p=dA(t,_l.max());return Z3(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,p,!0)},(v,w,I)=>{const A=this.$n(Ye.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(A.key,A),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new qG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return uA(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Fn(e,t){return uA(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function OG(n,e){let t;if(e.document)t=kM(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ye.fromSegments(e.noDocument.path),i=G3(e.noDocument.readTime);t=jn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ct();{const r=Ye.fromSegments(e.unknownDocument.path),i=G3(e.unknownDocument.version);t=jn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Ar(r[0],r[1]);return At.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(At.min()))return r}return jn.newInvalidDocument(e)}}class qG extends lA{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new J2(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Gn((a,u)=>jt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const p=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,p.readTime)),u.isValidDocument()){const v=ZM(this.Kn.M,u);i=i.add(a.path.popLast()),r+=mg(v)-p.size,t.push(this.Kn.addEntry(e,a,v))}else if(r-=p.size,this.trackRemovals){const v=ZM(this.Kn.M,u.convertToNoDocument(At.min()));t.push(this.Kn.addEntry(e,a,v))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),pe.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,u)=>{this.Gn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function uA(n){return wi(n,"remoteDocumentGlobal")}function Z3(n){return wi(n,"remoteDocumentsV14")}function f6(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dA(n,e){const t=e.documentKey.path.toArray();return[n,fg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hA(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=jt(t[a],r[a]),i)return i;return i=jt(t.length,r.length),i||(i=jt(t[t.length-2],r[r.length-2]),i||jt(t[t.length-1],r[r.length-1]))}class YG{constructor(e){this.M=e}kt(e,t,r,i){const a=new hg("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HM,{unique:!0}),p.createObjectStore("documentMutations"),fA(e),function(p){p.createObjectStore("remoteDocuments")}(e));let u=pe.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),fA(e)),u=u.next(()=>function(p){const v=p.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(p,v){return v.store("mutations").qt().next(w=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HM,{unique:!0});const I=v.store("mutations"),A=w.map(k=>I.put(k));return pe.waitFor(A)})}(e,a))),u=u.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Qn(a))),r<6&&i>=6&&(u=u.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(u=u.next(()=>this.Wn(a))),r<8&&i>=8&&(u=u.next(()=>this.zn(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.Hn(a))),r<11&&i>=11&&(u=u.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:TG});v.createIndex("collectionPathOverlayIndex",IG,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",SG,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:pG});v.createIndex("documentKeyIndex",gG),v.createIndex("collectionGroupIndex",mG)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:CG}).createIndex("sequenceNumberIndex",wG,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:DG}).createIndex("documentKeyIndex",EG,{unique:!1})}(e)})),u}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=mg(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>pe.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",u).next(p=>pe.forEach(p,v=>{xt(v.userId===a.userId);const w=v0(this.M,v);return iA(e,a.userId,w).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((u,p)=>{const v=new an(u),w=[0,Os(v)];a.push(t.get(w).next(I=>I?pe.resolve():t.put({targetId:0,path:Os(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>pe.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:bG});const r=t.store("collectionParents"),i=new lC,a=u=>{if(i.add(u)){const p=u.lastSegment(),v=u.popLast();return r.put({collectionId:p,parent:Os(v)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,p)=>{const v=new an(u);return a(v.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,p,v],w)=>{const I=q1(p);return a(I.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=l6(i),u=KM(this.M,a);return t.put(u)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,u)=>{const p=t.store("remoteDocumentsV14"),v=(w=u,w.document?new Ye(an.fromString(w.document.name).popFirst(5)):w.noDocument?Ye.fromSegments(w.noDocument.path):w.unknownDocument?Ye.fromSegments(w.unknownDocument.path):ct()).path.toArray();var w;const I={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(p.put(I))}).next(()=>pe.waitFor(i))}}function fA(n){n.createObjectStore("targetDocuments",{keyPath:_G}).createIndex("documentTargetsIndex",yG,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vG,{unique:!0}),n.createObjectStore("targetGlobal")}const hC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fC{constructor(e,t,r,i,a,u,p,v,w,I,A=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=u,this.document=p,this.Xn=w,this.Zn=I,this.ts=A,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=k=>Promise.resolve(),!fC.vt())throw new xe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $G(this,i),this.hs=t+"main",this.M=new YM(v),this.ls=new r1(this.hs,this.ts,new YG(this.M)),this.fs=new BG(this.referenceDelegate,this.M),this.ds=new WG(this.M),this._s=new kG,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===I&&Ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(de.FAILED_PRECONDITION,hC);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Zo(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,ye.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_g(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(B3(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return p6(e).get("owner").next(t=>pe.resolve(this.bs(t)))}Vs(e){return _g(e).delete(this.clientId)}vs(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=wi(r,"clientMetadata");return i.qt().next(a=>{const u=e.Ds(a,18e5),p=a.filter(v=>-1===u.indexOf(v));return pe.forEach(p,v=>i.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?pe.resolve(!0):p6(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new xe(de.FAILED_PRECONDITION,hC);return!1}}return!(!this.networkEnabled||!this.inForeground)||_g(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new qM(t,Zo.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>_g(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return uC.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new HG(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return cC.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(u=this.ts)?AG:13===u?jM:12===u?MG:11===u?UM:void ct();var u;let p;return this.ls.runTransaction(e,i,a,v=>(p=new qM(v,this.es?this.es.next():Zo.A),"readwrite-primary"===t?this.Es(p).next(w=>!!w||this.As(p)).next(w=>{if(!w)throw Ur(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new xe(de.FAILED_PRECONDITION,GM);return r(p)}).next(w=>this.Ps(p).next(()=>w)):this.$s(p).next(()=>r(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}$s(e){return p6(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(de.FAILED_PRECONDITION,hC)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return p6(e).put("owner",t)}static vt(){return r1.vt()}Rs(e){const t=p6(e);return t.get("owner").next(r=>this.bs(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ur(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Yt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ur("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Ur("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function p6(n){return wi(n,"owner")}function _g(n){return wi(n,"clientMetadata")}function pC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class ZG{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Ye.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):qb(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Ye(t)).next(r=>{let i=Qb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=Qb();return this.indexManager.getCollectionParents(e,i).next(u=>pe.forEach(u,p=>{const v=(w=t,I=p.child(i),new yl(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.zs(e,v,r).next(w=>{w.forEach((I,A)=>{a=a.insert(I,A)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const u of a)for(const p of u.mutations){const v=p.key;let w=i.get(v);null==w&&(w=jn.newInvalidDocument(v),i=i.insert(v,w)),Kb(p,w,u.localWriteTime),w.isFoundDocument()||(i=i.remove(v))}}).next(()=>(i.forEach((a,u)=>{Zb(t,u)||(i=i.remove(a))}),i))}}class gC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=_n(),i=_n();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new gC(e,t.fromCache,r,i)}}class pA{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(At.min())?this.ti(e,t):this.Zs.Ks(e,i).next(a=>{const u=this.ei(t,a);return(rg(t)||ig(t))&&this.ni(t.limitType,u,i,r)?this.ti(e,t):(Vb()<=t1.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yb(t)),this.Zs.Qs(e,t,ZS(r,-1)).next(p=>(u.forEach(v=>{p=p.insert(v.key,v)}),p)))});var a}ei(e,t){let r=new Gn(oM(e));return t.forEach((i,a)=>{Zb(e,a)&&(r=r.add(a))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ti(e,t){return Vb()<=t1.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Yb(t)),this.Zs.Qs(e,t,_l.min())}}class KG{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new Nr(jt),this.ri=new J2(a=>F3(a),K5),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new ZG(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function gA(n,e,t,r){return new KG(n,e,t,r)}function mA(n,e){return mC.apply(this,arguments)}function mC(){return mC=(0,ye.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.ai(e),t.Bs.getAllMutationBatches(r))).next(a=>{const u=[],p=[];let v=_n();for(const w of i){u.push(w.batchId);for(const I of w.mutations)v=v.add(I.key)}for(const w of a){p.push(w.batchId);for(const I of w.mutations)v=v.add(I.key)}return t.ci.Ks(r,v).next(w=>({hi:w,removedBatchIds:u,addedBatchIds:p}))})})}),mC.apply(this,arguments)}function JG(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ui.newChangeBuffer({trackRemovals:!0});return function(u,p,v,w){const I=v.batch,A=I.keys();let k=pe.resolve();return A.forEach(F=>{k=k.next(()=>w.getEntry(p,F)).next(W=>{const te=v.docVersions.get(F);xt(null!==te),W.version.compareTo(te)<0&&(I.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),w.addEntry(W)))})}),k.next(()=>u.Bs.removeMutationBatch(p,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function vA(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function QG(n,e){const t=Ke(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const p=[];e.targetChanges.forEach((w,I)=>{const A=i.get(I);if(!A)return;p.push(t.fs.removeMatchingKeys(a,w.removedDocuments,I).next(()=>t.fs.addMatchingKeys(a,w.addedDocuments,I)));let k=A.withSequenceNumber(a.currentSequenceNumber);var F,W,te;e.targetMismatches.has(I)?k=k.withResumeToken(Xr.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):w.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(w.resumeToken,r)),i=i.insert(I,k),W=k,te=w,(0===(F=A).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&p.push(t.fs.updateTargetData(a,k))});let v=wa();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),p.push(_A(a,u,e.documentUpdates).next(w=>{v=w})),!r.isEqual(At.min())){const w=t.fs.getLastRemoteSnapshotVersion(a).next(I=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));p.push(w)}return pe.waitFor(p).next(()=>u.apply(a)).next(()=>t.ci.Gs(a,v)).next(()=>v)}).then(a=>(t.ii=i,a))}function _A(n,e,t){let r=_n();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=wa();return t.forEach((u,p)=>{const v=i.get(u);p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(u,p.readTime),a=a.insert(u,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),a=a.insert(u,p)):Fe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",v.version," Watch version:",p.version)}),a})}function XG(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function C0(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,pe.resolve(i)):t.fs.allocateTargetId(r).next(u=>(i=new Q2(e,u,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function w0(n,e,t){return vC.apply(this,arguments)}function vC(){return vC=(0,ye.Z)(function*(n,e,t){const r=Ke(n),i=r.ii.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!B3(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),vC.apply(this,arguments)}function yg(n,e,t){const r=Ke(n);let i=At.min(),a=_n();return r.persistence.runTransaction("Execute query","readonly",u=>function(p,v,w){const I=Ke(p),A=I.ri.get(w);return void 0!==A?pe.resolve(I.ii.get(A)):I.fs.getTargetData(v,w)}(r,u,Ca(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(u,p.targetId).next(v=>{a=v})}).next(()=>r.si.Qs(u,e,t?i:At.min(),t?a:_n())).next(p=>(CA(r,sM(e),p),{documents:p,li:a})))}function yA(n,e){const t=Ke(n),r=Ke(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(u=>u?u.target:null))}function bA(n,e){const t=Ke(n),r=t.oi.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,ZS(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(CA(t,e,i),i))}function CA(n,e,t){let r=At.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.oi.set(e,r)}function _C(){return _C=(0,ye.Z)(function*(n,e,t,r){const i=Ke(n);let a=_n(),u=wa();for(const w of t){const I=e.fi(w.metadata.name);w.document&&(a=a.add(I));const A=e.di(w);A.setReadTime(e._i(w.metadata.readTime)),u=u.insert(I,A)}const p=i.ui.newChangeBuffer({trackRemovals:!0}),v=yield C0(i,(w=r,Ca(u0(an.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>_A(w,p,u).next(I=>(p.apply(w),I)).next(I=>i.fs.removeMatchingKeysForTargetId(w,v.targetId).next(()=>i.fs.addMatchingKeys(w,a,v.targetId)).next(()=>i.ci.Gs(w,I)).next(()=>I)))}),_C.apply(this,arguments)}function t$(n,e){return yC.apply(this,arguments)}function yC(){return yC=(0,ye.Z)(function*(n,e,t=_n()){const r=yield C0(n,Ca(oC(e.bundledQuery))),i=Ke(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=Ci(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i._s.saveNamedQuery(a,e);const p=r.withResumeToken(Xr.EMPTY_BYTE_STRING,u);return i.ii=i.ii.insert(p.targetId,p),i.fs.updateTargetData(a,p).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),yC.apply(this,arguments)}class n${constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return pe.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:Ci(r.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:oC(r.bundledQuery),readTime:Ci(r.readTime)}),pe.resolve();var r}}class r${constructor(){this.overlays=new Nr(Ye.comparator),this.gi=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.gi.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const i=t6(),a=t.length+1,u=new Ye(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const v=p.getNext().value,w=v.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&v.largestBatchId>r&&i.set(v.getKey(),v)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Nr((w,I)=>w-I);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let I=a.get(w.largestBatchId);null===I&&(I=t6(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const p=t6(),v=a.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((w,I)=>p.set(w,I)),!(p.size()>=i)););return pe.resolve(p)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const u=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new sC(t,r));let a=this.gi.get(t);void 0===a&&(a=_n(),this.gi.set(t,a)),this.gi.set(t,a.add(r.key))}}class bC{constructor(){this.yi=new Gn(Di.pi),this.Ii=new Gn(Di.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new Di(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new Di(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new Ye(new an([])),r=new Di(t,e),i=new Di(t,e+1),a=[];return this.Ii.forEachInRange([r,i],u=>{this.Ai(u),a.push(u.key)}),a}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Ye(new an([])),r=new Di(t,e),i=new Di(t,e+1);let a=_n();return this.Ii.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Di(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Di{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Ye.comparator(e.key,t.key)||jt(e.vi,t.vi)}static Ti(e,t){return jt(e.vi,t.vi)||Ye.comparator(e.key,t.key)}}class i${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Gn(Di.pi)}checkEmpty(e){return pe.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.Si;this.Si++;const u=new rC(a,t,r,i);this.Bs.push(u);for(const p of i)this.Di=this.Di.add(new Di(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(e,t){return pe.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),a=i<0?0:i;return pe.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return pe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Di(t,0),i=new Di(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],u=>{const p=this.Ci(u.vi);a.push(p)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gn(jt);return t.forEach(i=>{const a=new Di(i,0),u=new Di(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([a,u],p=>{r=r.add(p.vi)})}),pe.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ye.isDocumentKey(a)||(a=a.child(""));const u=new Di(new Ye(a),0);let p=new Gn(jt);return this.Di.forEachWhile(v=>{const w=v.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(p=p.add(v.vi)),!0)},u),pe.resolve(this.Ni(p))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return pe.forEach(t.mutations,i=>{const a=new Di(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new Di(t,0),i=this.Di.firstAfterOrEqual(r);return pe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return pe.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class s${constructor(e){this.Mi=e,this.docs=new Nr(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let r=wa();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():jn.newInvalidDocument(i))}),pe.resolve(r)}getAllFromCollection(e,t,r){let i=wa();const a=new Ye(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:p,value:{document:v}}=u.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||Mj(Sj(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return pe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ct()}Oi(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new o$(this)}getSize(e){return pe.resolve(this.size)}}class o$ extends lA{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class a${constructor(e){this.persistence=e,this.Fi=new J2(t=>F3(t),K5),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$i=0,this.Bi=new bC,this.targetCount=0,this.Li=q3.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),pe.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new q3(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.Tn(t),pe.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Fi.forEach((u,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Fi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),pe.waitFor(a).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.Bi.containsKey(t))}}class c${constructor(e,t){this.Ui={},this.overlays={},this.es=new Zo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new a$(this),this.indexManager=new VG,this.ds=new s$(r=>this.referenceDelegate.qi(r)),this.M=new YM(t),this._s=new n$(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new r$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new i$(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const i=new l$(this.es.next());return this.referenceDelegate.Ki(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Qi(e,t){return pe.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class l$ extends $M{constructor(e){super(),this.currentSequenceNumber=e}}class CC{constructor(e){this.persistence=e,this.ji=new bC,this.Wi=null}static zi(e){return new CC(e)}get Hi(){if(this.Wi)return this.Wi;throw ct()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),pe.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Hi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Hi,r=>{const i=Ye.fromPath(r);return this.Ji(e,i).next(a=>{a||t.removeEntry(i,At.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return pe.or([()=>pe.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function wA(n,e){return`firestore_clients_${n}_${e}`}function DA(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function wC(n,e){return`firestore_targets_${n}_${e}`}class bg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new xe(i.error.code,i.error.message))),u?new bg(e,t,i.state,a):(Ur("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class g6{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new xe(r.error.code,r.error.message))),a?new g6(e,r.state,i):(Ur("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=lg();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=VS(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new Cg(e,a):(Ur("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class DC{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new DC(t.clientId,t.onlineState):(Ur("SharedClientState",`Failed to parse online state: ${e}`),null)}}class EC{constructor(){this.activeTargetIds=lg()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TC{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Nr(jt),this.started=!1,this.rr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=wA(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new EC),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const a=e.getItem(wA(e.persistenceKey,i));if(a){const u=Cg.Yi(i,a);u&&(e.ir=e.ir.insert(u.clientId,u))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(wC(this.persistenceKey,e));if(r){const i=g6.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wC(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void Ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(a){let u=Zo.A;if(null!=a)try{const p=JSON.parse(a);xt("number"==typeof p),u=p}catch(p){Ur("SharedClientState","Failed to read sequence number from WebStorage",p)}return u}(r.newValue);i!==Zo.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.kr(a)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new bg(this.currentUser,e,t,r),a=DA(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Xi())}Ir(e){const t=DA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=wC(this.persistenceKey,e),a=new g6(e,t,r);this.setItem(i,a.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return Cg.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return bg.Yi(new Bi(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return g6.Yi(i,t)}mr(e){return DC.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),u=[],p=[];return a.forEach(v=>{i.has(v)||u.push(v)}),i.forEach(v=>{a.has(v)||p.push(v)}),this.syncEngine.Fr(u,p).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=lg();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class EA{constructor(){this.$r=new EC,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new EC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class u${Lr(e){}shutdown(){}}class TA{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const d$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class h${constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class f$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,a){const u=this.uo(e,t);Fe("RestConnection","Sending: ",u,r);const p={};return this.ao(p,i,a),this.co(e,u,p,r).then(v=>(Fe("RestConnection","Received: ",v),v),v=>{throw U5("RestConnection",`${e} failed with error: `,v,"url: ",u,"request:",r),v})}ho(e,t,r,i,a){return this.oo(e,t,r,i,a)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+s0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}uo(e,t){return`${this.io}/v1/${t}:${d$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,u)=>{const p=new dj;p.listenOnce(cj.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case zb.NO_ERROR:const w=p.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(w)),a(w);break;case zb.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),u(new xe(de.DEADLINE_EXCEEDED,"Request time out"));break;case zb.HTTP_ERROR:const I=p.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",p.getResponseText()),I>0){const A=p.getResponseJson().error;if(A&&A.status&&A.message){const k=function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(W)>=0?W:de.UNKNOWN}(A.status);u(new xe(k,A.message))}else u(new xe(de.UNKNOWN,"Server responded with status "+p.getStatus()))}else u(new xe(de.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);p.send(t,"POST",v,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=oj(),u=aj(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new uj({})),this.ao(p.initMessageHeaders,t,r),(0,Yt.uI)()||(0,Yt.b$)()||(0,Yt.d)()||(0,Yt.w1)()||(0,Yt.Mn)()||(0,Yt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Fe("Connection","Creating WebChannel: "+v,p);const w=a.createWebChannel(v,p);let I=!1,A=!1;const k=new h$({Wr:W=>{A?Fe("Connection","Not sending because WebChannel is closed:",W):(I||(Fe("Connection","Opening WebChannel transport."),w.open(),I=!0),Fe("Connection","WebChannel sending:",W),w.send(W))},zr:()=>w.close()}),F=(W,te,De)=>{W.listen(te,Ve=>{try{De(Ve)}catch(Pe){setTimeout(()=>{throw Pe},0)}})};return F(w,J9.EventType.OPEN,()=>{A||Fe("Connection","WebChannel transport opened.")}),F(w,J9.EventType.CLOSE,()=>{A||(A=!0,Fe("Connection","WebChannel transport closed"),k.no())}),F(w,J9.EventType.ERROR,W=>{A||(A=!0,U5("Connection","WebChannel transport errored:",W),k.no(new xe(de.UNAVAILABLE,"The operation could not be completed")))}),F(w,J9.EventType.MESSAGE,W=>{var te;if(!A){const De=W.data[0];xt(!!De);const Ve=De,Pe=Ve.error||(null===(te=Ve[0])||void 0===te?void 0:te.error);if(Pe){Fe("Connection","WebChannel received error:",Pe);const We=Pe.status;let He=function(Xe){const It=Gr[Xe];if(void 0!==It)return CM(It)}(We),je=Pe.message;void 0===He&&(He=de.INTERNAL,je="Unknown error status: "+We+" with message "+Pe.message),A=!0,k.no(new xe(He,je)),w.close()}else Fe("Connection","WebChannel received:",De),k.so(De)}}),F(u,lj.STAT_EVENT,W=>{W.stat===NS.PROXY?Fe("Connection","Detected buffering proxy"):W.stat===NS.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.eo()},0),k}}function IA(){return"undefined"!=typeof window?window:null}function wg(){return"undefined"!=typeof document?document:null}function m6(n){return new tG(n,!0)}class IC{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class SA{constructor(e,t,r,i,a,u,p,v){this.Yn=e,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new IC(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,ye.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,ye.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new xe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,ye.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p$ extends SA{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.M=a}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function iG(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ct(),i=e.targetChange.targetIds||[],a=function(v,w){return v.N?(xt(void 0===w||"string"==typeof w),Xr.fromBase64String(w||"")):(xt(void 0===w||w instanceof Uint8Array),Xr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(v){const w=void 0===v.code?de.UNKNOWN:CM(v.code);return new xe(w,v.message||"")}(u);t=new EM(r,i,a,p||null)}else if("documentChange"in e){const r=e.documentChange,i=W1(n,r.document.name),a=Ci(r.document.updateTime),u=new as({mapValue:{fields:r.document.fields}}),p=jn.newFoundDocument(i,a,u);t=new ug(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=W1(n,r.document),a=r.readTime?Ci(r.readTime):At.min(),u=jn.newNoDocument(i,a);t=new ug([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=W1(n,r.document);t=new ug([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ct();{const r=e.filter,a=new Wj(r.count||0);t=new DM(r.targetId,a)}}var v;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return At.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?At.min():a.readTime?Ci(a.readTime):At.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=o6(this.M),t.addTarget=function(i,a){let u;const p=a.target;return u=tg(p)?{documents:RM(i,p)}:{query:PM(i,p)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=MM(i,a.resumeToken):a.snapshotVersion.compareTo(At.min())>0&&(u.readTime=i6(i,a.snapshotVersion.toTimestamp())),u}(this.M,e);const r=function oG(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=o6(this.M),t.removeTarget=e,this.Fo(t)}}class g$ extends SA{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.M=a,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function sG(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let a=Ci(r.updateTime?r.updateTime:i);return a.isEqual(At.min())&&(a=Ci(i)),new jj(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.Yo(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=o6(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>a6(this.M,r))};this.Fo(t)}}class m$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new xe(de.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.oo(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(de.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ho(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(de.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class v${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Ur(t),this.iu=!1):Fe("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class _${constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr(p=>{r.enqueueAndForget((0,ye.Z)(function*(){var v;nu(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,ye.Z)(function*(w){const I=Ke(w);I.fu.add(4),yield D0(I),I.wu.set("Unknown"),I.fu.delete(4),yield v6(I)}),function(w){return v.apply(this,arguments)})(u))}))}),this.wu=new v$(r,i)}}function v6(n){return SC.apply(this,arguments)}function SC(){return SC=(0,ye.Z)(function*(n){if(nu(n))for(const e of n.du)yield e(!0)}),SC.apply(this,arguments)}function D0(n){return MC.apply(this,arguments)}function MC(){return MC=(0,ye.Z)(function*(n){for(const e of n.du)yield e(!1)}),MC.apply(this,arguments)}function Dg(n,e){const t=Ke(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),xC(t)?NC(t):T0(t).xo()&&AC(t,e))}function _6(n,e){const t=Ke(n),r=T0(t);t.lu.delete(e),r.xo()&&MA(t,e),0===t.lu.size&&(r.xo()?r.Mo():nu(t)&&t.wu.set("Unknown"))}function AC(n,e){n.mu.Z(e.targetId),T0(n).jo(e)}function MA(n,e){n.mu.Z(e),T0(n).Wo(e)}function NC(n){n.mu=new Qj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),T0(n).start(),n.wu.ru()}function xC(n){return nu(n)&&!T0(n).Co()&&n.lu.size>0}function nu(n){return 0===Ke(n).fu.size}function AA(n){n.mu=void 0}function y$(n){return OC.apply(this,arguments)}function OC(){return OC=(0,ye.Z)(function*(n){n.lu.forEach((e,t)=>{AC(n,e)})}),OC.apply(this,arguments)}function b$(n,e){return kC.apply(this,arguments)}function kC(){return kC=(0,ye.Z)(function*(n,e){AA(n),xC(n)?(n.wu.au(e),NC(n)):n.wu.set("Unknown")}),kC.apply(this,arguments)}function C$(n,e,t){return RC.apply(this,arguments)}function RC(){return RC=(0,ye.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof EM&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(i,a){const u=a.cause;for(const p of a.targetIds)i.lu.has(p)&&(yield i.remoteSyncer.rejectListen(p,u),i.lu.delete(p),i.mu.removeTarget(p))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Eg(n,r)}else if(e instanceof ug?n.mu.ut(e):e instanceof DM?n.mu._t(e):n.mu.ht(e),!t.isEqual(At.min()))try{const r=yield vA(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.mu.yt(a);return u.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const w=i.lu.get(v);w&&i.lu.set(v,w.withResumeToken(p.resumeToken,a))}}),u.targetMismatches.forEach(p=>{const v=i.lu.get(p);if(!v)return;i.lu.set(p,v.withResumeToken(Xr.EMPTY_BYTE_STRING,v.snapshotVersion)),MA(i,p);const w=new Q2(v.target,p,1,v.sequenceNumber);AC(i,w)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield Eg(n,r)}var r}),RC.apply(this,arguments)}function Eg(n,e,t){return PC.apply(this,arguments)}function PC(){return PC=(0,ye.Z)(function*(n,e,t){if(!B3(e))throw e;n.fu.add(1),yield D0(n),n.wu.set("Offline"),t||(t=()=>vA(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield v6(n)}))}),PC.apply(this,arguments)}function NA(n,e){return e().catch(t=>Eg(n,t,e))}function E0(n){return LC.apply(this,arguments)}function LC(){return LC=(0,ye.Z)(function*(n){const e=Ke(n),t=ru(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;w$(e);)try{const i=yield XG(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,D$(e,i)}catch(i){yield Eg(e,i)}xA(e)&&OA(e)}),LC.apply(this,arguments)}function w$(n){return nu(n)&&n.hu.length<10}function D$(n,e){n.hu.push(e);const t=ru(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function xA(n){return nu(n)&&!ru(n).Co()&&n.hu.length>0}function OA(n){ru(n).start()}function E$(n){return FC.apply(this,arguments)}function FC(){return FC=(0,ye.Z)(function*(n){ru(n).Zo()}),FC.apply(this,arguments)}function T$(n){return zC.apply(this,arguments)}function zC(){return zC=(0,ye.Z)(function*(n){const e=ru(n);for(const t of n.hu)e.Jo(t.mutations)}),zC.apply(this,arguments)}function I$(n,e,t){return VC.apply(this,arguments)}function VC(){return VC=(0,ye.Z)(function*(n,e,t){const r=n.hu.shift(),i=iC.from(r,e,t);yield NA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield E0(n)}),VC.apply(this,arguments)}function S$(n,e){return HC.apply(this,arguments)}function HC(){return HC=(0,ye.Z)(function*(n,e){var t;e&&ru(n).Ho&&(yield(t=(0,ye.Z)(function*(r,i){if(bM(a=i.code)&&a!==de.ABORTED){const u=r.hu.shift();ru(r).ko(),yield NA(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield E0(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),xA(n)&&OA(n)}),HC.apply(this,arguments)}function kA(n,e){return BC.apply(this,arguments)}function BC(){return BC=(0,ye.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=nu(t);t.fu.add(3),yield D0(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield v6(t)}),BC.apply(this,arguments)}function UC(n,e){return jC.apply(this,arguments)}function jC(){return jC=(0,ye.Z)(function*(n,e){const t=Ke(n);e?(t.fu.delete(2),yield v6(t)):e||(t.fu.add(2),yield D0(t),t.wu.set("Unknown"))}),jC.apply(this,arguments)}function T0(n){return n.gu||(n.gu=function(e,t,r){const i=Ke(e);return i.eu(),new p$(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:y$.bind(null,n),Yr:b$.bind(null,n),Qo:C$.bind(null,n)}),n.du.push(function(){var e=(0,ye.Z)(function*(t){t?(n.gu.ko(),xC(n)?NC(n):n.wu.set("Unknown")):(yield n.gu.stop(),AA(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function ru(n){return n.yu||(n.yu=function(e,t,r){const i=Ke(e);return i.eu(),new g$(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:E$.bind(null,n),Yr:S$.bind(null,n),Xo:T$.bind(null,n),Yo:I$.bind(null,n)}),n.du.push(function(){var e=(0,ye.Z)(function*(t){t?(n.yu.ko(),yield E0(n)):(yield n.yu.stop(),n.hu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class GC{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,p=new GC(e,t,u,i,a);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I0(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),B3(n))return new xe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class S0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=Qb(),this.sortedSet=new Nr(this.comparator)}static emptySet(e){return new S0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof S0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new S0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class RA{constructor(){this.pu=new Nr(Ye.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):ct():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class M0{constructor(e,t,r,i,a,u,p,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new M0(e,t,S0.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&J5(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class M${constructor(){this.Tu=void 0,this.listeners=[]}}class A${constructor(){this.queries=new J2(e=>iM(e),J5),this.onlineState="Unknown",this.Eu=new Set}}function $C(n,e){return WC.apply(this,arguments)}function WC(){return WC=(0,ye.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new M$),i)try{a.Tu=yield t.onListen(r)}catch(u){const p=I0(u,`Initialization of query '${Yb(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,a),a.listeners.push(e),e.Au(t.onlineState),a.Tu&&e.Ru(a.Tu)&&ZC(t)}),WC.apply(this,arguments)}function qC(n,e){return YC.apply(this,arguments)}function YC(){return YC=(0,ye.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),YC.apply(this,arguments)}function N$(n,e){const t=Ke(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const p of u.listeners)p.Ru(i)&&(r=!0);u.Tu=i}}r&&ZC(t)}function x$(n,e,t){const r=Ke(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function ZC(n){n.Eu.forEach(e=>{e.next()})}class KC{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new M0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=M0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class O${constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class PA{constructor(e){this.M=e}fi(e){return W1(this.M,e)}di(e){return e.metadata.exists?kM(this.M,e.document,!1):jn.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Ci(e)}}class k${constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LA(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=an.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new PA(this.M);for(const i of e)if(i.metadata.queries){const a=r.fi(i.metadata.name);for(const u of i.metadata.queries){const p=(t.get(u)||_n()).add(a);t.set(u,p)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function e$(n,e,t,r){return _C.apply(this,arguments)}(e.localStore,new PA(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield t$(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function LA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class FA{constructor(e){this.key=e}}class zA{constructor(e){this.key=e}}class VA{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=_n(),this.mutatedKeys=_n(),this.Uu=oM(e),this.qu=new S0(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new RA,i=t?t.qu:this.qu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,p=!1;const v=rg(this.query)&&i.size===this.query.limit?i.last():null,w=ig(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,A)=>{const k=i.get(I),F=Zb(this.query,A)?A:null,W=!!k&&this.mutatedKeys.has(k.key),te=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let De=!1;k&&F?k.data.isEqual(F.data)?W!==te&&(r.track({type:3,doc:F}),De=!0):this.ju(k,F)||(r.track({type:2,doc:F}),De=!0,(v&&this.Uu(F,v)>0||w&&this.Uu(F,w)<0)&&(p=!0)):!k&&F?(r.track({type:0,doc:F}),De=!0):k&&!F&&(r.track({type:1,doc:k}),De=!0,(v||w)&&(p=!0)),De&&(F?(u=u.add(F),a=te?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),rg(this.query)||ig(this.query))for(;u.size>this.query.limit;){const I=rg(this.query)?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{qu:u,Qu:r,ni:p,mutatedKeys:a}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const a=e.Qu.Iu();a.sort((w,I)=>function(A,k){const F=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return F(A)-F(k)}(w.type,I.type)||this.Uu(w.doc,I.doc)),this.Wu(r);const u=t?this.zu():[],p=0===this.Lu.size&&this.current?1:0,v=p!==this.Bu;return this.Bu=p,0!==a.length||v?{snapshot:new M0(this.query,e.qu,i,a,e.mutatedKeys,0===p,v,!1),Hu:u}:{Hu:u}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new RA,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=_n(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new zA(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new FA(r))}),t}Yu(e){this.$u=e.li,this.Lu=_n();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return M0.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class R${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class P${constructor(e){this.key=e,this.Zu=!1}}class L${constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.ta={},this.ea=new J2(p=>iM(p),J5),this.na=new Map,this.sa=new Set,this.ia=new Nr(Ye.comparator),this.ra=new Map,this.oa=new bC,this.ua={},this.aa=new Map,this.ca=q3.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function F$(n,e){return JC.apply(this,arguments)}function JC(){return JC=(0,ye.Z)(function*(n,e){const t=bw(n);let r,i;const a=t.ea.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Xu();else{const u=yield C0(t.localStore,Ca(e));t.isPrimaryClient&&Dg(t.remoteStore,u);const p=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield QC(t,e,r,"current"===p)}return i}),JC.apply(this,arguments)}function QC(n,e,t,r){return XC.apply(this,arguments)}function XC(){return XC=(0,ye.Z)(function*(n,e,t,r){n.la=(I,A,k)=>{return(F=(0,ye.Z)(function*(W,te,De,Ve){let Pe=te.view.Gu(De);Pe.ni&&(Pe=yield yg(W.localStore,te.query,!1).then(({documents:je})=>te.view.Gu(je,Pe)));const We=Ve&&Ve.targetChanges.get(te.targetId),He=te.view.applyChanges(Pe,W.isPrimaryClient,We);return lw(W,te.targetId,He.Hu),He.snapshot}),function(W,te,De,Ve){return F.apply(this,arguments)})(n,I,A,k);var F};const i=yield yg(n.localStore,e,!0),a=new VA(e,i.li),u=a.Gu(i.documents),p=r6.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=a.applyChanges(u,n.isPrimaryClient,p);lw(n,t,v.Hu);const w=new R$(e,t,a);return n.ea.set(e,w),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),v.snapshot}),XC.apply(this,arguments)}function z$(n,e){return ew.apply(this,arguments)}function ew(){return ew=(0,ye.Z)(function*(n,e){const t=Ke(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(a=>!J5(a,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield w0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_6(t.remoteStore,r.targetId),A0(t,r.targetId)}).catch(Y3))):(A0(t,r.targetId),yield w0(t.localStore,r.targetId,!0))}),ew.apply(this,arguments)}function tw(){return tw=(0,ye.Z)(function*(n,e,t){const r=Cw(n);try{const i=yield function(a,u){const p=Ke(a),v=Ar.now(),w=u.reduce((A,k)=>A.add(k.key),_n());let I;return p.persistence.runTransaction("Locally write mutations","readwrite",A=>p.ci.Ks(A,w).next(k=>{I=k;const F=[];for(const W of u){const te=$j(W,I.get(W.key));null!=te&&F.push(new H3(W.key,te,YS(te.value.mapValue),jr.exists(!0)))}return p.Bs.addMutationBatch(A,v,F,u)})).then(A=>(A.applyToLocalDocumentSet(I),{batchId:A.batchId,changes:I}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,p){let v=a.ua[a.currentUser.toKey()];v||(v=new Nr(jt)),v=v.insert(u,p),a.ua[a.currentUser.toKey()]=v}(r,i.batchId,t),yield bl(r,i.changes),yield E0(r.remoteStore)}catch(i){const a=I0(i,"Failed to persist write");t.reject(a)}}),tw.apply(this,arguments)}function HA(n,e){return nw.apply(this,arguments)}function nw(){return nw=(0,ye.Z)(function*(n,e){const t=Ke(n);try{const r=yield QG(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.ra.get(a);u&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Zu=!0:i.modifiedDocuments.size>0?xt(u.Zu):i.removedDocuments.size>0&&(xt(u.Zu),u.Zu=!1))}),yield bl(t,r,e)}catch(r){yield Y3(r)}}),nw.apply(this,arguments)}function BA(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((a,u)=>{const p=u.view.Au(e);p.snapshot&&i.push(p.snapshot)}),function(a,u){const p=Ke(a);p.onlineState=u;let v=!1;p.queries.forEach((w,I)=>{for(const A of I.listeners)A.Au(u)&&(v=!0)}),v&&ZC(p)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function H$(n,e,t){return rw.apply(this,arguments)}function rw(){return rw=(0,ye.Z)(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),a=i&&i.key;if(a){let u=new Nr(Ye.comparator);u=u.insert(a,jn.newNoDocument(a,At.min()));const p=_n().add(a),v=new n6(At.min(),new Map,new Gn(jt),u,p);yield HA(r,v),r.ia=r.ia.remove(a),r.ra.delete(e),uw(r)}else yield w0(r.localStore,e,!1).then(()=>A0(r,e,t)).catch(Y3)}),rw.apply(this,arguments)}function B$(n,e){return iw.apply(this,arguments)}function iw(){return iw=(0,ye.Z)(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const i=yield JG(t.localStore,e);cw(t,r,null),aw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield bl(t,i)}catch(i){yield Y3(i)}}),iw.apply(this,arguments)}function U$(n,e,t){return sw.apply(this,arguments)}function sw(){return sw=(0,ye.Z)(function*(n,e,t){const r=Ke(n);try{const i=yield function(a,u){const p=Ke(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return p.Bs.lookupMutationBatch(v,u).next(I=>(xt(null!==I),w=I.keys(),p.Bs.removeMutationBatch(v,I))).next(()=>p.Bs.performConsistencyCheck(v)).next(()=>p.ci.Ks(v,w))})}(r.localStore,e);cw(r,e,t),aw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield bl(r,i)}catch(i){yield Y3(i)}}),sw.apply(this,arguments)}function ow(){return ow=(0,ye.Z)(function*(n,e){const t=Ke(n);nu(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=Ke(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.Bs.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=I0(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),ow.apply(this,arguments)}function aw(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function cw(n,e,t){const r=Ke(n);let i=r.ua[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function A0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||UA(n,r)})}function UA(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(_6(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),uw(n))}function lw(n,e,t){for(const r of t)r instanceof FA?(n.oa.addReference(r.key,e),G$(n,r)):r instanceof zA?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||UA(n,r.key)):ct()}function G$(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.sa.add(r),uw(n))}function uw(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Ye(an.fromString(e)),r=n.ca.next();n.ra.set(r,new P$(t)),n.ia=n.ia.insert(t,r),Dg(n.remoteStore,new Q2(Ca(u0(t.path)),r,2,Zo.A))}}function bl(n,e,t){return dw.apply(this,arguments)}function dw(){return dw=(0,ye.Z)(function*(n,e,t){const r=Ke(n),i=[],a=[],u=[];var p;r.ea.isEmpty()||(r.ea.forEach((p,v)=>{u.push(r.la(v,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,w.fromCache?"not-current":"current"),i.push(w);const I=gC.Ys(v.targetId,w);a.push(I)}}))}),yield Promise.all(u),r.ta.Qo(i),yield(p=(0,ye.Z)(function*(v,w){const I=Ke(v);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>pe.forEach(w,k=>pe.forEach(k.Hs,F=>I.persistence.referenceDelegate.addReference(A,k.targetId,F)).next(()=>pe.forEach(k.Js,F=>I.persistence.referenceDelegate.removeReference(A,k.targetId,F)))))}catch(A){if(!B3(A))throw A;Fe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of w){const k=A.targetId;if(!A.fromCache){const F=I.ii.get(k),te=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);I.ii=I.ii.insert(k,te)}}}),function(v,w){return p.apply(this,arguments)})(r.localStore,a))}),dw.apply(this,arguments)}function $$(n,e){return hw.apply(this,arguments)}function hw(){return hw=(0,ye.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield mA(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(u=>{u.forEach(p=>{p.reject(new xe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield bl(t,r.hi)}var i}),hw.apply(this,arguments)}function W$(n,e){const t=Ke(n),r=t.ra.get(e);if(r&&r.Zu)return _n().add(r.key);{let i=_n();const a=t.na.get(e);if(!a)return i;for(const u of a){const p=t.ea.get(u);i=i.unionWith(p.view.Ku)}return i}}function q$(n,e){return fw.apply(this,arguments)}function fw(){return fw=(0,ye.Z)(function*(n,e){const t=Ke(n),r=yield yg(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&lw(t,e.targetId,i.Hu),i}),fw.apply(this,arguments)}function Y$(n,e){return pw.apply(this,arguments)}function pw(){return pw=(0,ye.Z)(function*(n,e){const t=Ke(n);return bA(t.localStore,e).then(r=>bl(t,r))}),pw.apply(this,arguments)}function Z$(n,e,t,r){return gw.apply(this,arguments)}function gw(){return gw=(0,ye.Z)(function*(n,e,t,r){const i=Ke(n),a=yield function(u,p){const v=Ke(u),w=Ke(v.Bs);return v.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.fn(I,p).next(A=>A?v.ci.Ks(I,A):pe.resolve(null)))}(i.localStore,e);var p;null!==a?("pending"===t?yield E0(i.remoteStore):"acknowledged"===t||"rejected"===t?(cw(i,e,r||null),aw(i,e),p=e,Ke(Ke(i.localStore).Bs)._n(p)):ct(),yield bl(i,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),gw.apply(this,arguments)}function mw(){return mw=(0,ye.Z)(function*(n,e){const t=Ke(n);if(bw(t),Cw(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield jA(t,r.toArray());t.ha=!0,yield UC(t.remoteStore,!0);for(const a of i)Dg(t.remoteStore,a)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(A0(t,u),w0(t.localStore,u,!0))),_6(t.remoteStore,u)}),yield i,yield jA(t,r),function(a){const u=Ke(a);u.ra.forEach((p,v)=>{_6(u.remoteStore,v)}),u.oa.bi(),u.ra=new Map,u.ia=new Nr(Ye.comparator)}(t),t.ha=!1,yield UC(t.remoteStore,!1)}}),mw.apply(this,arguments)}function jA(n,e,t){return vw.apply(this,arguments)}function vw(){return vw=(0,ye.Z)(function*(n,e,t){const r=Ke(n),i=[],a=[];for(const u of e){let p;const v=r.na.get(u);if(v&&0!==v.length){p=yield C0(r.localStore,Ca(v[0]));for(const w of v){const I=r.ea.get(w),A=yield q$(r,I);A.snapshot&&a.push(A.snapshot)}}else{const w=yield yA(r.localStore,u);p=yield C0(r.localStore,w),yield QC(r,GA(w),u,!1)}i.push(p)}return r.ta.Qo(a),i}),vw.apply(this,arguments)}function GA(n){return nM(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function J$(n){const e=Ke(n);return Ke(Ke(e.localStore).persistence).Fs()}function Q$(n,e,t,r){return _w.apply(this,arguments)}function _w(){return _w=(0,ye.Z)(function*(n,e,t,r){const i=Ke(n);if(i.ha)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=i.na.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield bA(i.localStore,sM(a[0])),p=n6.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield bl(i,u,p);break}case"rejected":yield w0(i.localStore,e,!0),A0(i,e,r);break;default:ct()}}),_w.apply(this,arguments)}function X$(n,e,t){return yw.apply(this,arguments)}function yw(){return yw=(0,ye.Z)(function*(n,e,t){const r=bw(n);if(r.ha){for(const i of e){if(r.na.has(i)){Fe("SyncEngine","Adding an already active target "+i);continue}const a=yield yA(r.localStore,i),u=yield C0(r.localStore,a);yield QC(r,GA(a),u.targetId,!1),Dg(r.remoteStore,u)}for(const i of t)r.na.has(i)&&(yield w0(r.localStore,i,!1).then(()=>{_6(r.remoteStore,i),A0(r,i)}).catch(Y3))}}),yw.apply(this,arguments)}function bw(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H$.bind(null,e),e.ta.Qo=N$.bind(null,e.eventManager),e.ta.fa=x$.bind(null,e.eventManager),e}function Cw(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U$.bind(null,e),e}class $A{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.M=m6(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return gA(this.persistence,new pA,e.initialUser,this.M)}wa(e){return new c$(CC.zi,this.M)}_a(e){return new EA}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class WA extends $A{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield Cw(r.ya.syncEngine),yield E0(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return gA(this.persistence,new pA,e.initialUser,this.M)}ma(e){return new jG(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=pC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ho.withCacheSize(this.cacheSizeBytes):ho.DEFAULT;return new fC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,IA(),wg(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new EA}}class tW extends WA{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof TC&&(r.sharedClientState.syncEngine={Mr:Z$.bind(null,i),Or:Q$.bind(null,i),Fr:X$.bind(null,i),Fs:J$.bind(null,i),kr:Y$.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,ye.Z)(function*(u){yield function K$(n,e){return mw.apply(this,arguments)}(r.ya.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):u||r.gcScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}_a(e){const t=IA();if(!TC.vt(t))throw new xe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=pC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new TC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ww{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>BA(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$$.bind(null,r.syncEngine),yield UC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new A$}createDatastore(e){const t=m6(e.databaseInfo.databaseId),r=new f$(e.databaseInfo);return new m$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=p=>BA(this.syncEngine,p,0),u=TA.vt()?new TA:new u$,new _$(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,p,v,w){const I=new L$(r,i,a,u,p,v);return w&&(I.ha=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Ke(t);Fe("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield D0(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qA(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Tg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class nW{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new yi,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new O$(JSON.parse(a),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,ye.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class rW{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ye.Z)(function*(a,u){const p=Ke(a),v=o6(p.M)+"/documents",w={documents:u.map(F=>s6(p.M,F))},I=yield p.ho("BatchGetDocuments",v,w),A=new Map;I.forEach(F=>{const W=function rG(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=W1(t,r.found.name),a=Ci(r.found.updateTime),u=new as({mapValue:{fields:r.found.fields}});return jn.newFoundDocument(i,a,u)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=W1(t,r.missing),a=Ci(r.readTime);return jn.newNoDocument(i,a)}(n,e):ct()}(p.M,F);A.set(W.key.toString(),W)});const k=[];return u.forEach(F=>{const W=A.get(F.toString());xt(!!W),k.push(W)}),k}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new e6(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ye.fromPath(i);e.mutations.push(new Jb(a,e.precondition(a)))}),yield(r=(0,ye.Z)(function*(i,a){const u=Ke(i),p=o6(u.M)+"/documents",v={writes:a.map(w=>a6(u.M,w))};yield u.oo("Commit",p,v)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ct();t=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?jr.updateTime(t):jr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new xe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jr.updateTime(t)}return jr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class iW{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new IC(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,ye.Z)(function*(){const t=new rW(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.xa(a)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!k3(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!bM(t)}return!1}}class sW{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Bi.UNAUTHENTICATED,this.clientId=RS.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,ye.Z)(function*(p){Fe("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=I0(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function YA(n,e){return Dw.apply(this,arguments)}function Dw(){return Dw=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ye.Z)(function*(a){r.isEqual(a)||(yield mA(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Dw.apply(this,arguments)}function ZA(n,e){return Ew.apply(this,arguments)}function Ew(){return Ew=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Tw(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>kA(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>kA(e.remoteStore,a)),n.onlineComponents=e}),Ew.apply(this,arguments)}function Tw(n){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,ye.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield YA(n,new $A)),n.offlineComponents}),Iw.apply(this,arguments)}function Ig(n){return Sw.apply(this,arguments)}function Sw(){return Sw=(0,ye.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield ZA(n,new ww)),n.onlineComponents}),Sw.apply(this,arguments)}function KA(n){return Tw(n).then(e=>e.persistence)}function Mw(n){return Tw(n).then(e=>e.localStore)}function JA(n){return Ig(n).then(e=>e.remoteStore)}function Aw(n){return Ig(n).then(e=>e.syncEngine)}function N0(n){return Nw.apply(this,arguments)}function Nw(){return Nw=(0,ye.Z)(function*(n){const e=yield Ig(n),t=e.eventManager;return t.onListen=F$.bind(null,e.syncEngine),t.onUnlisten=z$.bind(null,e.syncEngine),t}),Nw.apply(this,arguments)}function QA(n,e,t={}){const r=new yi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,a,u,p,v){const w=new Tg({next:A=>{a.enqueueAndForget(()=>qC(i,I));const k=A.docs.has(u);!k&&A.fromCache?v.reject(new xe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&p&&"server"===p.source?v.reject(new xe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),I=new KC(u0(u.path),w,{includeMetadataChanges:!0,Cu:!0});return $C(i,I)}(yield N0(n),n.asyncQueue,e,t,r)})),r.promise}function XA(n,e,t={}){const r=new yi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,a,u,p,v){const w=new Tg({next:A=>{a.enqueueAndForget(()=>qC(i,I)),A.fromCache&&"server"===p.source?v.reject(new xe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),I=new KC(u,w,{includeMetadataChanges:!0,Cu:!0});return $C(i,I)}(yield N0(n),n.asyncQueue,e,t,r)})),r.promise}const eN=new Map;function xw(n,e,t){if(!t)throw new xe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tN(n,e,t,r){if(!0===e&&!0===r)throw new xe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nN(n){if(!Ye.isDocumentKey(n))throw new xe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rN(n){if(Ye.isDocumentKey(n))throw new xe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ct()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sg(n);throw new xe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function iN(n,e){if(e<=0)throw new xe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class sN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,tN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y6{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sN({}),this._settingsFrozen=!1,e instanceof vl?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new xe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(i.options.projectId)}(e))}get app(){if(!this._app)throw new xe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pj;switch(t.type){case"gapi":const r=t.client;return xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new _j(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=eN.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),eN.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Y1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class cs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class Y1 extends cs{constructor(e,t,r){super(e,t,u0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Ye(e))}withConverter(e){return new Y1(this.firestore,e,this._path)}}function oN(n,e,...t){if(n=(0,Yt.m9)(n),xw("collection","path",e),n instanceof y6){const r=an.fromString(e,...t);return rN(r),new Y1(n,null,r)}{if(!(n instanceof $n||n instanceof Y1))throw new xe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return rN(r),new Y1(n.firestore,null,r)}}function Mg(n,e,...t){if(n=(0,Yt.m9)(n),1===arguments.length&&(e=RS.R()),xw("doc","path",e),n instanceof y6){const r=an.fromString(e,...t);return nN(r),new $n(n,null,new Ye(r))}{if(!(n instanceof $n||n instanceof Y1))throw new xe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return nN(r),new $n(n.firestore,n instanceof Y1?n.converter:null,new Ye(r))}}function aN(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),(n instanceof $n||n instanceof Y1)&&(e instanceof $n||e instanceof Y1)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function cN(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),n instanceof cs&&e instanceof cs&&n.firestore===e.firestore&&J5(n._query,e._query)&&n.converter===e.converter}class mW{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new IC(this,"async_queue_retry"),this.qa=()=>{const t=wg();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=wg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=wg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new yi;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!B3(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,Ur("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=GC.createAndSchedule(this,e,t,r,a=>this.ja(a));return this.Fa.push(i),i}Ka(){this.$a&&ct()}verifyOperationInProgress(){}Wa(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function Ow(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class vW{constructor(){this._progressObserver={},this._taskCompletionResolver=new yi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xn extends y6{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new mW,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||lN(this),this._firestoreClient.terminate()}}function $r(n){return n._firestoreClient||lN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function lN(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ej(n._databaseId,a,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var a,p;n._firestoreClient=new sW(n._authCredentials,n._appCheckCredentials,n._queue,r)}function uN(n,e,t){const r=new yi;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield YA(n,t),yield ZA(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function dN(n){if(n._initialized||n._terminated)throw new xe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Z1{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Z1(Xr.fromBase64String(e))}catch(t){throw new xe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Z1(Xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class K3{constructor(e){this._methodName=e}}class Ag{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const SW=/^__.*__$/;class MW{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new H3(e,this.data,this.fieldMask,t,this.fieldTransforms):new X5(e,this.data,t,this.fieldTransforms)}}class hN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new H3(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class Ng{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return kg(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(fN(this.Xa)&&SW.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class AW{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||m6(e)}ac(e,t,r,i=!1){return new Ng({Xa:e,methodName:t,uc:r,path:bi.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function J3(n){const e=n._freezeSettings(),t=m6(n._databaseId);return new AW(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xg(n,e,t,r,i,a={}){const u=n.ac(a.merge||a.mergeFields?2:0,e,t,i);Lw("Data must be an object, but it was:",u,r);const p=mN(r,u);let v,w;if(a.merge)v=new a0(u.fieldMask),w=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const A of a.mergeFields){const k=Fw(e,A,t);if(!u.contains(k))throw new xe(de.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);_N(I,k)||I.push(k)}v=new a0(I),w=u.fieldTransforms.filter(A=>v.covers(A.field))}else v=null,w=u.fieldTransforms;return new MW(new as(p),v,w)}class b6 extends K3{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof b6}}function pN(n,e,t){return new Ng({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class kw extends K3{_toFieldTransform(e){return new Q5(e.path,new h0)}isEqual(e){return e instanceof kw}}class NW extends K3{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=pN(this,e,!0),r=this.cc.map(a=>Q3(a,t)),i=new z3(r);return new Q5(e.path,i)}isEqual(e){return this===e}}class xW extends K3{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=pN(this,e,!0),r=this.cc.map(a=>Q3(a,t)),i=new V3(r);return new Q5(e.path,i)}isEqual(e){return this===e}}class OW extends K3{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new f0(e.M,lM(e.M,this.hc));return new Q5(e.path,t)}isEqual(e){return this===e}}function Rw(n,e,t,r){const i=n.ac(1,e,t);Lw("Data must be an object, but it was:",i,r);const a=[],u=as.empty();x3(r,(v,w)=>{const I=Og(e,v,t);w=(0,Yt.m9)(w);const A=i.sc(I);if(w instanceof b6)a.push(I);else{const k=Q3(w,A);null!=k&&(a.push(I),u.set(I,k))}});const p=new a0(a);return new hN(u,p,i.fieldTransforms)}function Pw(n,e,t,r,i,a){const u=n.ac(1,e,t),p=[Fw(e,r,t)],v=[i];if(a.length%2!=0)throw new xe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<a.length;k+=2)p.push(Fw(e,a[k])),v.push(a[k+1]);const w=[],I=as.empty();for(let k=p.length-1;k>=0;--k)if(!_N(w,p[k])){const F=p[k];let W=v[k];W=(0,Yt.m9)(W);const te=u.sc(F);if(W instanceof b6)w.push(F);else{const De=Q3(W,te);null!=De&&(w.push(F),I.set(F,De))}}const A=new a0(w);return new hN(I,A,u.fieldTransforms)}function gN(n,e,t,r=!1){return Q3(t,n.ac(r?4:3,e))}function Q3(n,e){if(vN(n=(0,Yt.m9)(n)))return Lw("Unsupported field value:",e,n),mN(n,e);if(n instanceof K3)return function(t,r){if(!fN(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let p=Q3(u,r.ic(a));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lM(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ar.fromDate(t);return{timestampValue:i6(r.M,i)}}if(t instanceof Ar){const i=new Ar(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:i6(r.M,i)}}if(t instanceof Ag)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Z1)return{bytesValue:MM(r.M,t._byteString)};if(t instanceof $n){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.rc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xb(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${Sg(t)}`)}(n,e)}function mN(n,e){const t={};return FS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):x3(n,(r,i)=>{const a=Q3(i,e.tc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function vN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ar||n instanceof Ag||n instanceof Z1||n instanceof $n||n instanceof K3)}function Lw(n,e,t){if(!vN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Sg(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function Fw(n,e,t){if((e=(0,Yt.m9)(e))instanceof Cl)return e._internalPath;if("string"==typeof e)return Og(n,e);throw kg("Field path arguments must be of type string or ",n,!1,void 0,t)}const kW=new RegExp("[~\\*/\\[\\]]");function Og(n,e,t){if(e.search(kW)>=0)throw kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cl(...e.split("."))._internalPath}catch(r){throw kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kg(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(a||u)&&(v+=" (found",a&&(v+=` in field ${r}`),u&&(v+=` in document ${i}`),v+=")"),new xe(de.INVALID_ARGUMENT,p+n+v)}function _N(n,e){return n.some(t=>t.isEqual(e))}class C6{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RW extends C6{data(){return super.data()}}function Rg(n,e){return"string"==typeof e?Og(n,e):e instanceof Cl?e._internalPath:e._delegate._internalPath}class X3{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wl extends C6{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new w6(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Rg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class w6 extends wl{data(e={}){return super.data(e)}}class iu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new X3(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new w6(this._firestore,this._userDataWriter,r.key,r,new X3(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new w6(r._firestore,r._userDataWriter,u.doc.key,u.doc,new X3(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const p=new w6(r._firestore,r._userDataWriter,u.doc.key,u.doc,new X3(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,w=-1;return 0!==u.type&&(v=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),w=a.indexOf(u.doc.key)),{type:PW(u.type),doc:p,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function PW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function yN(n,e){return n instanceof wl&&e instanceof wl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof iu&&e instanceof iu&&n._firestore===e._firestore&&cN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function bN(n){if(ig(n)&&0===n.explicitOrderBy.length)throw new xe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D6{}function su(n,...e){for(const t of e)n=t._apply(n);return n}class LW extends D6{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=J3(e.firestore),r=function(i,a,u,p,v,w,I){let A;if(v.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){IN(I,w);const F=[];for(const W of I)F.push(TN(p,i,W));A={arrayValue:{values:F}}}else A=TN(p,i,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||IN(I,w),A=gN(u,"where",I,"in"===w||"not-in"===w);const k=Ui.create(v,w,A);return function(F,W){if(W.S()){const De=Wb(F);if(null!==De&&!De.isEqual(W.field))throw new xe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${De.toString()}' and '${W.field.toString()}'`);const Ve=$b(F);null!==Ve&&SN(0,W.field,Ve)}const te=function(De,Ve){for(const Pe of De.filters)if(Ve.indexOf(Pe.op)>=0)return Pe.op;return null}(F,function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(W.op));if(null!==te)throw new xe(de.INVALID_ARGUMENT,te===W.op?`Invalid query. You cannot use more than one '${W.op.toString()}' filter.`:`Invalid query. You cannot use '${W.op.toString()}' filters with '${te.toString()}' filters.`)}(i,k),k}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new cs(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new yl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class zW extends D6{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new xe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new l0(i,a);return function(p,v){if(null===$b(p)){const w=Wb(p);null!==w&&SN(0,w,v.field)}}(r,u),u}(e._query,this.lc,this._c);return new cs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new yl(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class CN extends D6{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new cs(e.firestore,e.converter,rM(e._query,this.wc,this.mc))}}class wN extends D6{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=EN(e,this.type,this.gc,this.yc);return new cs(e.firestore,e.converter,(i=t,new yl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class DN extends D6{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=EN(e,this.type,this.gc,this.yc);return new cs(e.firestore,e.converter,(i=t,new yl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function EN(n,e,t,r){if(t[0]=(0,Yt.m9)(t[0]),t[0]instanceof C6)return function(i,a,u,p,v){if(!p)throw new xe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const I of d0(i))if(I.field.isKeyField())w.push(P3(a,p.key));else{const A=p.data.field(I.field);if(Bb(A))throw new xe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const k=I.field.canonicalString();throw new xe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}w.push(A)}return new K2(w,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=J3(n.firestore);return function(a,u,p,v,w,I){const A=a.explicitOrderBy;if(w.length>A.length)throw new xe(de.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let F=0;F<w.length;F++){const W=w[F];if(A[F].field.isKeyField()){if("string"!=typeof W)throw new xe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof W}`);if(!qb(a)&&-1!==W.indexOf("/"))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${W}' contains a slash.`);const te=a.path.child(an.fromString(W));if(!Ye.isDocumentKey(te))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const De=new Ye(te);k.push(P3(u,De))}else{const te=gN(p,v,W);k.push(te)}}return new K2(k,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function TN(n,e,t){if("string"==typeof(t=(0,Yt.m9)(t))){if(""===t)throw new xe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qb(e)&&-1!==t.indexOf("/"))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(an.fromString(t));if(!Ye.isDocumentKey(r))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return P3(n,new Ye(r))}if(t instanceof $n)return P3(n,t._key);throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sg(t)}.`)}function IN(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function SN(n,e,t){if(!t.isEqual(e))throw new xe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class zw{convertValue(e,t="none"){switch(R3(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(O3(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ct()}}convertObject(e,t){const r={};return x3(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new Ag(pr(e.latitude),pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=zS(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(G5(e));default:return null}}convertTimestamp(e){const t=Y2(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=an.fromString(e);xt(zM(r));const i=new vl(r.get(1),r.get(3)),a=new Ye(r.popFirst(5));return i.isEqual(t)||Ur(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Pg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class WW extends zw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Z1(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class MN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=J3(e)}set(e,t,r){this._verifyNotCommitted();const i=ou(e,this._firestore),a=Pg(i.converter,t,r),u=xg(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,jr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=ou(e,this._firestore);let u;return u="string"==typeof(t=(0,Yt.m9)(t))||t instanceof Cl?Pw(this._dataReader,"WriteBatch.update",a._key,t,r,i):Rw(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ou(e,this._firestore);return this._mutations=this._mutations.concat(new e6(t._key,jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ou(n,e){if((n=(0,Yt.m9)(n)).firestore!==e)throw new xe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ed extends zw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Z1(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function AN(n,e,t){n=tn(n,$n);const r=tn(n.firestore,Xn),i=Pg(n.converter,e,t);return x0(r,[xg(J3(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,jr.none())])}function NN(n,e,t,...r){n=tn(n,$n);const i=tn(n.firestore,Xn),a=J3(i);let u;return u="string"==typeof(e=(0,Yt.m9)(e))||e instanceof Cl?Pw(a,"updateDoc",n._key,e,t,r):Rw(a,"updateDoc",n._key,e),x0(i,[u.toMutation(n._key,jr.exists(!0))])}function xN(n,...e){var t,r,i;n=(0,Yt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Ow(e[u])||(a=e[u],u++);const p={includeMetadataChanges:a.includeMetadataChanges};if(Ow(e[u])){const A=e[u];e[u]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[u+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[u+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let v,w,I;if(n instanceof $n)w=tn(n.firestore,Xn),I=u0(n._key.path),v={next:A=>{e[u]&&e[u](Vw(w,n,A))},error:e[u+1],complete:e[u+2]};else{const A=tn(n,cs);w=tn(A.firestore,Xn),I=A._query;const k=new ed(w);v={next:F=>{e[u]&&e[u](new iu(w,k,A,F))},error:e[u+1],complete:e[u+2]},bN(n._query)}return function(A,k,F,W){const te=new Tg(W),De=new KC(k,te,F);return A.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return $C(yield N0(A),De)})),()=>{te.Ia(),A.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return qC(yield N0(A),De)}))}}($r(w),I,p,v)}function x0(n,e){return function(t,r){const i=new yi;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function V$(n,e,t){return tw.apply(this,arguments)}(yield Aw(t),r,i)})),i.promise}($r(n),e)}function Vw(n,e,t){const r=t.docs.get(e._key),i=new ed(n);return new wl(n,i,e._key,r,new X3(t.hasPendingWrites,t.fromCache),e.converter)}class nq extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=J3(e)}get(e){const t=ou(e,this._firestore),r=new WW(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ct();const a=i[0];if(a.isFoundDocument())return new C6(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new C6(this._firestore,r,t._key,null,t.converter);throw ct()})}set(e,t,r){const i=ou(e,this._firestore),a=Pg(i.converter,t,r),u=xg(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=ou(e,this._firestore);let u;return u="string"==typeof(t=(0,Yt.m9)(t))||t instanceof Cl?Pw(this._dataReader,"Transaction.update",a._key,t,r,i):Rw(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=ou(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ou(e,this._firestore),r=new ed(this._firestore);return super.get(e).then(i=>new wl(this._firestore,r,t._key,i._document,new X3(!1,!1),t.converter))}}function Hw(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function kN(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function RN(){if(!function wj(){return"undefined"!=typeof atob}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){s0=j1.SDK_VERSION,(0,j1._registerComponent)(new B4.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new Xn(i,new mj(t.getProvider("auth-internal")),new yj(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,j1.registerVersion)(xS,"3.4.8",n),(0,j1.registerVersion)(xS,"3.4.8","esm2017")}();class E6{constructor(e){this._delegate=e}static fromBase64String(e){return RN(),new E6(Z1.fromBase64String(e))}static fromUint8Array(e){return kN(),new E6(Z1.fromUint8Array(e))}toBase64(){return RN(),this._delegate.toBase64()}toUint8Array(){return kN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Bw(n){return function dq(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class hq{enableIndexedDbPersistence(e,t){return function yW(n,e){dN(n=tn(n,Xn));const t=$r(n),r=n._freezeSettings(),i=new ww;return uN(t,i,new WA(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function bW(n){dN(n=tn(n,Xn));const e=$r(n),t=n._freezeSettings(),r=new ww;return uN(e,r,new tW(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function CW(n){if(n._initialized&&!n._terminated)throw new xe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!r1.vt())return Promise.resolve();const i=r+"main";yield r1.delete(i)}),function(r){return t.apply(this,arguments)})(pC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class PN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof vl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&U5("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function pW(n,e,t,r={}){var i;const a=(n=tn(n,y6))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&U5("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,p;if("string"==typeof r.mockUserToken)u=r.mockUserToken,p=Bi.MOCK_USER;else{u=(0,Yt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new xe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Bi(v)}n._authCredentials=new gj(new OS(u,p))}}(this._delegate,e,t,r)}enableNetwork(){return function DW(n){return function oW(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield KA(n),t=yield JA(n);return e.setNetworkEnabled(!0),function(r){const i=Ke(r);return i.fu.delete(0),v6(i)}(t)}))}($r(n=tn(n,Xn)))}(this._delegate)}disableNetwork(){return function EW(n){return function aW(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield KA(n),t=yield JA(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(i){const a=Ke(i);a.fu.add(0),yield D0(a),a.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}($r(n=tn(n,Xn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,tN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function wW(n){return function(e){const t=new yi;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function j$(n,e){return ow.apply(this,arguments)}(yield Aw(e),t)})),t.promise}($r(n=tn(n,Xn)))}(this._delegate)}onSnapshotsInSync(e){return function tq(n,e){return function uW(n,e){const t=new Tg(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield N0(n),i=t,Ke(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield N0(n),i=t,void Ke(r).Eu.delete(i);var r,i}))}}($r(n=tn(n,Xn)),Ow(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new O0(this,oN(this._delegate,e))}catch(t){throw ks(t,"collection()","Firestore.collection()")}}doc(e){try{return new Da(this,Mg(this._delegate,e))}catch(t){throw ks(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rs(this,function gW(n,e){if(n=tn(n,y6),xw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(n,null,(t=e,new yl(an.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ks(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function rq(n,e){return function dW(n,e){const t=new yi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(i=n,Ig(i).then(a=>a.datastore));var i;new iW(n.asyncQueue,r,e,t).run()})),t.promise}($r(n=tn(n,Xn)),t=>e(new nq(n,t)))}(this._delegate,t=>e(new LN(this,t)))}batch(){return $r(this._delegate),new FN(new MN(this._delegate,e=>x0(this._delegate,e)))}loadBundle(e){return function TW(n,e){const t=$r(n=tn(n,Xn)),r=new vW;return function hW(n,e,t,r){const i=function(a,u){let p;return p="string"==typeof a?(new TextEncoder).encode(a):a,v=function(v,w){if(v instanceof Uint8Array)return qA(v,w);if(v instanceof ArrayBuffer)return qA(new Uint8Array(v),w);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new nW(v,u);var v}(t,m6(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function eW(n,e,t){const r=Ke(n);var i;(i=(0,ye.Z)(function*(a,u,p){try{const v=yield u.getMetadata();if(yield function(k,F){const W=Ke(k),te=Ci(F.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",De=>W._s.getBundleMetadata(De,F.id)).then(De=>!!De&&De.createTime.compareTo(te)>=0)}(a.localStore,v))return yield u.close(),p._completeWith({taskState:"Success",documentsLoaded:(k=v).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);p._updateProgress(LA(v));const w=new k$(v,a.localStore,u.M);let I=yield u.da();for(;I;){const k=yield w.ku(I);k&&p._updateProgress(k),I=yield u.da()}const A=yield w.complete();return yield bl(a,A.Fu,void 0),yield function(k,F){const W=Ke(k);return W.persistence.runTransaction("Save bundle","readwrite",te=>W._s.saveBundleMetadata(te,F))}(a.localStore,v),p._completeWith(A.progress),Promise.resolve(A.Ou)}catch(v){return U5("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var k}),function(a,u,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Aw(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function IW(n,e){return function fW(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const i=Ke(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield Mw(n),e)}))}($r(n=tn(n,Xn)),e).then(t=>t?new cs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Rs(this,t):null)}}class Lg extends zw{constructor(e){super(),this.firestore=e}convertBytes(e){return new E6(new Z1(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Da.forKey(t,this.firestore,null)}}class LN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Lg(e)}get(e){const t=nd(e);return this._delegate.get(t).then(r=>new T6(this._firestore,new wl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=nd(e);return r?(Hw("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=nd(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=nd(e);return this._delegate.delete(t),this}}class FN{constructor(e){this._delegate=e}set(e,t,r){const i=nd(e);return r?(Hw("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=nd(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=nd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class td{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new w6(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new I6(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=td.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new td(e,new Lg(e),t),i.set(t,a)),a}}td.INSTANCES=new WeakMap;class Da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lg(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Da(t,new $n(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new Da(t,new $n(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new O0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new O0(this.firestore,oN(this._delegate,e))}catch(t){throw ks(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Yt.m9)(e))instanceof $n&&aN(this._delegate,e)}set(e,t){t=Hw("DocumentReference.set",t);try{return t?AN(this._delegate,e,t):AN(this._delegate,e)}catch(r){throw ks(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?NN(this._delegate,e):NN(this._delegate,e,t,...r)}catch(i){throw ks(i,"updateDoc()","DocumentReference.update()")}}delete(){return function XW(n){return x0(tn(n.firestore,Xn),[new e6(n._key,jr.none())])}(this._delegate)}onSnapshot(...e){const t=zN(e),r=VN(e,i=>new T6(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xN(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function YW(n){n=tn(n,$n);const e=tn(n.firestore,Xn),t=$r(e),r=new ed(e);return function cW(n,e){const t=new yi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,a,u){try{const p=yield function(v,w){const I=Ke(v);return I.persistence.runTransaction("read document","readonly",A=>I.ci.Ls(A,w))}(i,a);p.isFoundDocument()?u.resolve(p):p.isNoDocument()?u.resolve(null):u.reject(new xe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=I0(p,`Failed to get document '${a} from cache`);u.reject(v)}}),function(i,a,u){return r.apply(this,arguments)})(yield Mw(n),e,t);var r})),t.promise}(t,n._key).then(i=>new wl(e,r,n._key,i,new X3(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function ZW(n){n=tn(n,$n);const e=tn(n.firestore,Xn);return QA($r(e),n._key,{source:"server"}).then(t=>Vw(e,n,t))}(this._delegate):function qW(n){n=tn(n,$n);const e=tn(n.firestore,Xn);return QA($r(e),n._key).then(t=>Vw(e,n,t))}(this._delegate),t.then(r=>new T6(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Da(this.firestore,this._delegate.withConverter(e?td.getInstance(this.firestore,e):null))}}function ks(n,e,t){return n.message=n.message.replace(e,t),n}function zN(n){for(const e of n)if("object"==typeof e&&!Bw(e))return e;return{}}function VN(n,e){var t,r;let i;return i=Bw(n[0])?n[0]:Bw(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class T6{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return yN(this._delegate,e._delegate)}}class I6 extends T6{data(e){const t=this._delegate.data(e);return function fj(n,e){n||ct()}(void 0!==t),t}}class Rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lg(e)}where(e,t,r){try{return new Rs(this.firestore,su(this._delegate,function FW(n,e,t){const r=e,i=Rg("where",n);return new LW(i,r,t)}(e,t,r)))}catch(i){throw ks(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rs(this.firestore,su(this._delegate,function VW(n,e="asc"){const t=e,r=Rg("orderBy",n);return new zW(r,t)}(e,t)))}catch(r){throw ks(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rs(this.firestore,su(this._delegate,function HW(n){return iN("limit",n),new CN("limit",n,"F")}(e)))}catch(t){throw ks(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rs(this.firestore,su(this._delegate,function BW(n){return iN("limitToLast",n),new CN("limitToLast",n,"L")}(e)))}catch(t){throw ks(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rs(this.firestore,su(this._delegate,function UW(...n){return new wN("startAt",n,!0)}(...e)))}catch(t){throw ks(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rs(this.firestore,su(this._delegate,function jW(...n){return new wN("startAfter",n,!1)}(...e)))}catch(t){throw ks(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rs(this.firestore,su(this._delegate,function GW(...n){return new DN("endBefore",n,!1)}(...e)))}catch(t){throw ks(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rs(this.firestore,su(this._delegate,function $W(...n){return new DN("endAt",n,!0)}(...e)))}catch(t){throw ks(t,"endAt()","Query.endAt()")}}isEqual(e){return cN(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function JW(n){n=tn(n,cs);const e=tn(n.firestore,Xn),t=$r(e),r=new ed(e);return function lW(n,e){const t=new yi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,a,u){try{const p=yield yg(i,a,!0),v=new VA(a,p.li),w=v.Gu(p.documents),I=v.applyChanges(w,!1);u.resolve(I.snapshot)}catch(p){const v=I0(p,`Failed to execute query '${a} against cache`);u.reject(v)}}),function(i,a,u){return r.apply(this,arguments)})(yield Mw(n),e,t);var r})),t.promise}(t,n._query).then(i=>new iu(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function QW(n){n=tn(n,cs);const e=tn(n.firestore,Xn),t=$r(e),r=new ed(e);return XA(t,n._query,{source:"server"}).then(i=>new iu(e,r,n,i))}(this._delegate):function KW(n){n=tn(n,cs);const e=tn(n.firestore,Xn),t=$r(e),r=new ed(e);return bN(n._query),XA(t,n._query).then(i=>new iu(e,r,n,i))}(this._delegate),t.then(r=>new Uw(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=zN(e),r=VN(e,i=>new Uw(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xN(this._delegate,t,r)}withConverter(e){return new Rs(this.firestore,this._delegate.withConverter(e?td.getInstance(this.firestore,e):null))}}class pq{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new I6(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Uw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new I6(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new pq(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new I6(this._firestore,r))})}isEqual(e){return yN(this._delegate,e._delegate)}}class O0 extends Rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Da(this.firestore,e):null}doc(e){try{return new Da(this.firestore,void 0===e?Mg(this._delegate):Mg(this._delegate,e))}catch(t){throw ks(t,"doc()","CollectionReference.doc()")}}add(e){return function eq(n,e){const t=tn(n.firestore,Xn),r=Mg(n),i=Pg(n.converter,e);return x0(t,[xg(J3(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,jr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Da(this.firestore,t))}isEqual(e){return aN(this._delegate,e._delegate)}withConverter(e){return new O0(this.firestore,this._delegate.withConverter(e?td.getInstance(this.firestore,e):null))}}function nd(n){return tn(n,$n)}class jw{constructor(...e){this._delegate=new Cl(...e)}static documentId(){return new jw(bi.keyField().canonicalString())}isEqual(e){return(e=(0,Yt.m9)(e))instanceof Cl&&this._delegate._internalPath.isEqual(e._internalPath)}}class rd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function sq(){return new kw("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new rd(e)}static delete(){const e=function iq(){return new b6("deleteField")}();return e._methodName="FieldValue.delete",new rd(e)}static arrayUnion(...e){const t=function oq(...n){return new NW("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new rd(t)}static arrayRemove(...e){const t=function aq(...n){return new xW("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new rd(t)}static increment(e){const t=function cq(n){return new OW("increment",n)}(e);return t._methodName="FieldValue.increment",new rd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const gq={Firestore:PN,GeoPoint:Ag,Timestamp:Ar,Blob:E6,Transaction:LN,WriteBatch:FN,DocumentReference:Da,DocumentSnapshot:T6,Query:Rs,QueryDocumentSnapshot:I6,QuerySnapshot:Uw,CollectionReference:O0,FieldPath:jw,FieldValue:rd,setLogLevel:function fq(n){!function hj(n){q2.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function HN(n,e){return function _q(n,e=yh.z){return new Hn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Gw(n,e){return HN(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function Fg(n,e){return Gw(n,e).pipe(Rr(void 0),qy(),(0,Dt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,p)=>{const v=i.find(I=>I.doc.ref.isEqual(u.ref)),w=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(u.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(u.metadata)||!v&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:u}})}),a}))}function BN(n,e,t){return Fg(n,t).pipe(Dr((r,i)=>function bq(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Cq(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return $w(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return $w(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $w(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function Hd(n,e=Jr.y){return n=null!=n?n:Rt,(0,ir.e)((t,r)=>{let i,a=!0;t.subscribe((0,mn.x)(r,u=>{const p=e(u);(a||!n(i,p))&&(a=!1,i=p,r.next(u))}))})}(),(0,Dt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function $w(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function UN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function vq(n){(function mq(n,e){n.INTERNAL.registerComponent(new B4.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},gq)))})(n,(e,t)=>new PN(e,t,new hq)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(iU.Z);class jN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Fg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Rr(void 0),qy(),dr(([r,i])=>i.length>0||!r),(0,Dt.U)(([r,i])=>i),fr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Dr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=UN(e);return BN(this.query,t,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(e={}){return Gw(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),fr.iC)}get(e){return(0,Rn.D)(this.query.get(e)).pipe(fr.iC)}add(e){return this.ref.add(e)}doc(e){return new GN(this.ref.doc(e),this.afs)}}class GN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=qN(r,t);return new jN(i,a,this.afs)}snapshotChanges(){return function yq(n,e){return HN(n,e).pipe(Rr(void 0),qy(),(0,Dt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Rn.D)(this.ref.get(e)).pipe(fr.iC)}}class wq{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Fg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),dr(t=>t.length>0),fr.iC):Fg(this.query,this.afs.schedulers.outsideAngular).pipe(fr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Dr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=UN(e);return BN(this.query,t,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(e={}){return Gw(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),fr.iC)}get(e){return(0,Rn.D)(this.query.get(e)).pipe(fr.iC)}}const $N=new d.OlP("angularfire2.enableFirestorePersistence"),WN=new d.OlP("angularfire2.firestore.persistenceSettings"),Dq=new d.OlP("angularfire2.firestore.settings"),Eq=new d.OlP("angularfire2.firestore.use-emulator");function qN(n,e=(t=>t)){return{query:e(n),ref:n}}let Tq=(()=>{class n{constructor(t,r,i,a,u,p,v,w,I,A,k,F,W,te,De,Ve,Pe){this.schedulers=v;const We=(0,lo.on)(t,p,r),He=I;A&&lT(We,p,k,W,te,De,F,Ve),[this.firestore,this.persistenceEnabled$]=(0,lo.cc)(`${We.name}.firestore`,"AngularFirestore",We.name,()=>{const je=p.runOutsideAngular(()=>We.firestore());if(a&&je.settings(a),He&&je.useEmulator(...He),i&&!lr(u)){const Xe=()=>{try{return(0,Rn.D)(je.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(It){return"undefined"!=typeof console&&console.warn(It),_t(!1)}};return[je,p.runOutsideAngular(Xe)]}return[je,_t(!1)]},[a,He,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=qN(i,r),p=this.schedulers.ngZone.run(()=>a);return new jN(p,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new wq(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new GN(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(lo.Dh),d.LFG(lo.xv,8),d.LFG($N,8),d.LFG(Dq,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(fr.HU),d.LFG(WN,8),d.LFG(Eq,8),d.LFG(d9,8),d.LFG(rT,8),d.LFG(iT,8),d.LFG(sT,8),d.LFG(oT,8),d.LFG(aT,8),d.LFG(cT,8),d.LFG(C3,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Iq=(()=>{class n{constructor(){nT.Z.registerVersion("angularfire",fr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:$N,useValue:!0},{provide:WN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Tq]}),n})();const YN_firebaseConfig={apiKey:"AIzaSyCW_EeJQfRGTM6zx9HcAnFFYz8HRSa130s",authDomain:"saladejuegos2022.firebaseapp.com",projectId:"saladejuegos2022",storageBucket:"saladejuegos2022.appspot.com",messagingSenderId:"413645199151",appId:"1:413645199151:web:994335258b46b489a1b3da",measurementId:"G-LKM4P442QL"};let Sq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[rU]}),n.\u0275inj=d.cJS({providers:[],imports:[[ka,nU,PE,eU,P8,lo.hO.initializeApp(YN_firebaseConfig),Sx,Iq]]}),n})();(0,d.G48)(),oc().bootstrapModule(Sq).catch(n=>console.error(n))},5867:(lt,Ee,R)=>{R.d(Ee,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=R(9681);(0,d.registerVersion)("firebase","9.6.11","app")},127:(lt,Ee,R)=>{R.d(Ee,{Z:()=>d.Z});var d=R(3942);d.Z.registerVersion("firebase","9.6.11","app-compat")},820:(lt,Ee,R)=>{R.r(Ee);var d=R(5861),K=R(3942),P=R(2090),ae=R(9681),X=R(655),ge=R(1877),re=R(4859);const ke=function Ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ze=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new ge.Yd("@firebase/auth");function Je(_,...f){rt.logLevel<=ge.in.ERROR&&rt.error(`Auth (${ae.SDK_VERSION}): ${_}`,...f)}function Te(_,...f){throw Ge(_,...f)}function _e(_,...f){return Ge(_,...f)}function be(_,f,m){const b=Object.assign(Object.assign({},ze()),{[f]:m});return new P.LL("auth","Firebase",b).create(f,{appName:_.name})}function qe(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Te(_,"argument-error"),be(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(_,...f){if("string"!=typeof _){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(m,...b)}return fe.create(_,...f)}function ne(_,f,...m){if(!_)throw Ge(f,...m)}function q(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Je(f),new Error(f)}function ie(_,f){_||q(f)}const me=new Map;function se(_){ie(_ instanceof Function,"Expected a class definition");let f=me.get(_);return f?(ie(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,me.set(_,f),f)}function St(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Jt(){return"http:"===xn()||"https:"===xn()}function xn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ln{constructor(f,m){this.shortDelay=f,this.longDelay=m,ie(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function ht(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Jt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function un(_,f){ie(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Ei{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ls=new ln(3e4,6e4);function Qt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function $t(_,f,m,b){return sr.apply(this,arguments)}function sr(){return(sr=(0,d.Z)(function*(_,f,m,b,S={}){return ei(_,S,(0,d.Z)(function*(){let O={},$={};b&&("GET"===f?$=b:O={body:JSON.stringify(b)});const oe=(0,P.xO)(Object.assign({key:_.config.apiKey},$)).slice(1),Ue=yield _._getAdditionalHeaders();return Ue["Content-Type"]="application/json",_.languageCode&&(Ue["X-Firebase-Locale"]=_.languageCode),Ei.fetch()(Or(_,_.config.apiHost,m,oe),Object.assign({method:f,headers:Ue,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function ei(_,f,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,d.Z)(function*(_,f,m){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},nn),f);try{const S=new us(_),O=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const $=yield O.json();if("needConfirmation"in $)throw ds(_,"account-exists-with-different-credential",$);if(O.ok&&!("errorMessage"in $))return $;{const oe=O.ok?$.errorMessage:$.error.message,[Ue,nt]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw ds(_,"credential-already-in-use",$);if("EMAIL_EXISTS"===Ue)throw ds(_,"email-already-in-use",$);const Ct=b[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw be(_,Ct,nt);Te(_,Ct)}}catch(S){if(S instanceof P.ZR)throw S;Te(_,"network-request-failed")}})).apply(this,arguments)}function xr(_,f,m,b){return $i.apply(this,arguments)}function $i(){return($i=(0,d.Z)(function*(_,f,m,b,S={}){const O=yield $t(_,f,m,b,S);return"mfaPendingCredential"in O&&Te(_,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Or(_,f,m,b){const S=`${f}${m}?${b}`;return _.config.emulator?un(_.config,S):`${_.config.apiScheme}://${S}`}class us{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(_e(this.auth,"network-request-failed")),ls.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ds(_,f,m){const b={appName:_.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=_e(_,f,b);return S.customData._tokenResponse=m,S}function Wr(){return(Wr=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function tr(_,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ti(_,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function vn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Ea(){return(Ea=(0,d.Z)(function*(_,f=!1){const m=(0,P.m9)(_),b=yield m.getIdToken(f),S=at(b);ne(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const O="object"==typeof S.firebase?S.firebase:void 0,$=null==O?void 0:O.sign_in_provider;return{claims:S,token:b,authTime:vn(Wt(S.auth_time)),issuedAtTime:vn(Wt(S.iat)),expirationTime:vn(Wt(S.exp)),signInProvider:$||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Wt(_){return 1e3*Number(_)}function at(_){const[f,m,b]=_.split(".");if(void 0===f||void 0===m||void 0===b)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,P.tV)(m);return S?JSON.parse(S):(Je("Failed to decode base64 JWT payload"),null)}catch(S){return Je("Caught error parsing JWT payload as JSON",S),null}}function or(_,f){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,d.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof P.ZR&&Gt(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Gt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class po{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class mr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ar(_){return gt.apply(this,arguments)}function gt(){return(gt=(0,d.Z)(function*(_){var f;const m=_.auth,b=yield _.getIdToken(),S=yield or(_,ti(m,{idToken:b}));ne(null==S?void 0:S.users.length,m,"internal-error");const O=S.users[0];_._notifyReloadListener(O);const $=(null===(f=O.providerUserInfo)||void 0===f?void 0:f.length)?Ie(O.providerUserInfo):[],oe=Qe(_.providerData,$),Ct=!!_.isAnonymous&&!(_.email&&O.passwordHash||(null==oe?void 0:oe.length)),ut={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:oe,metadata:new mr(O.createdAt,O.lastLoginAt),isAnonymous:Ct};Object.assign(_,ut)})).apply(this,arguments)}function Bt(){return(Bt=(0,d.Z)(function*(_){const f=(0,P.m9)(_);yield ar(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Qe(_,f){return[..._.filter(b=>!f.some(S=>S.providerId===b.providerId)),...f]}function Ie(_){return _.map(f=>{var{providerId:m}=f,b=(0,X._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function mt(){return(mt=(0,d.Z)(function*(_,f){const m=yield ei(_,{},(0,d.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:O}=_.config,$=Or(_,S,"/v1/token",`key=${O}`),oe=yield _._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",Ei.fetch()($,{method:"POST",headers:oe,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ut{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ne(f.idToken,"internal-error"),ne(void 0!==f.idToken,"internal-error"),ne(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function wt(_){const f=at(_);return ne(f,"internal-error"),ne(void 0!==f.exp,"internal-error"),ne(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,d.Z)(function*(){return ne(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,d.Z)(function*(){const{accessToken:S,refreshToken:O,expiresIn:$}=yield function tt(_,f){return mt.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(S,O,Number($))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:S,expirationTime:O}=m,$=new Ut;return b&&(ne("string"==typeof b,"internal-error",{appName:f}),$.refreshToken=b),S&&(ne("string"==typeof S,"internal-error",{appName:f}),$.accessToken=S),O&&(ne("number"==typeof O,"internal-error",{appName:f}),$.expirationTime=O),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ut,this.toJSON())}_performRefresh(){return q("not implemented")}}function zt(_,f){ne("string"==typeof _||void 0===_,"internal-error",{appName:f})}class B{constructor(f){var{uid:m,auth:b,stsTokenManager:S}=f,O=(0,X._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new po(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new mr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,d.Z)(function*(){const b=yield or(m,m.stsTokenManager.getToken(m.auth,f));return ne(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function Ls(_){return Ea.apply(this,arguments)}(this,f)}reload(){return function vr(_){return Bt.apply(this,arguments)}(this)}_assign(f){this!==f&&(ne(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new B(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,d.Z)(function*(){let S=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),S=!0),m&&(yield ar(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,d.Z)(function*(){const m=yield f.getIdToken();return yield or(f,function ft(_,f){return Wr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,S,O,$,oe,Ue,nt,Ct;const ut=null!==(b=m.displayName)&&void 0!==b?b:void 0,An=null!==(S=m.email)&&void 0!==S?S:void 0,ts=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Bc=null!==($=m.photoURL)&&void 0!==$?$:void 0,L1=null!==(oe=m.tenantId)&&void 0!==oe?oe:void 0,F1=null!==(Ue=m._redirectEventId)&&void 0!==Ue?Ue:void 0,Fu=null!==(nt=m.createdAt)&&void 0!==nt?nt:void 0,ah=null!==(Ct=m.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:pa,emailVerified:s2,isAnonymous:o2,providerData:zu,stsTokenManager:a2}=m;ne(pa&&a2,f,"internal-error");const Fr=Ut.fromJSON(this.name,a2);ne("string"==typeof pa,f,"internal-error"),zt(ut,f.name),zt(An,f.name),ne("boolean"==typeof s2,f,"internal-error"),ne("boolean"==typeof o2,f,"internal-error"),zt(ts,f.name),zt(Bc,f.name),zt(L1,f.name),zt(F1,f.name),zt(Fu,f.name),zt(ah,f.name);const Vu=new B({uid:pa,auth:f,email:An,emailVerified:s2,displayName:ut,isAnonymous:o2,photoURL:Bc,phoneNumber:ts,tenantId:L1,stsTokenManager:Fr,createdAt:Fu,lastLoginAt:ah});return zu&&Array.isArray(zu)&&(Vu.providerData=zu.map(Rd=>Object.assign({},Rd))),F1&&(Vu._redirectEventId=F1),Vu}static _fromIdTokenResponse(f,m,b=!1){return(0,d.Z)(function*(){const S=new Ut;S.updateFromServerResponse(m);const O=new B({uid:m.localId,auth:f,stsTokenManager:S,isAnonymous:b});return yield ar(O),O})()}}const G=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,d.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,d.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,d.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return _.type="NONE",_})();function ue(_,f,m){return`firebase:${_}:${f}:${m}`}class J{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:S,name:O}=this.auth;this.fullUserKey=ue(this.userKey,S.apiKey,O),this.fullPersistenceKey=ue("persistence",S.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?B._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,d.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,d.Z)(function*(){if(!m.length)return new J(se(G),f,b);const S=(yield Promise.all(m.map(function(){var nt=(0,d.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let O=S[0]||se(G);const $=ue(b,f.config.apiKey,f.name);let oe=null;for(const nt of m)try{const Ct=yield nt._get($);if(Ct){const ut=B._fromJSON(f,Ct);nt!==O&&(oe=ut),O=nt;break}}catch(Ct){}const Ue=S.filter(nt=>nt._shouldAllowMigration);return O._shouldAllowMigration&&Ue.length?(O=Ue[0],oe&&(yield O._set($,oe.toJSON())),yield Promise.all(m.map(function(){var nt=(0,d.Z)(function*(Ct){if(Ct!==O)try{yield Ct._remove($)}catch(ut){}});return function(Ct){return nt.apply(this,arguments)}}())),new J(O,f,b)):new J(O,f,b)})()}}function Be(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(qt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(bt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ot(f))return"Blackberry";if(dn(f))return"Webos";if(Zt(f))return"Safari";if((f.includes("chrome/")||_r(f))&&!f.includes("edge/"))return"Chrome";if(Tn(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function bt(_=(0,P.z$)()){return/firefox\//i.test(_)}function Zt(_=(0,P.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function _r(_=(0,P.z$)()){return/crios\//i.test(_)}function qt(_=(0,P.z$)()){return/iemobile/i.test(_)}function Tn(_=(0,P.z$)()){return/android/i.test(_)}function Ot(_=(0,P.z$)()){return/blackberry/i.test(_)}function dn(_=(0,P.z$)()){return/webos/i.test(_)}function rr(_=(0,P.z$)()){return/iphone|ipad|ipod/i.test(_)}function hs(_=(0,P.z$)()){return rr(_)||Tn(_)||dn(_)||Ot(_)||/windows phone/i.test(_)||qt(_)}function Ia(_,f=[]){let m;switch(_){case"Browser":m=Be((0,P.z$)());break;case"Worker":m=`${Be((0,P.z$)())}-${_}`;break;default:m=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${b}`}class ni{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pt(this),this.idTokenSubscription=new Pt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=se(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var S,O;if(!b._deleted&&(b.persistenceManager=yield J.create(b,f),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch($){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,d.Z)(function*(){var b;let S=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const O=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,$=null==S?void 0:S._redirectEventId,oe=yield m.tryRedirectSignIn(f);(!O||O===$)&&(null==oe?void 0:oe.user)&&(S=oe.user)}return S?S._redirectEventId?(ne(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===S._redirectEventId?m.directlySetCurrentUser(S):m.reloadAndSetCurrentUserOrClear(S)):m.reloadAndSetCurrentUserOrClear(S):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,d.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(S){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,d.Z)(function*(){try{yield ar(f)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function yt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,d.Z)(function*(){const b=f?(0,P.m9)(f):null;return b&&ne(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,d.Z)(function*(){if(!m._deleted)return f&&ne(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,d.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(se(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,d.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&se(f)||m._popupRedirectResolver;ne(b,m,"argument-error"),m.redirectPersistenceManager=yield J.create(m,[se(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,d.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,d.Z)(function*(){if(f===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,S){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),$=this._isInitialized?Promise.resolve():this._initializationPromise;return ne($,this,"internal-error"),$.then(()=>O(this.currentUser)),"function"==typeof m?f.addObserver(m,b,S):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ia(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function Re(_){return(0,P.m9)(_)}class Pt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Ln(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class rn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return q("not implemented")}_getIdTokenResponse(f){return q("not implemented")}_linkToIdToken(f,m){return q("not implemented")}_getReauthenticationResolver(f){return q("not implemented")}}function On(_,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:resetPassword",Qt(_,f))})).apply(this,arguments)}function Nt(_,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function mo(_,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:update",Qt(_,f))})).apply(this,arguments)}function Fn(){return(Fn=(0,d.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithPassword",Qt(_,f))})).apply(this,arguments)}function fs(_,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:sendOobCode",Qt(_,f))})).apply(this,arguments)}function yr(_,f){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(_,f){return fs(_,f)})).apply(this,arguments)}function a1(_,f){return c1.apply(this,arguments)}function c1(){return(c1=(0,d.Z)(function*(_,f){return fs(_,f)})).apply(this,arguments)}function Ti(_,f){return ri.apply(this,arguments)}function ri(){return(ri=(0,d.Z)(function*(_,f){return fs(_,f)})).apply(this,arguments)}function Dl(_,f){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,d.Z)(function*(_,f){return fs(_,f)})).apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithEmailLink",Qt(_,f))})).apply(this,arguments)}function Xo(){return(Xo=(0,d.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithEmailLink",Qt(_,f))})).apply(this,arguments)}class u1 extends rn{constructor(f,m,b,S=null){super("password",b),this._email=f,this._password=m,this._tenantId=S}static _fromEmailAndPassword(f,m){return new u1(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new u1(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function Vs(_,f){return Fn.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function l1(_,f){return qr.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Te(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return Nt(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function cu(_,f){return Xo.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Te(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function zn(_,f){return El.apply(this,arguments)}function El(){return(El=(0,d.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithIdp",Qt(_,f))})).apply(this,arguments)}class gs extends rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new gs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S}=m,O=(0,X._T)(m,["providerId","signInMethod"]);if(!b||!S)return null;const $=new gs(b,S);return $.idToken=O.idToken||void 0,$.accessToken=O.accessToken||void 0,$.secret=O.secret,$.nonce=O.nonce,$.pendingToken=O.pendingToken||null,$}_getIdTokenResponse(f){return zn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,zn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,zn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,P.xO)(m)}return f}}function cd(_,f){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:sendVerificationCode",Qt(_,f))})).apply(this,arguments)}function Bs(){return(Bs=(0,d.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithPhoneNumber",Qt(_,f))})).apply(this,arguments)}function Il(){return(Il=(0,d.Z)(function*(_,f){const m=yield xr(_,"POST","/v1/accounts:signInWithPhoneNumber",Qt(_,f));if(m.temporaryProof)throw ds(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ud={USER_NOT_FOUND:"user-not-found"};function Sl(){return(Sl=(0,d.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithPhoneNumber",Qt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ud)})).apply(this,arguments)}class ea extends rn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new ea({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new ea({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function K1(_,f){return Bs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function ld(_,f){return Il.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function dd(_,f){return Sl.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:O}=f;return b||m||S||O?new ea({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:O}):null}}class vo{constructor(f){var m,b,S,O,$,oe;const Ue=(0,P.zd)((0,P.pd)(f)),nt=null!==(m=Ue.apiKey)&&void 0!==m?m:null,Ct=null!==(b=Ue.oobCode)&&void 0!==b?b:null,ut=function R0(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ue.mode)&&void 0!==S?S:null);ne(nt&&Ct&&ut,"argument-error"),this.apiKey=nt,this.operation=ut,this.code=Ct,this.continueUrl=null!==(O=Ue.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==($=Ue.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(oe=Ue.tenantId)&&void 0!==oe?oe:null}static parseLink(f){const m=function d1(_){const f=(0,P.zd)((0,P.pd)(_)).link,m=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(_)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||m||f||_}(f);try{return new vo(m)}catch(b){return null}}}let J1=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,b){return u1._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=vo.parseLink(b);return ne(S,"argument-error"),u1._fromEmailAndCode(m,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Us{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Yr extends Us{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ta extends Yr{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return ne("providerId"in m&&"signInMethod"in m,"argument-error"),gs._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ne(f.idToken||f.accessToken,"argument-error"),gs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ta.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ta.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:O,nonce:$,providerId:oe}=f;if(!b&&!S&&!m&&!O||!oe)return null;try{return new ta(oe)._credential({idToken:m,accessToken:b,nonce:$,pendingToken:O})}catch(Ue){return null}}}let _o=(()=>{class _ extends Yr{constructor(){super("facebook.com")}static credential(m){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ma=(()=>{class _ extends Yr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return _.credential(b,S)}catch(O){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ml=(()=>{class _ extends Yr{constructor(){super("github.com")}static credential(m){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Yn extends rn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return zn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,zn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,zn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S,pendingToken:O}=m;return b&&S&&O&&b===S?new Yn(b,O):null}static _create(f,m){return new Yn(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ii extends Us{constructor(f){ne(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ii.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ii.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Yn.fromJSON(f);return ne(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Yn._create(b,m)}catch(S){return null}}}let h1=(()=>{class _ extends Yr{constructor(){super("twitter.com")}static credential(m,b){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return _.credential(b,S)}catch(O){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function f1(_,f){return kr.apply(this,arguments)}function kr(){return(kr=(0,d.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signUp",Qt(_,f))})).apply(this,arguments)}class lr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,S=!1){return(0,d.Z)(function*(){const O=yield B._fromIdTokenResponse(f,b,S),$=uu(b);return new lr({user:O,providerId:$,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const S=uu(b);return new lr({user:f,providerId:S,_tokenResponse:b,operationType:m})})()}}function uu(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Al(){return(Al=(0,d.Z)(function*(_){var f;const m=Re(_);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new lr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield f1(m,{returnSecureToken:!0}),S=yield lr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class g1 extends P.ZR{constructor(f,m,b,S){var O;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,g1.prototype),this.customData={appName:f.name,tenantId:null!==(O=f.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,S){return new g1(f,m,b,S)}}function m1(_,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?g1._fromErrorAndOperation(_,O,f,b):O})}function ms(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Q1(){return(Q1=(0,d.Z)(function*(_,f){const m=(0,P.m9)(_);yield Gs(!0,m,f);const{providerUserInfo:b}=yield tr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),S=ms(b||[]);return m.providerData=m.providerData.filter(O=>S.has(O.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function gn(_,f){return na.apply(this,arguments)}function na(){return(na=(0,d.Z)(function*(_,f,m=!1){const b=yield or(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return lr._forOperation(_,"link",b)})).apply(this,arguments)}function Gs(_,f,m){return on.apply(this,arguments)}function on(){return(on=(0,d.Z)(function*(_,f,m){yield ar(f);const S=!1===_?"provider-already-linked":"no-such-provider";ne(ms(f.providerData).has(m)===_,f.auth,S)})).apply(this,arguments)}function Nl(_,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,d.Z)(function*(_,f,m=!1){const{auth:b}=_,S="reauthenticate";try{const O=yield or(_,m1(b,S,f,_),m);ne(O.idToken,b,"internal-error");const $=at(O.idToken);ne($,b,"internal-error");const{sub:oe}=$;return ne(_.uid===oe,b,"user-mismatch"),lr._forOperation(_,S,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Te(b,"user-mismatch"),O}})).apply(this,arguments)}function bo(_,f){return br.apply(this,arguments)}function br(){return(br=(0,d.Z)(function*(_,f,m=!1){const b="signIn",S=yield m1(_,b,f),O=yield lr._fromIdTokenResponse(_,b,S);return m||(yield _._updateCurrentUser(O.user)),O})).apply(this,arguments)}function kn(_,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(_,f){return bo(Re(_),f)})).apply(this,arguments)}function Ii(_,f){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,d.Z)(function*(_,f){const m=(0,P.m9)(_);return yield Gs(!1,m,f.providerId),gn(m,f)})).apply(this,arguments)}function $s(_,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,d.Z)(function*(_,f){return Nl((0,P.m9)(_),f)})).apply(this,arguments)}function v1(_,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithCustomToken",Qt(_,f))})).apply(this,arguments)}function qs(){return(qs=(0,d.Z)(function*(_,f){const m=Re(_),b=yield v1(m,{token:f,returnSecureToken:!0}),S=yield lr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class vt{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?_1._fromServerResponse(f,m):Te(f,"internal-error")}}class _1 extends vt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new _1(m)}}function xa(_,f,m){var b;ne((null===(b=m.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),ne(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ne(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(ne(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function b1(){return(b1=(0,d.Z)(function*(_,f,m){const b=(0,P.m9)(_),S={requestType:"PASSWORD_RESET",email:f};m&&xa(b,S,m),yield a1(b,S)})).apply(this,arguments)}function X1(){return(X1=(0,d.Z)(function*(_,f,m){yield On((0,P.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function we(){return(we=(0,d.Z)(function*(_,f){yield mo((0,P.m9)(_),{oobCode:f})})).apply(this,arguments)}function Vt(_,f){return tc.apply(this,arguments)}function tc(){return(tc=(0,d.Z)(function*(_,f){const m=(0,P.m9)(_),b=yield On(m,{oobCode:f}),S=b.requestType;switch(ne(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(b.mfaInfo,m,"internal-error");default:ne(b.email,m,"internal-error")}let O=null;return b.mfaInfo&&(O=vt._fromServerResponse(Re(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:S}})).apply(this,arguments)}function ra(){return(ra=(0,d.Z)(function*(_,f){const{data:m}=yield Vt((0,P.m9)(_),f);return m.email})).apply(this,arguments)}function Kr(){return(Kr=(0,d.Z)(function*(_,f,m){const b=Re(_),S=yield f1(b,{returnSecureToken:!0,email:f,password:m}),O=yield lr._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function xl(){return(xl=(0,d.Z)(function*(_,f,m){const b=(0,P.m9)(_),S={requestType:"EMAIL_SIGNIN",email:f};ne(m.handleCodeInApp,b,"argument-error"),m&&xa(b,S,m),yield Ti(b,S)})).apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(_,f,m){const b=(0,P.m9)(_),S=J1.credentialWithLink(f,m||St());return ne(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),kn(b,S)})).apply(this,arguments)}function ur(_,f){return si.apply(this,arguments)}function si(){return(si=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:createAuthUri",Qt(_,f))})).apply(this,arguments)}function Zs(){return(Zs=(0,d.Z)(function*(_,f){const b={identifier:f,continueUri:Jt()?St():"http://localhost"},{signinMethods:S}=yield ur((0,P.m9)(_),b);return S||[]})).apply(this,arguments)}function sc(){return(sc=(0,d.Z)(function*(_,f){const m=(0,P.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&xa(m.auth,S,f);const{email:O}=yield yr(m.auth,S);O!==_.email&&(yield _.reload())})).apply(this,arguments)}function T1(){return(T1=(0,d.Z)(function*(_,f,m){const b=(0,P.m9)(_),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&xa(b.auth,O,m);const{email:$}=yield Dl(b.auth,O);$!==_.email&&(yield _.reload())})).apply(this,arguments)}function oc(_,f){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ac(){return(ac=(0,d.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,P.m9)(_),O={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},$=yield or(b,oc(b.auth,O));b.displayName=$.displayName||null,b.photoURL=$.photoUrl||null;const oe=b.providerData.find(({providerId:Ue})=>"password"===Ue);oe&&(oe.displayName=b.displayName,oe.photoURL=b.photoURL),yield b._updateTokensIfNecessary($)})).apply(this,arguments)}function lc(_,f,m){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(_,f,m){const{auth:b}=_,O={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(O.email=f),m&&(O.password=m);const $=yield or(_,Nt(b,O));yield _._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class wo{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class Rl extends wo{constructor(f,m,b,S){super(f,m,b),this.username=S}}class Pl extends wo{constructor(f,m){super(f,"facebook.com",m)}}class Do extends Rl{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Ks extends wo{constructor(f,m){super(f,"google.com",m)}}class uc extends Rl{constructor(f,m,b){super(f,"twitter.com",m,b)}}function wr(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function kl(_){var f,m;if(!_)return null;const{providerId:b}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},O=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const $=null===(m=null===(f=at(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if($)return new wo(O,"anonymous"!==$&&"custom"!==$?$:null)}if(!b)return null;switch(b){case"facebook.com":return new Pl(O,S);case"github.com":return new Do(O,S);case"google.com":return new Ks(O,S);case"twitter.com":return new uc(O,S,_.screenName||null);case"custom":case"anonymous":return new wo(O,null);default:return new wo(O,b,S)}}(m)}class _s{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new _s("enroll",f)}static _fromMfaPendingCredential(f){return new _s("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return _s._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return _s._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ra{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=Re(f),S=m.customData._serverResponse,O=(S.mfaInfo||[]).map(oe=>vt._fromServerResponse(b,oe));ne(S.mfaPendingCredential,b,"internal-error");const $=_s._fromMfaPendingCredential(S.mfaPendingCredential);return new Ra($,O,function(){var oe=(0,d.Z)(function*(Ue){const nt=yield Ue._process(b,$);delete S.mfaInfo,delete S.mfaPendingCredential;const Ct=Object.assign(Object.assign({},S),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(m.operationType){case"signIn":const ut=yield lr._fromIdTokenResponse(b,m.operationType,Ct);return yield b._updateCurrentUser(ut.user),ut;case"reauthenticate":return ne(m.user,b,"internal-error"),lr._forOperation(m.user,m.operationType,Ct);default:Te(b,"internal-error")}});return function(Ue){return oe.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,d.Z)(function*(){return m.signInResolver(f)})()}}function Vn(_,f){return $t(_,"POST","/v2/accounts/mfaEnrollment:start",Qt(_,f))}class ys{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>vt._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new ys(f)}getSession(){var f=this;return(0,d.Z)(function*(){return _s._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var b=this;return(0,d.Z)(function*(){const S=f,O=yield b.getSession(),$=yield or(b.user,S._process(b.user.auth,O,m));return yield b.user._updateTokensIfNecessary($),b.user.reload()})()}unenroll(f){var m=this;return(0,d.Z)(function*(){const b="string"==typeof f?f:f.uid,S=yield m.user.getIdToken(),O=yield or(m.user,function fd(_,f){return $t(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(_,f))}(m.user.auth,{idToken:S,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:$})=>$!==b),yield m.user._updateTokensIfNecessary(O);try{yield m.user.reload()}catch($){if("auth/user-token-expired"!==$.code)throw $}})()}}const sa=new WeakMap,fc="__sak";class bs{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(fc,"1"),this.storage.removeItem(fc),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const wn=(()=>{class _ extends bs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pc(){const _=(0,P.z$)();return Zt(_)||rr(_)}()&&function qn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=hs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),O=this.localCache[b];S!==O&&m(b,O,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((oe,Ue,nt)=>{this.notifyListeners(oe,nt)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(S);if(m.newValue!==oe)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const O=()=>{const oe=this.storage.getItem(S);!b&&this.localCache[S]===oe||this.notifyListeners(S,oe)},$=this.storage.getItem(S);!function Ta(){return(0,P.w1)()&&10===document.documentMode}()||$===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,O=this;return(0,d.Z)(function*(){yield S().call(O,m,b),O.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,d.Z)(function*(){const O=yield b().call(S,m);return S.localCache[m]=JSON.stringify(O),O})()}_remove(m){var b=()=>super._remove,S=this;return(0,d.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return _.type="LOCAL",_})(),en=(()=>{class _ extends bs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return _.type="SESSION",_})();let Hn=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(O=>O.isListeningto(m));if(b)return b;const S=new _(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,d.Z)(function*(){const S=m,{eventId:O,eventType:$,data:oe}=S.data,Ue=b.handlersMap[$];if(!(null==Ue?void 0:Ue.size))return;S.ports[0].postMessage({status:"ack",eventId:O,eventType:$});const nt=Array.from(Ue).map(function(){var ut=(0,d.Z)(function*(An){return An(S.origin,oe)});return function(An){return ut.apply(this,arguments)}}()),Ct=yield function Pn(_){return Promise.all(_.map(function(){var f=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(nt);S.ports[0].postMessage({status:"done",eventId:O,eventType:$,response:Ct})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function oa(_="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return _+m}class Vl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var S=this;return(0,d.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let $,oe;return new Promise((Ue,nt)=>{const Ct=oa("",20);O.port1.start();const ut=setTimeout(()=>{nt(new Error("unsupported_event"))},b);oe={messageChannel:O,onMessage(An){const ts=An;if(ts.data.eventId===Ct)switch(ts.data.status){case"ack":clearTimeout(ut),$=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Ue(ts.data.response);break;default:clearTimeout(ut),clearTimeout($),nt(new Error("invalid_response"))}}},S.handlers.add(oe),O.port1.addEventListener("message",oe.onMessage),S.target.postMessage({eventType:f,eventId:Ct,data:m},[O.port2])}).finally(()=>{oe&&S.removeMessageHandler(oe)})})()}}function fn(){return window}function Mi(){return void 0!==fn().WorkerGlobalScope&&"function"==typeof fn().importScripts}function Jr(){return(Jr=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const gc="firebaseLocalStorageDb",Eo="firebaseLocalStorage",mn="fbase_key";class Cs{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Qs(_,f){return _.transaction([Eo],f?"readwrite":"readonly").objectStore(Eo)}function Xs(){const _=indexedDB.open(gc,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Eo,{keyPath:mn})}catch(S){m(S)}}),_.addEventListener("success",(0,d.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Eo)?f(b):(b.close(),yield function oi(){const _=indexedDB.deleteDatabase(gc);return new Cs(_).toPromise()}(),f(yield Xs()))}))})}function ai(_,f,m){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,d.Z)(function*(_,f,m){const b=Qs(_,!0).put({[mn]:f,value:m});return new Cs(b).toPromise()})).apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(_,f){const m=Qs(_,!1).get(f),b=yield new Cs(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Zi(_,f){const m=Qs(_,!0).delete(f);return new Cs(m).toPromise()}const Ai=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield Xs()),m.db})()}_withRetries(m){var b=this;return(0,d.Z)(function*(){let S=0;for(;;)try{const O=yield b._openDb();return yield m(O)}catch(O){if(S++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Mi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Hn._getInstance(function Hl(){return Mi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(S,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(S,O){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(S,O){return["keyChanged"]});return function(S,O){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function S1(){return Jr.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Vl(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=O[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Dt(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Xs();return yield ai(m,fc,"1"),yield Zi(m,fc),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,d.Z)(function*(){return S._withPendingWrite((0,d.Z)(function*(){return yield S._withRetries(O=>ai(O,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,d.Z)(function*(){const S=yield b._withRetries(O=>function vc(_,f){return eo.apply(this,arguments)}(O,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(S=>Zi(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const b=yield m._withRetries($=>{const oe=Qs($,!1).getAll();return new Cs(oe).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],O=new Set;for(const{fbase_key:$,value:oe}of b)O.add($),JSON.stringify(m.localCache[$])!==JSON.stringify(oe)&&(m.notifyListeners($,oe),S.push($));for(const $ of Object.keys(m.localCache))m.localCache[$]&&!O.has($)&&(m.notifyListeners($,null),S.push($));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function to(_,f){return $t(_,"POST","/v2/accounts/mfaSignIn:start",Qt(_,f))}function Ni(){return(Ni=(0,d.Z)(function*(_){return(yield $t(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Dn(_){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=S=>{const O=_e("internal-error");O.customData=S,m(O)},b.type="text/javascript",b.charset="UTF-8",function Bl(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function Zn(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Dr=1e12;class dr{constructor(f){this.auth=f,this.counter=Dr,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new Ki(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||Dr;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Dr))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,d.Z)(function*(){var b;return null===(b=m._widgets.get(f||Dr))||void 0===b||b.execute(),""})()}}class Ki{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;ne(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bn(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const no=Zn("rcb"),Ul=new ln(3e4,6e4);class gd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!fn().grecaptcha}load(f,m=""){return ne(function md(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(fn().grecaptcha):new Promise((b,S)=>{const O=fn().setTimeout(()=>{S(_e(f,"network-request-failed"))},Ul.get());fn()[no]=()=>{fn().clearTimeout(O),delete fn()[no];const oe=fn().grecaptcha;if(!oe)return void S(_e(f,"internal-error"));const Ue=oe.render;oe.render=(nt,Ct)=>{const ut=Ue(nt,Ct);return this.counter++,ut},this.hostLanguage=m,b(oe)},Dn(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:no,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),S(_e(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!fn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vd{load(f){return(0,d.Z)(function*(){return new dr(f)})()}clearedOneInstance(){}}const ro="recaptcha",Er={theme:"light",type:"image"};class _d{constructor(f,m=Object.assign({},Er),b){this.parameters=m,this.type=ro,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Re(b),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;ne(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vd:new gd,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(O=>{const $=oe=>{!oe||(f.tokenChangeListeners.delete($),O(oe))};f.tokenChangeListeners.add($),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=fn()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){ne(Jt()&&!Mi(),f.auth,"internal-error"),yield function io(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function ir(_){return Ni.apply(this,arguments)}(f.auth);ne(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ws{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=ea._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function En(){return(En=(0,d.Z)(function*(_,f,m){const b=Re(_),S=yield Tr(b,f,(0,P.m9)(m));return new ws(S,O=>kn(b,O))})).apply(this,arguments)}function ca(){return(ca=(0,d.Z)(function*(_,f,m){const b=(0,P.m9)(_);yield Gs(!1,b,"phone");const S=yield Tr(b.auth,f,(0,P.m9)(m));return new ws(S,O=>Ii(b,O))})).apply(this,arguments)}function bc(){return(bc=(0,d.Z)(function*(_,f,m){const b=(0,P.m9)(_),S=yield Tr(b.auth,f,(0,P.m9)(m));return new ws(S,O=>$s(b,O))})).apply(this,arguments)}function Tr(_,f,m){return li.apply(this,arguments)}function li(){return(li=(0,d.Z)(function*(_,f,m){var b;const S=yield m.verify();try{let O;if(ne("string"==typeof S,_,"argument-error"),ne(m.type===ro,_,"argument-error"),O="string"==typeof f?{phoneNumber:f}:f,"session"in O){const $=O.session;if("phoneNumber"in O)return ne("enroll"===$.type,_,"internal-error"),(yield Vn(_,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ne("signin"===$.type,_,"internal-error");const oe=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return ne(oe,_,"missing-multi-factor-info"),(yield to(_,{mfaPendingCredential:$.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield cd(_,{phoneNumber:O.phoneNumber,recaptchaToken:S});return $}}finally{m._reset()}})).apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(_,f){yield gn((0,P.m9)(_),f)})).apply(this,arguments)}let xi=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Re(m)}verifyPhoneNumber(m,b){return Tr(this.auth,m,(0,P.m9)(b))}static credential(m,b){return ea._fromVerification(m,b)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?ea._fromTokenResponse(b,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ji(_,f){return f?se(f):(ne(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class La extends rn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return zn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return zn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return zn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function wc(_){return bo(_.auth,new La(_),_.bypassAuthState)}function Dc(_){const{auth:f,user:m}=_;return ne(m,f,"internal-error"),Nl(m,new La(_),_.bypassAuthState)}function Lt(_){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,d.Z)(function*(_){const{auth:f,user:m}=_;return ne(m,f,"internal-error"),gn(m,new La(_),_.bypassAuthState)})).apply(this,arguments)}class Kn{constructor(f,m,b,S,O=!1){this.auth=f,this.resolver=b,this.user=S,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,d.Z)(function*(b,S){f.pendingPromise={resolve:b,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(O){f.reject(O)}});return function(b,S){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:O,tenantId:$,error:oe,type:Ue}=f;if(oe)return void m.reject(oe);const nt={auth:m.auth,requestUri:b,sessionId:S,tenantId:$||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ue)(nt))}catch(Ct){m.reject(Ct)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return wc;case"linkViaPopup":case"linkViaRedirect":return Lt;case"reauthViaPopup":case"reauthViaRedirect":return Dc;default:Te(this.auth,"internal-error")}}resolve(f){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tc=new ln(2e3,1e4);function jl(){return(jl=(0,d.Z)(function*(_,f,m){const b=Re(_);qe(_,f,Us);const S=Ji(b,m);return new Xi(b,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function N1(){return(N1=(0,d.Z)(function*(_,f,m){const b=(0,P.m9)(_);qe(b.auth,f,Us);const S=Ji(b.auth,m);return new Xi(b.auth,"reauthViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}function x1(){return(x1=(0,d.Z)(function*(_,f,m){const b=(0,P.m9)(_);qe(b.auth,f,Us);const S=Ji(b.auth,m);return new Xi(b.auth,"linkViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}let Xi=(()=>{class _ extends Kn{constructor(m,b,S,O,$){super(m,b,O,$),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const b=yield m.execute();return ne(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,d.Z)(function*(){ie(1===m.filter.length,"Popup operations only handle one event");const b=oa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(_e(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Tc.get())};m()}}return _.currentPopupAction=null,_})();const es=new Map;class Jn extends Kn{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,d.Z)(function*(){let b=es.get(m.auth._key());if(!b){try{const O=(yield function ui(_,f){return Ic.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(O)}catch(S){b=()=>Promise.reject(S)}es.set(m.auth._key(),b)}return m.bypassAuthState||es.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const S=yield b.auth._redirectUserForId(f.eventId);if(S)return b.user=S,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Ic(){return(Ic=(0,d.Z)(function*(_,f){const m=T(f),b=E(_);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(m));return yield b._remove(m),S})).apply(this,arguments)}function Io(_,f){return la.apply(this,arguments)}function la(){return(la=(0,d.Z)(function*(_,f){return E(_)._set(T(f),"true")})).apply(this,arguments)}function E(_){return se(_._redirectPersistence)}function T(_){return ue("pendingRedirect",_.config.apiKey,_.name)}function Y(){return(Y=(0,d.Z)(function*(_,f,m){const b=Re(_);qe(_,f,Us);const S=Ji(b,m);return yield Io(S,b),S._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Ne(){return(Ne=(0,d.Z)(function*(_,f,m){const b=(0,P.m9)(_);qe(b.auth,f,Us);const S=Ji(b.auth,m);yield Io(S,b.auth);const O=yield So(b);return S._openRedirect(b.auth,f,"reauthViaRedirect",O)})).apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(_,f,m){const b=(0,P.m9)(_);qe(b.auth,f,Us);const S=Ji(b.auth,m);yield Gs(!1,b,f.providerId),yield Io(S,b.auth);const O=yield So(b);return S._openRedirect(b.auth,f,"linkViaRedirect",O)})).apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(_,f){return yield Re(_)._initializationPromise,Mn(_,f,!1)})).apply(this,arguments)}function Mn(_,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,d.Z)(function*(_,f,m=!1){const b=Re(_),S=Ji(b,f),$=yield new Jn(b,S,m).execute();return $&&!m&&(delete $.user._redirectEventId,yield b._persistUserIfCurrent($.user),yield b._setRedirectUser(null,f)),$})).apply(this,arguments)}function So(_){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,d.Z)(function*(_){const f=oa(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Oi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Sc(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $l(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!$l(f)){const S=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(_e(this.auth,S))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mo(f))}saveEventToCache(f){this.cachedEventUids.add(Mo(f)),this.lastProcessedEventTime=Date.now()}}function Mo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function $l({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Mc(_){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,d.Z)(function*(_,f={}){return $t(_,"GET","/v1/projects",f)})).apply(this,arguments)}const bd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L0=/^https?/;function Es(){return(Es=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Mc(_);for(const m of f)try{if(Ac(m))return}catch(b){}Te(_,"unauthorized-domain")})).apply(this,arguments)}function Ac(_){const f=St(),{protocol:m,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const $=new URL(_);return""===$.hostname&&""===b?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&$.hostname===b}if(!L0.test(m))return!1;if(bd.test(_))return b===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const z0=new ln(3e4,6e4);function V0(){const _=fn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Wl=null;function H0(_){return Wl=Wl||function Cd(_){return new Promise((f,m)=>{var b,S,O;function $(){V0(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{V0(),m(_e(_,"network-request-failed"))},timeout:z0.get()})}if(null===(S=null===(b=fn().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(O=fn().gapi)||void 0===O?void 0:O.load)){const oe=Zn("iframefcb");return fn()[oe]=()=>{gapi.load?$():m(_e(_,"network-request-failed"))},Dn(`https://apis.google.com/js/api.js?onload=${oe}`).catch(Ue=>m(Ue))}$()}}).catch(f=>{throw Wl=null,f})}(_),Wl}const fu=new ln(5e3,15e3),No={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ql=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function za(_){const f=_.config;ne(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?un(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:ae.SDK_VERSION},S=ql.get(_.config.apiHost);S&&(b.eid=S);const O=_._getFrameworks();return O.length&&(b.fw=O.join(",")),`${m}?${(0,P.xO)(b).slice(1)}`}function da(){return da=(0,d.Z)(function*(_){const f=yield H0(_),m=fn().gapi;return ne(m,_,"internal-error"),f.open({where:document.body,url:za(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:No,dontclear:!0},b=>new Promise(function(){var S=(0,d.Z)(function*(O,$){yield b.restyle({setHideOnLeave:!1});const oe=_e(_,"network-request-failed"),Ue=fn().setTimeout(()=>{$(oe)},fu.get());function nt(){fn().clearTimeout(Ue),O(b)}b.ping(nt).then(nt,()=>{$(oe)})});return function(O,$){return S.apply(this,arguments)}}()))}),da.apply(this,arguments)}const U0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function vu(_,f,m,b,S,O){ne(_.config.authDomain,_,"auth-domain-config-required"),ne(_.config.apiKey,_,"invalid-api-key");const $={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:b,v:ae.SDK_VERSION,eventId:S};if(f instanceof Us){f.setDefaultLanguage(_.languageCode),$.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||($.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ue,nt]of Object.entries(O||{}))$[Ue]=nt}if(f instanceof Yr){const Ue=f.getScopes().filter(nt=>""!==nt);Ue.length>0&&($.scopes=Ue.join(","))}_.tenantId&&($.tid=_.tenantId);const oe=$;for(const Ue of Object.keys(oe))void 0===oe[Ue]&&delete oe[Ue];return`${function G0({config:_}){return _.emulator?un(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,P.xO)(oe).slice(1)}`}const Ts="webStorageSupport";class Jl extends class _u{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return q("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Jl(f)}_finalizeEnroll(f,m,b){return function Ll(_,f){return $t(_,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(_,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Pa(_,f){return $t(_,"POST","/v2/accounts/mfaSignIn:finalize",Qt(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wd=(()=>{class _{constructor(){}static assertion(m){return Jl._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Dd="@firebase/auth",Ql="0.19.12";class Ed{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var S;f((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oo(){return window}function Ha(){return(Ha=(0,d.Z)(function*(_,f,m){var b;const{BuildInfo:S}=oo();ie(f.sessionId,"AuthEvent did not contain a session ID");const O=yield Ba(f.sessionId),$={};return rr()?$.ibi=S.packageName:Tn()?$.apn=S.packageName:Te(_,"operation-not-supported-in-this-environment"),S.displayName&&($.appDisplayName=S.displayName),$.sessionId=O,vu(_,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,$)})).apply(this,arguments)}function ki(){return(ki=(0,d.Z)(function*(_){const{BuildInfo:f}=oo(),m={};rr()?m.iosBundleId=f.packageName:Tn()?m.androidPackageName=f.packageName:Te(_,"operation-not-supported-in-this-environment"),yield Mc(_,m)})).apply(this,arguments)}function Xl(){return(Xl=(0,d.Z)(function*(_,f,m){const{cordova:b}=oo();let S=()=>{};try{yield new Promise((O,$)=>{let oe=null;function Ue(){var ut;O();const An=null===(ut=b.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof An&&An(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function nt(){oe||(oe=window.setTimeout(()=>{$(_e(_,"redirect-cancelled-by-user"))},2e3))}function Ct(){"visible"===(null==document?void 0:document.visibilityState)&&nt()}f.addPassiveListener(Ue),document.addEventListener("resume",nt,!1),Tn()&&document.addEventListener("visibilitychange",Ct,!1),S=()=>{f.removePassiveListener(Ue),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",Ct,!1),oe&&window.clearTimeout(oe)}})}finally{S()}})).apply(this,arguments)}function Ba(_){return Id.apply(this,arguments)}function Id(){return(Id=(0,d.Z)(function*(_){const f=R1(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function R1(_){if(ie(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let b=0;b<_.length;b++)m[b]=_.charCodeAt(b);return m}!function W0(_){(0,ae._registerComponent)(new re.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),{apiKey:O,authDomain:$}=b.options;return((oe,Ue)=>{ne(O&&!O.includes(":"),"invalid-api-key",{appName:oe.name}),ne(!(null==$?void 0:$.includes(":")),"argument-error",{appName:oe.name});const nt={apiKey:O,authDomain:$,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ia(_)},Ct=new ni(oe,Ue,nt);return function ce(_,f){const m=(null==f?void 0:f.persistence)||[],b=(Array.isArray(m)?m:[m]).map(se);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(Ct,m),Ct})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new re.wA("auth-internal",f=>{const m=Re(f.getProvider("auth").getImmediate());return new Ed(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Dd,Ql,function $0(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ae.registerVersion)(Dd,Ql,"esm2017")}("Browser");class wu extends Oi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,d.Z)(function*(){yield f.initPromise})()}}function Oc(_){return ha.apply(this,arguments)}function ha(){return(ha=(0,d.Z)(function*(_){const f=yield Rc()._get(Eu(_));return f&&(yield Rc()._remove(Eu(_))),f})).apply(this,arguments)}function kc(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function Rc(){return se(wn)}function Eu(_){return ue("authEvent",_.config.apiKey,_.name)}function Lc(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...m]=_.split("?");return(0,P.zd)(m.join("?"))}function t2(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function n2(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Md(_=(0,P.z$)()){return!("file:"!==n2()&&"ionic:"!==n2()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ir(){try{const _=self.localStorage,f=oa();if(_)return _.setItem(f,"1"),_.removeItem(f),!function fa(_=(0,P.z$)()){return function J0(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Q0(_=(0,P.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,P.hl)()}catch(_){return ko()&&(0,P.hl)()}return!1}function ko(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function zc(){return(function K0(){return"http:"===n2()||"https:"===n2()}()||(0,P.ru)()||Md())&&!function r2(){return(0,P.b$)()||(0,P.UG)()}()&&Ir()&&!ko()}function Mu(){return Md()&&"undefined"!=typeof document}function Ua(){return(Ua=(0,d.Z)(function*(){return!!Mu()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Ri={LOCAL:"local",NONE:"none",SESSION:"session"},ja=ne,Nu="persistence";function Ga(_){return xu.apply(this,arguments)}function xu(){return(xu=(0,d.Z)(function*(_){yield _._initializationPromise;const f=Vc(),m=ue(Nu,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function Vc(){var _;try{return(null===(_=function Au(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const X0=ne;class hi{constructor(){this.browserResolver=se(class Oo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=en,this._completeRedirectFn=Mn}_openPopup(f,m,b,S){var O=this;return(0,d.Z)(function*(){var $;ie(null===($=O.eventManagers[f._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const oe=vu(f,m,b,St(),S);return function xo(_,f,m,b=500,S=600){const O=Math.max((window.screen.availHeight-S)/2,0).toString(),$=Math.max((window.screen.availWidth-b)/2,0).toString();let oe="";const Ue=Object.assign(Object.assign({},U0),{width:b.toString(),height:S.toString(),top:O,left:$}),nt=(0,P.z$)().toLowerCase();m&&(oe=_r(nt)?"_blank":m),bt(nt)&&(f=f||"http://localhost",Ue.scrollbars="yes");const Ct=Object.entries(Ue).reduce((An,[ts,Bc])=>`${An}${ts}=${Bc},`,"");if(function o1(_=(0,P.z$)()){var f;return rr(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(nt)&&"_self"!==oe)return function mu(_,f){const m=document.createElement("a");m.href=_,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",oe),new Kl(null);const ut=window.open(f||"",oe,Ct);ne(ut,_,"popup-blocked");try{ut.focus()}catch(An){}return new Kl(ut)}(f,oe,oa())})()}_openRedirect(f,m,b,S){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(f),function hu(_){fn().location.href=_}(vu(f,m,b,St(),S)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:S,promise:O}=this.eventManagers[m];return S?Promise.resolve(S):(ie(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,d.Z)(function*(){const b=yield function B0(_){return da.apply(this,arguments)}(f),S=new Oi(f);return b.register("authEvent",O=>(ne(null==O?void 0:O.authEvent,f,"invalid-auth-event"),{status:S.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:S},m.iframes[f._key()]=b,S})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Ts,{type:Ts},S=>{var O;const $=null===(O=null==S?void 0:S[0])||void 0===O?void 0:O[Ts];void 0!==$&&m(!!$),Te(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function F0(_){return Es.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return hs()||Zt()||rr()}}),this.cordovaResolver=se(class Su{constructor(){this._redirectPersistence=en,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mn}_initialize(f){var m=this;return(0,d.Z)(function*(){const b=f._key();let S=m.eventManagers.get(b);return S||(S=new wu(f),m.eventManagers.set(b,S),m.attachCallbackListeners(f,S)),S})()}_openPopup(f){Te(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,S){var O=this;return(0,d.Z)(function*(){!function e2(_){var f,m,b,S,O,$,oe,Ue,nt,Ct;const ut=oo();ne("function"==typeof(null===(f=null==ut?void 0:ut.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(void 0!==(null===(m=null==ut?void 0:ut.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(O=null===(S=null===(b=null==ut?void 0:ut.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===O?void 0:O.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Ue=null===(oe=null===($=null==ut?void 0:ut.cordova)||void 0===$?void 0:$.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===Ue?void 0:Ue.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Ct=null===(nt=null==ut?void 0:ut.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===Ct?void 0:Ct.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const $=yield O._initialize(f);yield $.initialized(),$.resetRedirect(),function O1(){es.clear()}(),yield O._originValidation(f);const oe=function Du(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:kc(),postBody:null,tenantId:_.tenantId,error:_e(_,"no-auth-event")}}(f,b,S);yield function R6(_,f){return Rc()._set(Eu(_),f)}(f,oe);const Ue=yield function yu(_,f,m){return Ha.apply(this,arguments)}(f,oe,m),nt=yield function xc(_){const{cordova:f}=oo();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let S=null;b?f.plugins.browsertab.openUrl(_):S=f.InAppBrowser.open(_,function go(_=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(S)})})}(Ue);return function Td(_,f,m){return Xl.apply(this,arguments)}(f,$,nt)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function bu(_){return ki.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:S,BuildInfo:O}=oo(),$=setTimeout((0,d.Z)(function*(){yield Oc(f),m.onEvent(t2())}),500),oe=function(){var Ct=(0,d.Z)(function*(ut){clearTimeout($);const An=yield Oc(f);let ts=null;An&&(null==ut?void 0:ut.url)&&(ts=function Y0(_,f){var m,b;const S=function Pc(_){const f=Lc(_),m=f.link?decodeURIComponent(f.link):void 0,b=Lc(m).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Lc(S).link||S||b||m||_}(f);if(S.includes("/__/auth/callback")){const O=Lc(S),$=O.firebaseError?function Tu(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(O.firebaseError)):null,oe=null===(b=null===(m=null==$?void 0:$.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ue=oe?_e(oe):null;return Ue?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(An,ut.url)),m.onEvent(ts||t2())});return function(An){return Ct.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,oe);const Ue=S,nt=`${O.packageName.toLowerCase()}://`;oo().handleOpenURL=function(){var Ct=(0,d.Z)(function*(ut){if(ut.toLowerCase().startsWith(nt)&&oe({url:ut}),"function"==typeof Ue)try{Ue(ut)}catch(An){console.error(An)}});return function(ut){return Ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=en,this._completeRedirectFn=Mn}_initialize(f){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,S){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(f,m,b,S)})()}_openRedirect(f,m,b,S){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(f,m,b,S)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Mu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return X0(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,d.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Lr(){return Ua.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function xd(_){return _.unwrap()}function $a(_){return Od(_)}function Od(_){const{_tokenResponse:f}=_ instanceof P.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return xi.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Ma;break;case"facebook.com":b=_o;break;case"github.com":b=Ml;break;case"twitter.com":b=h1;break;default:const{oauthIdToken:S,oauthAccessToken:O,oauthTokenSecret:$,pendingToken:oe,nonce:Ue}=f;return O||$||S||oe?oe?m.startsWith("saml.")?Yn._create(m,oe):gs._fromParams({providerId:m,signInMethod:m,pendingToken:oe,idToken:S,accessToken:O}):new ta(m).credential({idToken:S,accessToken:O,rawNonce:Ue}):null}return _ instanceof P.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Sr(_,f){return f.catch(m=>{throw m instanceof P.ZR&&function th(_,f){var m;const b=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new nh(_,function I1(_,f){var m;const b=(0,P.m9)(_),S=f;return ne(f.customData.operationType,b,"argument-error"),ne(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Ra._fromError(b,S)}(_,f));else if(b){const S=Od(f),O=f;S&&(O.credential=S,O.tenantId=b.tenantId||void 0,O.email=b.email||void 0,O.phoneNumber=b.phoneNumber||void 0)}}(_,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:$a(m),additionalUserInfo:wr(m),user:Ro.getOrCreate(S)}})}function Ou(_,f){return ku.apply(this,arguments)}function ku(){return(ku=(0,d.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>Sr(_,m.confirm(b))}})).apply(this,arguments)}class nh{constructor(f,m){this.resolver=m,this.auth=function eh(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Sr(xd(this.auth),this.resolver.resolveSignIn(f))}}class Ro{constructor(f){this._delegate=f,this.multiFactor=function Fl(_){const f=(0,P.m9)(_);return sa.has(f)||sa.set(f,ys._fromUser(f)),sa.get(f)}(f)}static getOrCreate(f){return Ro.USER_MAP.has(f)||Ro.USER_MAP.set(f,new Ro(f)),Ro.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,d.Z)(function*(){return Sr(m.auth,Ii(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,d.Z)(function*(){return Ou(b.auth,function yc(_,f,m){return ca.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,d.Z)(function*(){return Sr(m.auth,function Qi(_,f,m){return x1.apply(this,arguments)}(m._delegate,f,hi))})()}linkWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield Ga(Re(m.auth)),function et(_,f,m){return function Et(_,f,m){return kt.apply(this,arguments)}(_,f,m)}(m._delegate,f,hi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,d.Z)(function*(){return Sr(m.auth,$s(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Ou(this.auth,function yd(_,f,m){return bc.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Sr(this.auth,function To(_,f,m){return N1.apply(this,arguments)}(this._delegate,f,hi))}reauthenticateWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield Ga(Re(m.auth)),function ee(_,f,m){return function Ae(_,f,m){return Ne.apply(this,arguments)}(_,f,m)}(m._delegate,f,hi)})()}sendEmailVerification(f){return function Si(_,f){return sc.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,d.Z)(function*(){return yield function Aa(_,f){return Q1.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function cc(_,f){return lc((0,P.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Ol(_,f){return lc((0,P.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Cc(_,f){return Ds.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function ka(_,f){return ac.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function E1(_,f,m){return T1.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ro.USER_MAP=new WeakMap;const Hc=ne;let Ru=(()=>{class _{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;Hc(S,"invalid-api-key",{appName:m.name}),Hc(S,"invalid-api-key",{appName:m.name});const O="undefined"!=typeof window?hi:void 0;this._delegate=b.initialize({options:{persistence:rh(S,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ro.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function hn(_,f,m){const b=Re(_);ne(b._canInitEmulator,b,"emulator-config-failed"),ne(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),O=cr(f),{host:$,port:oe}=function Fs(_){const f=cr(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const O=S[1];return{host:O,port:Ln(b.substr(O.length+1))}}{const[O,$]=b.split(":");return{host:O,port:Ln($)}}}(f);b.config.emulator={url:`${O}//${$}${null===oe?"":`:${oe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:$,port:oe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function qi(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,b)}applyActionCode(m){return function ec(_,f){return we.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Vt(this._delegate,m)}confirmPasswordReset(m,b){return function C1(_,f,m){return X1.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var S=this;return(0,d.Z)(function*(){return Sr(S._delegate,function ia(_,f,m){return Kr.apply(this,arguments)}(S._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function D1(_,f){return Zs.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ic(_,f){const m=vo.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){Hc(zc(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Mt(_,f){return Bn.apply(this,arguments)}(m._delegate,hi);return b?Sr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Sd(_,f){Re(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,S){const{next:O,error:$,complete:oe}=Pu(m,b,S);return this._delegate.onAuthStateChanged(O,$,oe)}onIdTokenChanged(m,b,S){const{next:O,error:$,complete:oe}=Pu(m,b,S);return this._delegate.onIdTokenChanged(O,$,oe)}sendSignInLinkToEmail(m,b){return function rc(_,f,m){return xl.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function y1(_,f,m){return b1.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,d.Z)(function*(){let S;switch(function Ad(_,f){ja(Object.values(Ri).includes(f),_,"invalid-persistence-type"),(0,P.b$)()?ja(f!==Ri.SESSION,_,"unsupported-persistence-type"):(0,P.UG)()?ja(f===Ri.NONE,_,"unsupported-persistence-type"):ko()?ja(f===Ri.NONE||f===Ri.LOCAL&&(0,P.hl)(),_,"unsupported-persistence-type"):ja(f===Ri.NONE||Ir(),_,"unsupported-persistence-type")}(b._delegate,m),m){case Ri.SESSION:S=en;break;case Ri.LOCAL:S=(yield se(Ai)._isAvailable())?Ai:wn;break;case Ri.NONE:S=G;break;default:return Te("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Sr(this._delegate,function p1(_){return Al.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Sr(this._delegate,kn(this._delegate,m))}signInWithCustomToken(m){return Sr(this._delegate,function Ws(_,f){return qs.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Sr(this._delegate,function nc(_,f,m){return kn((0,P.m9)(_),J1.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Sr(this._delegate,function w1(_,f,m){return Ys.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Ou(this._delegate,function A1(_,f,m){return En.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,d.Z)(function*(){return Hc(zc(),b._delegate,"operation-not-supported-in-this-environment"),Sr(b._delegate,function so(_,f,m){return jl.apply(this,arguments)}(b._delegate,m,hi))})()}signInWithRedirect(m){var b=this;return(0,d.Z)(function*(){return Hc(zc(),b._delegate,"operation-not-supported-in-this-environment"),yield Ga(b._delegate),function x(_,f,m){return function z(_,f,m){return Y.apply(this,arguments)}(_,f,m)}(b._delegate,m,hi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function yn(_,f){return ra.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Ri,_})();function Pu(_,f,m){let b=_;"function"!=typeof _&&({next:b,error:f,complete:m}=_);const S=b;return{next:$=>S($&&Ro.getOrCreate($)),error:f,complete:m}}function rh(_,f){const m=function Nd(_,f){const m=Vc();if(!m)return[];const b=ue(Nu,_,f);switch(m.getItem(b)){case Ri.NONE:return[G];case Ri.LOCAL:return[Ai,en];case Ri.SESSION:return[en];default:return[]}}(_,f);if("undefined"!=typeof self&&!m.includes(Ai)&&m.push(Ai),"undefined"!=typeof window)for(const b of[wn,en])m.includes(b)||m.push(b);return m.includes(G)||m.push(G),m}class Lu{constructor(){this.providerId="phone",this._delegate=new xi(xd(K.Z.auth()))}static credential(f,m){return xi.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Lu.PHONE_SIGN_IN_METHOD=xi.PHONE_SIGN_IN_METHOD,Lu.PROVIDER_ID=xi.PROVIDER_ID;const ih=ne;class sh{constructor(f,m,b=K.Z.app()){var S;ih(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new _d(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kd(_){_.INTERNAL.registerComponent(new re.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new Ru(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:J1,FacebookAuthProvider:_o,GithubAuthProvider:Ml,GoogleAuthProvider:Ma,OAuthProvider:ta,SAMLAuthProvider:ii,PhoneAuthProvider:Lu,PhoneMultiFactorGenerator:wd,RecaptchaVerifier:sh,TwitterAuthProvider:h1,Auth:Ru,AuthCredential:rn,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.12")}(K.Z)},8306:(lt,Ee,R)=>{R.d(Ee,{y:()=>U});var d=R(930),K=R(727),P=R(8822),ae=R(4671);var re=R(2416),he=R(576),le=R(2806);let U=(()=>{class Me{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const fe=new Me;return fe.source=this,fe.operator=ze,fe}subscribe(ze,fe,Ce){const rt=function Ze(Me){return Me&&Me instanceof d.Lv||function Q(Me){return Me&&(0,he.m)(Me.next)&&(0,he.m)(Me.error)&&(0,he.m)(Me.complete)}(Me)&&(0,K.Nn)(Me)}(ze)?ze:new d.Hp(ze,fe,Ce);return(0,le.x)(()=>{const{operator:Je,source:Te}=this;rt.add(Je?Je.call(rt,Te):Te?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(ze){try{return this._subscribe(ze)}catch(fe){ze.error(fe)}}forEach(ze,fe){return new(fe=j(fe))((Ce,rt)=>{const Je=new d.Hp({next:Te=>{try{ze(Te)}catch(_e){rt(_e),Je.unsubscribe()}},error:rt,complete:Ce});this.subscribe(Je)})}_subscribe(ze){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(ze)}[P.L](){return this}pipe(...ze){return function ge(Me){return 0===Me.length?ae.y:1===Me.length?Me[0]:function(ze){return Me.reduce((fe,Ce)=>Ce(fe),ze)}}(ze)(this)}toPromise(ze){return new(ze=j(ze))((fe,Ce)=>{let rt;this.subscribe(Je=>rt=Je,Je=>Ce(Je),()=>fe(rt))})}}return Me.create=ke=>new Me(ke),Me})();function j(Me){var ke;return null!==(ke=null!=Me?Me:re.v.Promise)&&void 0!==ke?ke:Promise}},7579:(lt,Ee,R)=>{R.d(Ee,{x:()=>re});var d=R(8306),K=R(727);const ae=(0,R(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=R(8737),ge=R(2806);let re=(()=>{class le extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Q=new he(this,this);return Q.operator=j,Q}_throwIfClosed(){if(this.closed)throw new ae}next(j){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(j)}})}error(j){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Q}=this;for(;Q.length;)Q.shift().error(j)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Q,isStopped:Ze,observers:Me}=this;return Q||Ze?K.Lc:(this.currentObservers=null,Me.push(j),new K.w0(()=>{this.currentObservers=null,(0,X.P)(Me,j)}))}_checkFinalizedStatuses(j){const{hasError:Q,thrownError:Ze,isStopped:Me}=this;Q?j.error(Ze):Me&&j.complete()}asObservable(){const j=new d.y;return j.source=this,j}}return le.create=(U,j)=>new he(U,j),le})();class he extends re{constructor(U,j){super(),this.destination=U,this.source=j}next(U){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Q||Q.call(j,U)}error(U){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Q||Q.call(j,U)}complete(){var U,j;null===(j=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===j||j.call(U)}_subscribe(U){var j,Q;return null!==(Q=null===(j=this.source)||void 0===j?void 0:j.subscribe(U))&&void 0!==Q?Q:K.Lc}}},930:(lt,Ee,R)=>{R.d(Ee,{Hp:()=>ze,Lv:()=>Q});var d=R(576),K=R(727),P=R(2416),ae=R(7849),X=R(5032);const ge=le("C",void 0,void 0);function le(Te,_e,be){return{kind:Te,value:_e,error:be}}var U=R(3410),j=R(2806);class Q extends K.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,K.Nn)(_e)&&_e.add(this)):this.destination=Je}static create(_e,be,qe){return new ze(_e,be,qe)}next(_e){this.isStopped?rt(function he(Te){return le("N",Te,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?rt(function re(Te){return le("E",void 0,Te)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?rt(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function Me(Te,_e){return Ze.call(Te,_e)}class ke{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:be}=this;if(be.next)try{be.next(_e)}catch(qe){fe(qe)}}error(_e){const{partialObserver:be}=this;if(be.error)try{be.error(_e)}catch(qe){fe(qe)}else fe(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(be){fe(be)}}}class ze extends Q{constructor(_e,be,qe){let Ge;if(super(),(0,d.m)(_e)||!_e)Ge={next:null!=_e?_e:void 0,error:null!=be?be:void 0,complete:null!=qe?qe:void 0};else{let ne;this&&P.v.useDeprecatedNextContext?(ne=Object.create(_e),ne.unsubscribe=()=>this.unsubscribe(),Ge={next:_e.next&&Me(_e.next,ne),error:_e.error&&Me(_e.error,ne),complete:_e.complete&&Me(_e.complete,ne)}):Ge=_e}this.destination=new ke(Ge)}}function fe(Te){P.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Te):(0,ae.h)(Te)}function rt(Te,_e){const{onStoppedNotification:be}=P.v;be&&U.z.setTimeout(()=>be(Te,_e))}const Je={closed:!0,next:X.Z,error:function Ce(Te){throw Te},complete:X.Z}},727:(lt,Ee,R)=>{R.d(Ee,{Lc:()=>ge,w0:()=>X,Nn:()=>re});var d=R(576);const P=(0,R(3888).d)(le=>function(j){le(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Q,Ze)=>`${Ze+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ae=R(8737);class X{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Me of j)Me.remove(this);else j.remove(this);const{initialTeardown:Q}=this;if((0,d.m)(Q))try{Q()}catch(Me){U=Me instanceof P?Me.errors:[Me]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const Me of Ze)try{he(Me)}catch(ke){U=null!=U?U:[],ke instanceof P?U=[...U,...ke.errors]:U.push(ke)}}if(U)throw new P(U)}}add(U){var j;if(U&&U!==this)if(this.closed)he(U);else{if(U instanceof X){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(U)}}_hasParent(U){const{_parentage:j}=this;return j===U||Array.isArray(j)&&j.includes(U)}_addParent(U){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(U),j):j?[j,U]:U}_removeParent(U){const{_parentage:j}=this;j===U?this._parentage=null:Array.isArray(j)&&(0,ae.P)(j,U)}remove(U){const{_finalizers:j}=this;j&&(0,ae.P)(j,U),U instanceof X&&U._removeParent(this)}}X.EMPTY=(()=>{const le=new X;return le.closed=!0,le})();const ge=X.EMPTY;function re(le){return le instanceof X||le&&"closed"in le&&(0,d.m)(le.remove)&&(0,d.m)(le.add)&&(0,d.m)(le.unsubscribe)}function he(le){(0,d.m)(le)?le():le.unsubscribe()}},2416:(lt,Ee,R)=>{R.d(Ee,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,Ee,R)=>{R.d(Ee,{E:()=>K});const K=new(R(8306).y)(X=>X.complete())},8996:(lt,Ee,R)=>{R.d(Ee,{D:()=>_e});var d=R(8421),K=R(5363),P=R(9468),ge=R(8306),he=R(2202),le=R(576),U=R(9672);function Q(be,qe){if(!be)throw new Error("Iterable cannot be null");return new ge.y(Ge=>{(0,U.f)(Ge,qe,()=>{const ne=be[Symbol.asyncIterator]();(0,U.f)(Ge,qe,()=>{ne.next().then(q=>{q.done?Ge.complete():Ge.next(q.value)})},0,!0)})})}var Ze=R(3670),Me=R(8239),ke=R(1144),ze=R(6495),fe=R(2206),Ce=R(4532),rt=R(3260);function _e(be,qe){return qe?function Te(be,qe){if(null!=be){if((0,Ze.c)(be))return function ae(be,qe){return(0,d.Xf)(be).pipe((0,P.R)(qe),(0,K.Q)(qe))}(be,qe);if((0,ke.z)(be))return function re(be,qe){return new ge.y(Ge=>{let ne=0;return qe.schedule(function(){ne===be.length?Ge.complete():(Ge.next(be[ne++]),Ge.closed||this.schedule())})})}(be,qe);if((0,Me.t)(be))return function X(be,qe){return(0,d.Xf)(be).pipe((0,P.R)(qe),(0,K.Q)(qe))}(be,qe);if((0,fe.D)(be))return Q(be,qe);if((0,ze.T)(be))return function j(be,qe){return new ge.y(Ge=>{let ne;return(0,U.f)(Ge,qe,()=>{ne=be[he.h](),(0,U.f)(Ge,qe,()=>{let q,ie;try{({value:q,done:ie}=ne.next())}catch(me){return void Ge.error(me)}ie?Ge.complete():Ge.next(q)},0,!0)}),()=>(0,le.m)(null==ne?void 0:ne.return)&&ne.return()})}(be,qe);if((0,rt.L)(be))return function Je(be,qe){return Q((0,rt.Q)(be),qe)}(be,qe)}throw(0,Ce.z)(be)}(be,qe):(0,d.Xf)(be)}},8421:(lt,Ee,R)=>{R.d(Ee,{Xf:()=>Ze});var d=R(655),K=R(1144),P=R(8239),ae=R(8306),X=R(3670),ge=R(2206),re=R(4532),he=R(6495),le=R(3260),U=R(576),j=R(7849),Q=R(8822);function Ze(Te){if(Te instanceof ae.y)return Te;if(null!=Te){if((0,X.c)(Te))return function Me(Te){return new ae.y(_e=>{const be=Te[Q.L]();if((0,U.m)(be.subscribe))return be.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,K.z)(Te))return function ke(Te){return new ae.y(_e=>{for(let be=0;be<Te.length&&!_e.closed;be++)_e.next(Te[be]);_e.complete()})}(Te);if((0,P.t)(Te))return function ze(Te){return new ae.y(_e=>{Te.then(be=>{_e.closed||(_e.next(be),_e.complete())},be=>_e.error(be)).then(null,j.h)})}(Te);if((0,ge.D)(Te))return Ce(Te);if((0,he.T)(Te))return function fe(Te){return new ae.y(_e=>{for(const be of Te)if(_e.next(be),_e.closed)return;_e.complete()})}(Te);if((0,le.L)(Te))return function rt(Te){return Ce((0,le.Q)(Te))}(Te)}throw(0,re.z)(Te)}function Ce(Te){return new ae.y(_e=>{(function Je(Te,_e){var be,qe,Ge,ne;return(0,d.mG)(this,void 0,void 0,function*(){try{for(be=(0,d.KL)(Te);!(qe=yield be.next()).done;)if(_e.next(qe.value),_e.closed)return}catch(q){Ge={error:q}}finally{try{qe&&!qe.done&&(ne=be.return)&&(yield ne.call(be))}finally{if(Ge)throw Ge.error}}_e.complete()})})(Te,_e).catch(be=>_e.error(be))})}},6451:(lt,Ee,R)=>{R.d(Ee,{T:()=>ge});var d=R(8189),K=R(8421),P=R(515),ae=R(3269),X=R(8996);function ge(...re){const he=(0,ae.yG)(re),le=(0,ae._6)(re,1/0),U=re;return U.length?1===U.length?(0,K.Xf)(U[0]):(0,d.J)(le)((0,X.D)(U,he)):P.E}},5403:(lt,Ee,R)=>{R.d(Ee,{x:()=>K});var d=R(930);function K(ae,X,ge,re,he){return new P(ae,X,ge,re,he)}class P extends d.Lv{constructor(X,ge,re,he,le,U){super(X),this.onFinalize=le,this.shouldUnsubscribe=U,this._next=ge?function(j){try{ge(j)}catch(Q){X.error(Q)}}:super._next,this._error=he?function(j){try{he(j)}catch(Q){X.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(j){X.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(lt,Ee,R)=>{R.d(Ee,{U:()=>P});var d=R(4482),K=R(5403);function P(ae,X){return(0,d.e)((ge,re)=>{let he=0;ge.subscribe((0,K.x)(re,le=>{re.next(ae.call(X,le,he++))}))})}},8189:(lt,Ee,R)=>{R.d(Ee,{J:()=>P});var d=R(5577),K=R(4671);function P(ae=1/0){return(0,d.z)(K.y,ae)}},5577:(lt,Ee,R)=>{R.d(Ee,{z:()=>he});var d=R(4004),K=R(8421),P=R(4482),ae=R(9672),X=R(5403),re=R(576);function he(le,U,j=1/0){return(0,re.m)(U)?he((Q,Ze)=>(0,d.U)((Me,ke)=>U(Q,Me,Ze,ke))((0,K.Xf)(le(Q,Ze))),j):("number"==typeof U&&(j=U),(0,P.e)((Q,Ze)=>function ge(le,U,j,Q,Ze,Me,ke,ze){const fe=[];let Ce=0,rt=0,Je=!1;const Te=()=>{Je&&!fe.length&&!Ce&&U.complete()},_e=qe=>Ce<Q?be(qe):fe.push(qe),be=qe=>{Me&&U.next(qe),Ce++;let Ge=!1;(0,K.Xf)(j(qe,rt++)).subscribe((0,X.x)(U,ne=>{null==Ze||Ze(ne),Me?_e(ne):U.next(ne)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Ce--;fe.length&&Ce<Q;){const ne=fe.shift();ke?(0,ae.f)(U,ke,()=>be(ne)):be(ne)}Te()}catch(ne){U.error(ne)}}))};return le.subscribe((0,X.x)(U,_e,()=>{Je=!0,Te()})),()=>{null==ze||ze()}}(Q,Ze,le,j)))}},5363:(lt,Ee,R)=>{R.d(Ee,{Q:()=>ae});var d=R(9672),K=R(4482),P=R(5403);function ae(X,ge=0){return(0,K.e)((re,he)=>{re.subscribe((0,P.x)(he,le=>(0,d.f)(he,X,()=>he.next(le),ge),()=>(0,d.f)(he,X,()=>he.complete(),ge),le=>(0,d.f)(he,X,()=>he.error(le),ge)))})}},3099:(lt,Ee,R)=>{R.d(Ee,{B:()=>ge});var d=R(8996),K=R(5698),P=R(7579),ae=R(930),X=R(4482);function ge(he={}){const{connector:le=(()=>new P.x),resetOnError:U=!0,resetOnComplete:j=!0,resetOnRefCountZero:Q=!0}=he;return Ze=>{let Me=null,ke=null,ze=null,fe=0,Ce=!1,rt=!1;const Je=()=>{null==ke||ke.unsubscribe(),ke=null},Te=()=>{Je(),Me=ze=null,Ce=rt=!1},_e=()=>{const be=Me;Te(),null==be||be.unsubscribe()};return(0,X.e)((be,qe)=>{fe++,!rt&&!Ce&&Je();const Ge=ze=null!=ze?ze:le();qe.add(()=>{fe--,0===fe&&!rt&&!Ce&&(ke=re(_e,Q))}),Ge.subscribe(qe),Me||(Me=new ae.Hp({next:ne=>Ge.next(ne),error:ne=>{rt=!0,Je(),ke=re(Te,U,ne),Ge.error(ne)},complete:()=>{Ce=!0,Je(),ke=re(Te,j),Ge.complete()}}),(0,d.D)(be).subscribe(Me))})(Ze)}}function re(he,le,...U){return!0===le?(he(),null):!1===le?null:le(...U).pipe((0,K.q)(1)).subscribe(()=>he())}},9468:(lt,Ee,R)=>{R.d(Ee,{R:()=>K});var d=R(4482);function K(P,ae=0){return(0,d.e)((X,ge)=>{ge.add(P.schedule(()=>X.subscribe(ge),ae))})}},5698:(lt,Ee,R)=>{R.d(Ee,{q:()=>ae});var d=R(515),K=R(4482),P=R(5403);function ae(X){return X<=0?()=>d.E:(0,K.e)((ge,re)=>{let he=0;ge.subscribe((0,P.x)(re,le=>{++he<=X&&(re.next(le),X<=he&&re.complete())}))})}},8505:(lt,Ee,R)=>{R.d(Ee,{b:()=>X});var d=R(576),K=R(4482),P=R(5403),ae=R(4671);function X(ge,re,he){const le=(0,d.m)(ge)||re||he?{next:ge,error:re,complete:he}:ge;return le?(0,K.e)((U,j)=>{var Q;null===(Q=le.subscribe)||void 0===Q||Q.call(le);let Ze=!0;U.subscribe((0,P.x)(j,Me=>{var ke;null===(ke=le.next)||void 0===ke||ke.call(le,Me),j.next(Me)},()=>{var Me;Ze=!1,null===(Me=le.complete)||void 0===Me||Me.call(le),j.complete()},Me=>{var ke;Ze=!1,null===(ke=le.error)||void 0===ke||ke.call(le,Me),j.error(Me)},()=>{var Me,ke;Ze&&(null===(Me=le.unsubscribe)||void 0===Me||Me.call(le)),null===(ke=le.finalize)||void 0===ke||ke.call(le)}))}):ae.y}},4408:(lt,Ee,R)=>{R.d(Ee,{o:()=>X});var d=R(727);class K extends d.w0{constructor(re,he){super()}schedule(re,he=0){return this}}const P={setInterval(ge,re,...he){const{delegate:le}=P;return(null==le?void 0:le.setInterval)?le.setInterval(ge,re,...he):setInterval(ge,re,...he)},clearInterval(ge){const{delegate:re}=P;return((null==re?void 0:re.clearInterval)||clearInterval)(ge)},delegate:void 0};var ae=R(8737);class X extends K{constructor(re,he){super(re,he),this.scheduler=re,this.work=he,this.pending=!1}schedule(re,he=0){if(this.closed)return this;this.state=re;const le=this.id,U=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(U,le,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(U,this.id,he),this}requestAsyncId(re,he,le=0){return P.setInterval(re.flush.bind(re,this),le)}recycleAsyncId(re,he,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return he;P.clearInterval(he)}execute(re,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(re,he);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,he){let U,le=!1;try{this.work(re)}catch(j){le=!0,U=j||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:re,scheduler:he}=this,{actions:le}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(le,this),null!=re&&(this.id=this.recycleAsyncId(he,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,Ee,R)=>{R.d(Ee,{v:()=>P});var d=R(6063);class K{constructor(X,ge=K.now){this.schedulerActionCtor=X,this.now=ge}schedule(X,ge=0,re){return new this.schedulerActionCtor(this,X).schedule(re,ge)}}K.now=d.l.now;class P extends K{constructor(X,ge=K.now){super(X,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:ge}=this;if(this._active)return void ge.push(X);let re;this._active=!0;do{if(re=X.execute(X.state,X.delay))break}while(X=ge.shift());if(this._active=!1,re){for(;X=ge.shift();)X.unsubscribe();throw re}}}},4986:(lt,Ee,R)=>{R.d(Ee,{P:()=>ae,z:()=>P});var d=R(4408);const P=new(R(7565).v)(d.o),ae=P},6063:(lt,Ee,R)=>{R.d(Ee,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(lt,Ee,R)=>{R.d(Ee,{z:()=>d});const d={setTimeout(K,P,...ae){const{delegate:X}=d;return(null==X?void 0:X.setTimeout)?X.setTimeout(K,P,...ae):setTimeout(K,P,...ae)},clearTimeout(K){const{delegate:P}=d;return((null==P?void 0:P.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(lt,Ee,R)=>{R.d(Ee,{h:()=>K});const K=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,Ee,R)=>{R.d(Ee,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(lt,Ee,R)=>{R.d(Ee,{_6:()=>ge,jO:()=>ae,yG:()=>X});var d=R(576),K=R(3532);function P(re){return re[re.length-1]}function ae(re){return(0,d.m)(P(re))?re.pop():void 0}function X(re){return(0,K.K)(P(re))?re.pop():void 0}function ge(re,he){return"number"==typeof P(re)?re.pop():he}},8737:(lt,Ee,R)=>{function d(K,P){if(K){const ae=K.indexOf(P);0<=ae&&K.splice(ae,1)}}R.d(Ee,{P:()=>d})},3888:(lt,Ee,R)=>{function d(K){const ae=K(X=>{Error.call(X),X.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}R.d(Ee,{d:()=>d})},2806:(lt,Ee,R)=>{R.d(Ee,{O:()=>ae,x:()=>P});var d=R(2416);let K=null;function P(X){if(d.v.useDeprecatedSynchronousErrorHandling){const ge=!K;if(ge&&(K={errorThrown:!1,error:null}),X(),ge){const{errorThrown:re,error:he}=K;if(K=null,re)throw he}}else X()}function ae(X){d.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=X)}},9672:(lt,Ee,R)=>{function d(K,P,ae,X=0,ge=!1){const re=P.schedule(function(){ae(),ge?K.add(this.schedule(null,X)):this.unsubscribe()},X);if(K.add(re),!ge)return re}R.d(Ee,{f:()=>d})},4671:(lt,Ee,R)=>{function d(K){return K}R.d(Ee,{y:()=>d})},1144:(lt,Ee,R)=>{R.d(Ee,{z:()=>d});const d=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(lt,Ee,R)=>{R.d(Ee,{D:()=>K});var d=R(576);function K(P){return Symbol.asyncIterator&&(0,d.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(lt,Ee,R)=>{function d(K){return"function"==typeof K}R.d(Ee,{m:()=>d})},3670:(lt,Ee,R)=>{R.d(Ee,{c:()=>P});var d=R(8822),K=R(576);function P(ae){return(0,K.m)(ae[d.L])}},6495:(lt,Ee,R)=>{R.d(Ee,{T:()=>P});var d=R(2202),K=R(576);function P(ae){return(0,K.m)(null==ae?void 0:ae[d.h])}},8239:(lt,Ee,R)=>{R.d(Ee,{t:()=>K});var d=R(576);function K(P){return(0,d.m)(null==P?void 0:P.then)}},3260:(lt,Ee,R)=>{R.d(Ee,{L:()=>ae,Q:()=>P});var d=R(655),K=R(576);function P(X){return(0,d.FC)(this,arguments,function*(){const re=X.getReader();try{for(;;){const{value:he,done:le}=yield(0,d.qq)(re.read());if(le)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(he)}}finally{re.releaseLock()}})}function ae(X){return(0,K.m)(null==X?void 0:X.getReader)}},3532:(lt,Ee,R)=>{R.d(Ee,{K:()=>K});var d=R(576);function K(P){return P&&(0,d.m)(P.schedule)}},4482:(lt,Ee,R)=>{R.d(Ee,{A:()=>K,e:()=>P});var d=R(576);function K(ae){return(0,d.m)(null==ae?void 0:ae.lift)}function P(ae){return X=>{if(K(X))return X.lift(function(ge){try{return ae(ge,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(lt,Ee,R)=>{function d(){}R.d(Ee,{Z:()=>d})},7849:(lt,Ee,R)=>{R.d(Ee,{h:()=>P});var d=R(2416),K=R(3410);function P(ae){K.z.setTimeout(()=>{const{onUnhandledError:X}=d.v;if(!X)throw ae;X(ae)})}},4532:(lt,Ee,R)=>{function d(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ee,{z:()=>d})},655:(lt,Ee,R)=>{function ae(q,ie){var me={};for(var se in q)Object.prototype.hasOwnProperty.call(q,se)&&ie.indexOf(se)<0&&(me[se]=q[se]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(se=Object.getOwnPropertySymbols(q);Oe<se.length;Oe++)ie.indexOf(se[Oe])<0&&Object.prototype.propertyIsEnumerable.call(q,se[Oe])&&(me[se[Oe]]=q[se[Oe]])}return me}function he(q,ie,me,se){return new(me||(me=Promise))(function(ce,St){function Jt(yt){try{ht(se.next(yt))}catch(ln){St(ln)}}function xn(yt){try{ht(se.throw(yt))}catch(ln){St(ln)}}function ht(yt){yt.done?ce(yt.value):function Oe(ce){return ce instanceof me?ce:new me(function(St){St(ce)})}(yt.value).then(Jt,xn)}ht((se=se.apply(q,ie||[])).next())})}function fe(q){return this instanceof fe?(this.v=q,this):new fe(q)}function Ce(q,ie,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,se=me.apply(q,ie||[]),ce=[];return Oe={},St("next"),St("throw"),St("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function St(un){se[un]&&(Oe[un]=function(Ei){return new Promise(function(nn,ls){ce.push([un,Ei,nn,ls])>1||Jt(un,Ei)})})}function Jt(un,Ei){try{!function xn(un){un.value instanceof fe?Promise.resolve(un.value.v).then(ht,yt):ln(ce[0][2],un)}(se[un](Ei))}catch(nn){ln(ce[0][3],nn)}}function ht(un){Jt("next",un)}function yt(un){Jt("throw",un)}function ln(un,Ei){un(Ei),ce.shift(),ce.length&&Jt(ce[0][0],ce[0][1])}}function Je(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ie=q[Symbol.asyncIterator];return ie?ie.call(q):(q=function Q(q){var ie="function"==typeof Symbol&&Symbol.iterator,me=ie&&q[ie],se=0;if(me)return me.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&se>=q.length&&(q=void 0),{value:q&&q[se++],done:!q}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),me={},se("next"),se("throw"),se("return"),me[Symbol.asyncIterator]=function(){return this},me);function se(ce){me[ce]=q[ce]&&function(St){return new Promise(function(Jt,xn){!function Oe(ce,St,Jt,xn){Promise.resolve(xn).then(function(ht){ce({value:ht,done:Jt})},St)}(Jt,xn,(St=q[ce](St)).done,St.value)})}}}R.d(Ee,{FC:()=>Ce,KL:()=>Je,_T:()=>ae,mG:()=>he,qq:()=>fe})},5e3:(lt,Ee,R)=>{R.d(Ee,{$8M:()=>Zn,$Z:()=>K8,AFp:()=>U_,AaK:()=>he,CHM:()=>tc,CRH:()=>xp,CZH:()=>$p,CqO:()=>r7,EJc:()=>kE,EiD:()=>Lc,EpF:()=>n7,F$t:()=>a7,F4k:()=>vf,FYo:()=>dp,FiY:()=>di,G48:()=>ay,Gf:()=>Ap,GfV:()=>f_,Gpc:()=>j,Hsn:()=>c7,Ikx:()=>V7,JOm:()=>oe,JVY:()=>_u,L6k:()=>Jl,LAX:()=>Dd,LFG:()=>et,LSH:()=>P1,Lbi:()=>W_,MAs:()=>V8,MGl:()=>_4,NdJ:()=>_f,OlP:()=>Sn,PXZ:()=>zE,Q6J:()=>J8,QGY:()=>mf,Qsj:()=>hp,QtT:()=>hr,R0b:()=>Wo,RDi:()=>ms,Rgc:()=>O4,SBq:()=>d3,SDv:()=>i_,Sil:()=>K_,Suo:()=>Np,TTD:()=>_o,TgZ:()=>o3,Tol:()=>_7,Udp:()=>Cf,VKq:()=>Nn,VLi:()=>Xf,W1O:()=>Gf,WLB:()=>A4,X6Q:()=>t5,XFs:()=>ft,Xpm:()=>zt,Y36:()=>s3,YKP:()=>v_,YNc:()=>z8,Yjl:()=>_r,Yz7:()=>nn,ZZ4:()=>W4,_Bn:()=>xf,_UZ:()=>e7,_Vd:()=>S4,_c5:()=>p5,_uU:()=>T7,aQg:()=>h5,c2e:()=>Y_,cJS:()=>Qt,cg1:()=>B7,dDg:()=>Kp,deG:()=>gd,dqk:()=>Gt,eBb:()=>wd,eFA:()=>sy,ekj:()=>v7,g9A:()=>$_,h0i:()=>h3,hGG:()=>a9,hij:()=>b4,iGM:()=>Mp,ifc:()=>Wt,ip1:()=>B_,kEZ:()=>Pf,kL8:()=>Av,lG2:()=>Zt,mCW:()=>Ha,n5z:()=>Bl,oAB:()=>J,oJD:()=>t2,oxw:()=>o7,pB0:()=>Ql,pQV:()=>sp,q3G:()=>Xt,q4F:()=>p_,qLn:()=>Sr,qOj:()=>L8,qZA:()=>v4,qzn:()=>Oo,s9C:()=>bf,sBO:()=>cy,sIi:()=>Ka,s_b:()=>Hf,soG:()=>qp,tBr:()=>Pr,tb:()=>q_,tp0:()=>Mo,uIk:()=>ef,vHH:()=>ke,vpe:()=>e1,wAp:()=>dt,xp6:()=>Bd,yhl:()=>Va,z2F:()=>U4,z3N:()=>Ts,zSh:()=>Bh,zs3:()=>Vo});var d=R(7579),K=R(727),P=R(8306),ae=R(6451),X=R(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function le(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const U=ge({__forward_ref__:ge});function j(s){return s.__forward_ref__=j,s.toString=function(){return he(this())},s}function Q(s){return Ze(s)?s():s}function Ze(s){return"function"==typeof s&&s.hasOwnProperty(U)&&s.__forward_ref__===j}class ke extends Error{constructor(o,c){super(function ze(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,c)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function _e(s,o){const c=o?` in ${o}`:"";throw new ke(-201,`No provider for ${Ce(s)} found${c}`)}function yt(s,o,c,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${c} ${l} ${o} <=Actual]`))}function nn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Qt(s){return{providers:s.providers||[],imports:s.imports||[]}}function $t(s){return sr(s,$i)||sr(s,us)}function sr(s,o){return s.hasOwnProperty(o)?s[o]:null}function xr(s){return s&&(s.hasOwnProperty(Or)||s.hasOwnProperty(ds))?s[Or]:null}const $i=ge({\u0275prov:ge}),Or=ge({\u0275inj:ge}),us=ge({ngInjectableDef:ge}),ds=ge({ngInjectorDef:ge});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let Wr;function Wn(s){const o=Wr;return Wr=s,o}function ti(s,o,c){const l=$t(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:c&ft.Optional?null:void 0!==o?o:void _e(he(s),"Injector")}function vn(s){return{toString:s}.toString()}var nr=(()=>((nr=nr||{})[nr.OnPush=0]="OnPush",nr[nr.Default=1]="Default",nr))(),Wt=(()=>{return(s=Wt||(Wt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Wt;var s})();const at="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,or="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=at||"undefined"!=typeof global&&global||wt||or,ar={},gt=[],vr=ge({\u0275cmp:ge}),Bt=ge({\u0275dir:ge}),Qe=ge({\u0275pipe:ge}),Ie=ge({\u0275mod:ge}),tt=ge({\u0275fac:ge}),mt=ge({__NG_ELEMENT_ID__:ge});let Ut=0;function zt(s){return vn(()=>{const c={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===nr.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||gt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Wt.Emulated,id:"c",styles:s.styles||gt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,y=s.pipes;return l.id+=Ut++,l.inputs=bt(s.inputs,c),l.outputs=bt(s.outputs),g&&g.forEach(C=>C(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(V):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(G):null,l})}function V(s){return qt(s)||function Tn(s){return s[Bt]||null}(s)}function G(s){return function Ot(s){return s[Qe]||null}(s)}const ue={};function J(s){return vn(()=>{const o={type:s.type,bootstrap:s.bootstrap||gt,declarations:s.declarations||gt,imports:s.imports||gt,exports:s.exports||gt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ue[s.id]=s.type),o})}function bt(s,o){if(null==s)return ar;const c={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=l,o&&(o[h]=g)}return c}const Zt=zt;function _r(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function qt(s){return s[vr]||null}function dn(s,o){const c=s[Ie]||null;if(!c&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return c}function Ti(s){return Array.isArray(s)&&"object"==typeof s[1]}function ri(s){return Array.isArray(s)&&!0===s[1]}function Dl(s){return 0!=(8&s.flags)}function Hs(s){return 2==(2&s.flags)}function l1(s){return 1==(1&s.flags)}function qr(s){return null!==s.template}function cu(s){return 0!=(512&s[2])}function Yr(s,o){return s.hasOwnProperty(tt)?s[tt]:null}class ta{constructor(o,c,l){this.previousValue=o,this.currentValue=c,this.firstChange=l}isFirstChange(){return this.firstChange}}function _o(){return Ma}function Ma(s){return s.type.prototype.ngOnChanges&&(s.setInput=hd),Ml}function Ml(){const s=js(this),o=null==s?void 0:s.current;if(o){const c=s.previous;if(c===ar)s.previous=o;else for(let l in o)c[l]=o[l];s.current=null,this.ngOnChanges(o)}}function hd(s,o,c,l){const h=js(s)||function ii(s,o){return s[Yn]=o}(s,{previous:ar,current:null}),g=h.current||(h.current={}),y=h.previous,C=this.declaredInputs[c],D=y[C];g[C]=new ta(D&&D.currentValue,o,y===ar),s[l]=o}_o.ngInherit=!0;const Yn="__ngSimpleChanges__";function js(s){return s[Yn]||null}let m1;function ms(s){m1=s}function Aa(){return void 0!==m1?m1:"undefined"!=typeof document?document:void 0}function gn(s){return!!s.listen}const na={createRenderer:(s,o)=>Aa()};function on(s){for(;Array.isArray(s);)s=s[0];return s}function bo(s,o){return on(o[s])}function br(s,o){return on(o[s.index])}function Na(s,o){return s.data[o]}function Cr(s,o){const c=o[s];return Ti(c)?c:c[0]}function $s(s){return 4==(4&s[2])}function vs(s){return 128==(128&s[2])}function Zr(s,o){return null==o?null:s[o]}function Ws(s){s[18]=0}function qs(s,o){s[5]+=o;let c=s,l=s[3];for(;null!==l&&(1===o&&1===c[5]||-1===o&&0===c[5]);)l[5]+=o,c=l,l=l[3]}const vt={lFrame:wo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function C1(){return vt.bindingsEnabled}function we(){return vt.lFrame.lView}function Vt(){return vt.lFrame.tView}function tc(s){return vt.lFrame.contextLView=s,s[8]}function yn(){let s=ra();for(;null!==s&&64===s.type;)s=s.parent;return s}function ra(){return vt.lFrame.currentTNode}function ia(){const s=vt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Kr(s,o){const c=vt.lFrame;c.currentTNode=s,c.isParent=o}function nc(){return vt.lFrame.isParent}function rc(){vt.lFrame.isParent=!1}function w1(){return vt.isInCheckNoChangesMode}function Ys(s){vt.isInCheckNoChangesMode=s}function ur(){const s=vt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Zs(){return vt.lFrame.bindingIndex++}function Si(s){const o=vt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function E1(s){vt.lFrame.inI18n=s}function T1(s,o){const c=vt.lFrame;c.bindingIndex=c.bindingRootIndex=s,Oa(o)}function Oa(s){vt.lFrame.currentDirectiveIndex=s}function ac(){return vt.lFrame.currentQueryIndex}function cc(s){vt.lFrame.currentQueryIndex=s}function Ol(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function lc(s,o,c){if(c&ft.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||c&ft.Host||(h=Ol(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const l=vt.lFrame=kl();return l.currentTNode=o,l.lView=s,!0}function Co(s){const o=kl(),c=s[1];vt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function kl(){const s=vt.lFrame,o=null===s?null:s.child;return null===o?wo(s):o}function wo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Rl(){const s=vt.lFrame;return vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Pl=Rl;function Do(){const s=Rl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function wr(){return vt.lFrame.selectedIndex}function Js(s){vt.lFrame.selectedIndex=s}function In(){const s=vt.lFrame;return Na(s.tView,s.selectedIndex)}function _s(s,o){for(let c=o.directiveStart,l=o.directiveEnd;c<l;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:N}=g;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),C&&((s.contentHooks||(s.contentHooks=[])).push(c,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,C)),D&&(s.viewHooks||(s.viewHooks=[])).push(-c,D),M&&((s.viewHooks||(s.viewHooks=[])).push(c,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,M)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(c,N)}}function Ra(s,o,c){Ll(s,o,3,c)}function I1(s,o,c,l){(3&s[2])===c&&Ll(s,o,c,l)}function Vn(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Ll(s,o,c,l){const g=null!=l?l:-1,y=o.length-1;let C=0;for(let D=void 0!==l?65535&s[18]:0;D<y;D++)if("number"==typeof o[D+1]){if(C=o[D],null!=l&&C>=l)break}else o[D]<0&&(s[18]+=65536),(C<g||-1==g)&&(fd(s,c,o,D),s[18]=(4294901760&s[18])+D+2),D++}function fd(s,o,c,l){const h=c[l]<0,g=c[l+1],C=s[h?-c[l]:c[l]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class sa{constructor(o,c,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=l}}function _t(s,o,c){const l=gn(s);let h=0;for(;h<c.length;){const g=c[h];if("number"==typeof g){if(0!==g)break;h++;const y=c[h++],C=c[h++],D=c[h++];l?s.setAttribute(o,C,D,y):o.setAttributeNS(y,C,D)}else{const y=g,C=c[++h];Pn(y)?l&&s.setProperty(o,y,C):l?s.setAttribute(o,y,C):o.setAttribute(y,C),h++}}return h}function en(s){return 3===s||4===s||6===s}function Pn(s){return 64===s.charCodeAt(0)}function Hn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?c=h:0===c||oa(s,c,h,null,-1===c||2===c?o[++l]:null)}}return s}function oa(s,o,c,l,h){let g=0,y=s.length;if(-1===o)y=-1;else for(;g<s.length;){const C=s[g++];if("number"==typeof C){if(C===o){y=-1;break}if(C>o){y=g-1;break}}}for(;g<s.length;){const C=s[g];if("number"==typeof C)break;if(C===c){if(null===l)return void(null!==h&&(s[g+1]=h));if(l===s[g+1])return void(s[g+2]=h)}g++,null!==l&&g++,null!==h&&g++}-1!==y&&(s.splice(y,0,o),g=y+1),s.splice(g++,0,c),null!==l&&s.splice(g++,0,l),null!==h&&s.splice(g++,0,h)}function Vl(s){return-1!==s}function fn(s){return 32767&s}function Mi(s,o){let c=function hu(s){return s>>16}(s),l=o;for(;c>0;)l=l[15],c--;return l}let S1=!0;function Jr(s){const o=S1;return S1=s,o}let mc=0;function mn(s,o){const c=Qs(s,o);if(-1!==c)return c;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Cs(l.data,s),Cs(o,null),Cs(l.blueprint,null));const h=oi(s,o),g=s.injectorIndex;if(Vl(h)){const y=fn(h),C=Mi(h,o),D=C[1].data;for(let M=0;M<8;M++)o[g+M]=C[y+M]|D[y+M]}return o[g+8]=h,g}function Cs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Qs(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function oi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,l=null,h=o;for(;null!==h;){const g=h[1],y=g.type;if(l=2===y?g.declTNode:1===y?h[6]:null,null===l)return-1;if(c++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|c<<16}return-1}function Xs(s,o,c){!function Eo(s,o,c){let l;"string"==typeof c?l=c.charCodeAt(0)||0:c.hasOwnProperty(mt)&&(l=c[mt]),null==l&&(l=c[mt]=mc++);const h=255&l;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function Yi(s,o,c){if(c&ft.Optional)return s;_e(o,"NodeInjector")}function vc(s,o,c,l){if(c&ft.Optional&&void 0===l&&(l=null),0==(c&(ft.Self|ft.Host))){const h=s[9],g=Wn(void 0);try{return h?h.get(o,l,c&ft.Optional):ti(o,l,c&ft.Optional)}finally{Wn(g)}}return Yi(l,o,c)}function eo(s,o,c,l=ft.Default,h){if(null!==s){const g=function to(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(mt)?s[mt]:void 0;return"number"==typeof o?o>=0?255&o:_c:o}(c);if("function"==typeof g){if(!lc(o,s,l))return l&ft.Host?Yi(h,c,l):vc(o,c,l,h);try{const y=g(l);if(null!=y||l&ft.Optional)return y;_e(c)}finally{Pl()}}else if("number"==typeof g){let y=null,C=Qs(s,o),D=-1,M=l&ft.Host?o[16][6]:null;for((-1===C||l&ft.SkipSelf)&&(D=-1===C?oi(s,o):o[C+8],-1!==D&&ir(l,!1)?(y=o[1],C=fn(D),o=Mi(D,o)):C=-1);-1!==C;){const N=o[1];if(Pa(g,C,N.data)){const L=M1(C,o,c,y,l,M);if(L!==Zi)return L}D=o[C+8],-1!==D&&ir(l,o[1].data[C+8]===M)&&Pa(g,C,o)?(y=N,C=fn(D),o=Mi(D,o)):C=-1}}}return vc(o,c,l,h)}const Zi={};function _c(){return new Ni(yn(),we())}function M1(s,o,c,l,h,g){const y=o[1],C=y.data[s+8],N=ci(C,y,c,null==l?Hs(C)&&S1:l!=y&&0!=(3&C.type),h&ft.Host&&g===C);return null!==N?Ai(o,y,N,C):Zi}function ci(s,o,c,l,h){const g=s.providerIndexes,y=o.data,C=1048575&g,D=s.directiveStart,N=g>>20,H=h?C+N:s.directiveEnd;for(let Z=l?C:C+N;Z<H;Z++){const ve=y[Z];if(Z<D&&c===ve||Z>=D&&ve.type===c)return Z}if(h){const Z=y[D];if(Z&&qr(Z)&&Z.type===c)return D}return null}function Ai(s,o,c,l){let h=s[c];const g=o.data;if(function Fl(s){return s instanceof sa}(h)){const y=h;y.resolving&&function rt(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ke(-200,`Circular dependency in DI detected for ${s}${c}`)}(Ce(g[c]));const C=Jr(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?Wn(y.injectImpl):null;lc(s,l,ft.Default);try{h=s[c]=y.factory(void 0,g,s,l),o.firstCreatePass&&c>=l.directiveStart&&function hc(s,o,c){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(l){const y=Ma(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],o)}finally{null!==D&&Wn(D),Jr(C),y.resolving=!1,Pl()}}return h}function Pa(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function ir(s,o){return!(s&ft.Self||s&ft.Host&&o)}class Ni{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,l){return eo(this._tNode,this._lView,o,l,c)}}function Bl(s){return vn(()=>{const o=s.prototype.constructor,c=o[tt]||Dn(o),l=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==l;){const g=h[tt]||Dn(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Dn(s){return Ze(s)?()=>{const o=Dn(Q(s));return o&&o()}:Yr(s)}function Zn(s){return function ai(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const l=c.length;let h=0;for(;h<l;){const g=c[h];if(en(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<l&&"string"==typeof c[h];)h++;else{if(g===o)return c[h+1];h+=2}}}return null}(yn(),s)}const aa="__parameters__";function bn(s,o,c){return vn(()=>{const l=function Ki(s){return function(...c){if(s){const l=s(...c);for(const h in l)this[h]=l[h]}}}(o);function h(...g){if(this instanceof h)return l.apply(this,g),this;const y=new h(...g);return C.annotation=y,C;function C(D,M,N){const L=D.hasOwnProperty(aa)?D[aa]:Object.defineProperty(D,aa,{value:[]})[aa];for(;L.length<=N;)L.push(null);return(L[N]=L[N]||[]).push(y),D}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Sn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=nn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const gd=new Sn("AnalyzeForEntryComponents");function Tr(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let l=s[c];Array.isArray(l)?(o===s&&(o=s.slice(0,c)),Tr(l,o)):o!==s&&o.push(l)}return o}function li(s,o){s.forEach(c=>Array.isArray(c)?li(c,o):o(c))}function Cc(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function Ds(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function xi(s,o){const c=[];for(let l=0;l<s;l++)c.push(o);return c}function Kn(s,o,c){let l=so(s,o);return l>=0?s[1|l]=c:(l=~l,function wc(s,o,c,l){let h=s.length;if(h==o)s.push(c,l);else if(1===h)s.push(l,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=l}}(s,l,o,c)),l}function Tc(s,o){const c=so(s,o);if(c>=0)return s[1|c]}function so(s,o){return function To(s,o,c){let l=0,h=s.length>>c;for(;h!==l;){const g=l+(h-l>>1),y=s[g<<c];if(o===y)return g<<c;y>o?h=g:l=g+1}return~(h<<c)}(s,o,1)}const Io={},la="__NG_DI_FLAG__",O1="ngTempTokenPath",T=/\n/gm,z="__source",Y=ge({provide:String,useValue:ge});let ee;function Ae(s){const o=ee;return ee=s,o}function Ne(s,o=ft.Default){if(void 0===ee)throw new ke(203,"");return null===ee?ti(s,void 0,o):ee.get(s,o&ft.Optional?null:void 0,o)}function et(s,o=ft.Default){return(function tr(){return Wr}()||Ne)(Q(s),o)}const kt=et;function Mt(s){const o=[];for(let c=0;c<s.length;c++){const l=Q(s[c]);if(Array.isArray(l)){if(0===l.length)throw new ke(900,"");let h,g=ft.Default;for(let y=0;y<l.length;y++){const C=l[y],D=Mn(C);"number"==typeof D?-1===D?h=C.token:g|=D:h=C}o.push(et(h,g))}else o.push(et(l))}return o}function Bn(s,o){return s[la]=o,s.prototype[la]=o,s}function Mn(s){return s[la]}const Pr=Bn(bn("Inject",s=>({token:s})),-1),di=Bn(bn("Optional"),8),Mo=Bn(bn("SkipSelf"),4);let No,Yl;function za(s){var o;return(null===(o=function ql(){if(void 0===No&&(No=null,Gt.trustedTypes))try{No=Gt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return No}())||void 0===o?void 0:o.createHTML(s))||s}function gu(s){var o;return(null===(o=function k1(){if(void 0===Yl&&(Yl=null,Gt.trustedTypes))try{Yl=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Yl}())||void 0===o?void 0:o.createHTML(s))||s}class xo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class mu extends xo{getTypeName(){return"HTML"}}class j0 extends xo{getTypeName(){return"Style"}}class Nc extends xo{getTypeName(){return"Script"}}class vu extends xo{getTypeName(){return"URL"}}class G0 extends xo{getTypeName(){return"ResourceURL"}}function Ts(s){return s instanceof xo?s.changingThisBreaksApplicationSecurity:s}function Oo(s,o){const c=Va(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function Va(s){return s instanceof xo&&s.getTypeName()||null}function _u(s){return new mu(s)}function Jl(s){return new j0(s)}function wd(s){return new Nc(s)}function Dd(s){return new vu(s)}function Ql(s){return new G0(s)}function Ed(s){const o=new W0(s);return function q0(){try{return!!(new window.DOMParser).parseFromString(za(""),"text/html")}catch(s){return!1}}()?new $0(o):o}class $0{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(za(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class W0{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const l=this.inertDocument.createElement("body");c.appendChild(l)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=za(o),c;const l=this.inertDocument.createElement("body");return l.innerHTML=za(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const y=c.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const oo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,yu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ha(s){return(s=String(s)).match(oo)||s.match(yu)?s:"unsafe:"+s}function bu(s){return(s=String(s)).split(",").map(o=>Ha(o.trim())).join(", ")}function ki(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function xc(...s){const o={};for(const c of s)for(const l in c)c.hasOwnProperty(l)&&(o[l]=!0);return o}const Td=ki("area,br,col,hr,img,wbr"),Xl=ki("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),e2=ki("rp,rt"),Cu=xc(Td,xc(Xl,ki("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xc(e2,ki("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xc(e2,Xl)),wu=ki("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Du=ki("srcset"),ha=xc(wu,Du,ki("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ki("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Y0=ki("script,style,template");class kc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,l=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?l=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,l&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!Cu.hasOwnProperty(c))return this.sanitizedSomething=!0,!Y0.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const l=o.attributes;for(let h=0;h<l.length;h++){const g=l.item(h),y=g.name,C=y.toLowerCase();if(!ha.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=g.value;wu[C]&&(D=Ha(D)),Du[C]&&(D=bu(D)),this.buf.push(" ",y,'="',Tu(D),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();Cu.hasOwnProperty(c)&&!Td.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(Tu(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const Rc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Eu=/([^\#-~ |!])/g;function Tu(s){return s.replace(/&/g,"&amp;").replace(Rc,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Eu,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pc;function Lc(s,o){let c=null;try{Pc=Pc||Ed(s);let l=o?String(o):"";c=Pc.getInertBodyElement(l);let h=5,g=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=g,g=c.innerHTML,c=Pc.getInertBodyElement(l)}while(l!==g);return za((new kc).sanitizeChildren(Iu(c)||c))}finally{if(c){const l=Iu(c)||c;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Iu(s){return"content"in s&&function Su(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Xt=(()=>((Xt=Xt||{})[Xt.NONE=0]="NONE",Xt[Xt.HTML=1]="HTML",Xt[Xt.STYLE=2]="STYLE",Xt[Xt.SCRIPT=3]="SCRIPT",Xt[Xt.URL=4]="URL",Xt[Xt.RESOURCE_URL=5]="RESOURCE_URL",Xt))();function t2(s){const o=fa();return o?gu(o.sanitize(Xt.HTML,s)||""):Oo(s,"HTML")?gu(Ts(s)):Lc(Aa(),fe(s))}function P1(s){const o=fa();return o?o.sanitize(Xt.URL,s)||"":Oo(s,"URL")?Ts(s):Ha(fe(s))}function fa(){const s=we();return s&&s[12]}const Mu="__ngContext__";function Lr(s,o){s[Mu]=o}function Au(s){const o=function Ua(s){return s[Mu]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function $a(s){return s.ngOriginalError}function Od(s,...o){s.error(...o)}class Sr{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o),l=function th(s){return s&&s.ngErrorLogger||Od}(o);l(this._console,"ERROR",o),c&&l(this._console,"ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&$a(o);for(;c&&$a(c);)c=$a(c);return c||null}}const nh=/^>|^->|<!--|-->|--!>|<!-$/g,Ro=/(<|>)/;const sh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function m(s){return s instanceof Function?s():s}var oe=(()=>((oe=oe||{})[oe.Important=1]="Important",oe[oe.DashCase=2]="DashCase",oe))();let Ue;function nt(s,o){return Ue(s,o)}function An(s){const o=s[3];return ri(o)?o[3]:o}function L1(s){return Fu(s[13])}function F1(s){return Fu(s[4])}function Fu(s){for(;null!==s&&!ri(s);)s=s[4];return s}function pa(s,o,c,l,h){if(null!=l){let g,y=!1;ri(l)?g=l:Ti(l)&&(y=!0,l=l[0]);const C=on(l);0===s&&null!==c?null==h?fh(o,c,C):Is(o,c,C,h||null,!0):1===s&&null!==c?Is(o,c,C,h||null,!0):2===s?vh(o,C,y):3===s&&o.destroyNode(C),null!=g&&function qg(s,o,c,l,h){const g=c[7];g!==on(c)&&pa(o,s,l,g,h);for(let C=10;C<c.length;C++){const D=c[C];Fd(D[1],D,s,o,l,g)}}(o,s,g,c,h)}}function s2(s,o){return gn(s)?s.createText(o):s.createTextNode(o)}function o2(s,o,c){gn(s)?s.setValue(o,c):o.textContent=c}function zu(s,o){return s.createComment(function Ru(s){return s.replace(nh,o=>o.replace(Ro,"\u200b$1\u200b"))}(o))}function a2(s,o,c){if(gn(s))return s.createElement(o,c);{const l=null!==c?function g1(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(c):null;return null===l?s.createElement(o):s.createElementNS(l,o)}}function P6(s,o){const c=s[9],l=c.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,qs(h,-1)),c.splice(l,1)}function uh(s,o){if(s.length<=10)return;const c=10+o,l=s[c];if(l){const h=l[17];null!==h&&h!==s&&P6(h,l),o>0&&(s[c-1][4]=l[4]);const g=Ds(s,10+o);!function Fr(s,o){Fd(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const y=g[19];null!==y&&y.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function dh(s,o){if(!(256&o[2])){const c=o[11];gn(c)&&c.destroyNode&&Fd(s,o,c,3,null,null),function ch(s){let o=s[13];if(!o)return hh(s[1],s);for(;o;){let c=null;if(Ti(o))c=o[13];else{const l=o[10];l&&(c=l)}if(!c){for(;o&&!o[4]&&o!==s;)Ti(o)&&hh(o[1],o),o=o[3];null===o&&(o=s),Ti(o)&&hh(o[1],o),c=o&&o[4]}o=c}}(o)}}function hh(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function F6(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let l=0;l<c.length;l+=2){const h=o[c[l]];if(!(h instanceof sa)){const g=c[l+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const C=h[g[y]],D=g[y+1];try{D.call(C)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function L6(s,o){const c=s.cleanup,l=o[7];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const y=c[g+1],C="function"==typeof y?y(o):on(o[y]),D=l[h=c[g+2]],M=c[g+3];"boolean"==typeof M?C.removeEventListener(c[g],D,M):M>=0?l[h=M]():l[h=-M].unsubscribe(),g+=2}else{const y=l[h=c[g+1]];c[g].call(y)}if(null!==l){for(let g=h+1;g<l.length;g++)l[g]();o[7]=null}}(s,o),1===o[1].type&&gn(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&ri(o[3])){c!==o[3]&&P6(c,o);const l=o[19];null!==l&&l.detachView(s)}}}function Pd(s,o,c){return jg(s,o.parent,c)}function jg(s,o,c){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return c[0];if(2&l.flags){const h=s.data[l.directiveStart].encapsulation;if(h===Wt.None||h===Wt.Emulated)return null}return br(l,c)}function Is(s,o,c,l,h){gn(s)?s.insertBefore(o,c,l,h):o.insertBefore(c,l,h)}function fh(s,o,c){gn(s)?s.appendChild(o,c):o.appendChild(c)}function z6(s,o,c,l,h){null!==l?Is(s,o,c,l,h):fh(s,o,c)}function Hu(s,o){return gn(s)?s.parentNode(o):o.parentNode}function V6(s,o,c){return ph(s,o,c)}function H6(s,o,c){return 40&s.type?br(s,c):null}let gh,ph=H6;function B6(s,o){ph=s,gh=o}function Ld(s,o,c,l){const h=Pd(s,l,o),g=o[11],C=V6(l.parent||o[6],l,o);if(null!=h)if(Array.isArray(c))for(let D=0;D<c.length;D++)z6(g,h,c[D],C,!1);else z6(g,h,c,C,!1);void 0!==gh&&gh(g,l,o,c,h)}function l2(s,o){if(null!==o){const c=o.type;if(3&c)return br(o,s);if(4&c)return mh(-1,s[o.index]);if(8&c){const l=o.child;if(null!==l)return l2(s,l);{const h=s[o.index];return ri(h)?mh(-1,h):on(h)}}if(32&c)return nt(o,s)()||on(s[o.index]);{const l=U6(s,o);return null!==l?Array.isArray(l)?l[0]:l2(An(s[16]),l):l2(s,o.next)}}return null}function U6(s,o){return null!==o?s[16][6].projection[o.projection]:null}function mh(s,o){const c=10+s+1;if(c<o.length){const l=o[c],h=l[1].firstChild;if(null!==h)return l2(l,h)}return o[7]}function vh(s,o,c){const l=Hu(s,o);l&&function Gg(s,o,c,l){gn(s)?s.removeChild(o,c,l):o.removeChild(c)}(s,l,o,c)}function _h(s,o,c,l,h,g,y){for(;null!=c;){const C=l[c.index],D=c.type;if(y&&0===o&&(C&&Lr(on(C),l),c.flags|=4),64!=(64&c.flags))if(8&D)_h(s,o,c.child,l,h,g,!1),pa(o,s,h,C,g);else if(32&D){const M=nt(c,l);let N;for(;N=M();)pa(o,s,h,N,g);pa(o,s,h,C,g)}else 16&D?j6(s,o,l,c,h,g):pa(o,s,h,C,g);c=y?c.projectionNext:c.next}}function Fd(s,o,c,l,h,g){_h(c,l,s.firstChild,o,h,g,!1)}function j6(s,o,c,l,h,g){const y=c[16],D=y[6].projection[l.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)pa(o,s,h,D[M],g);else _h(s,o,D,y[3],h,g,!0)}function fi(s,o,c){gn(s)?s.setAttribute(o,"style",c):o.style.cssText=c}function zd(s,o,c){gn(s)?""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c):o.className=c}function G6(s,o,c){let l=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===l||s.charCodeAt(h+g)<=32)return h}c=h+1}}const $6="ng-template";function yh(s,o,c){let l=0;for(;l<s.length;){let h=s[l++];if(c&&"class"===h){if(h=s[l],-1!==G6(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<s.length&&"string"==typeof(h=s[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function W6(s){return 4===s.type&&s.value!==$6}function Zg(s,o,c){return o===(4!==s.type||c?s.value:$6)}function bh(s,o,c){let l=4;const h=s.attrs||[],g=function Vd(s){for(let o=0;o<s.length;o++)if(en(s[o]))return o;return s.length}(h);let y=!1;for(let C=0;C<o.length;C++){const D=o[C];if("number"!=typeof D){if(!y)if(4&l){if(l=2|1&l,""!==D&&!Zg(s,D,c)||""===D&&1===o.length){if(Po(l))return!1;y=!0}}else{const M=8&l?D:o[++C];if(8&l&&null!==s.attrs){if(!yh(s.attrs,M,c)){if(Po(l))return!1;y=!0}continue}const L=q6(8&l?"class":D,h,W6(s),c);if(-1===L){if(Po(l))return!1;y=!0;continue}if(""!==M){let H;H=L>g?"":h[L+1].toLowerCase();const Z=8&l?H:null;if(Z&&-1!==G6(Z,M,0)||2&l&&M!==H){if(Po(l))return!1;y=!0}}}}else{if(!y&&!Po(l)&&!Po(D))return!1;if(y&&Po(D))continue;y=!1,l=D|1&l}}return Po(l)||y}function Po(s){return 0==(1&s)}function q6(s,o,c,l){if(null===o)return-1;let h=0;if(l||!c){let g=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function Y6(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const l=s[c];if("number"==typeof l)return-1;if(l===o)return c;c++}return-1}(o,s)}function Ch(s,o,c=!1){for(let l=0;l<o.length;l++)if(bh(s,o[l],c))return!0;return!1}function Jw(s,o){e:for(let c=0;c<o.length;c++){const l=o[c];if(s.length===l.length){for(let h=0;h<s.length;h++)if(s[h]!==l[h])continue e;return!0}}return!1}function Bu(s,o){return s?":not("+o.trim()+")":o}function Jg(s){let o=s[0],c=1,l=2,h="",g=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&l){const C=s[++c];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?h+="."+y:4&l&&(h+=" "+y);else""!==h&&!Po(y)&&(o+=Bu(g,h),h=""),l=y,g=g||!Po(l);c++}return""!==h&&(o+=Bu(g,h)),o}const Rt={};function Bd(s){Z6(Vt(),we(),wr()+s,w1())}function Z6(s,o,c,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Ra(o,g,c)}else{const g=s.preOrderHooks;null!==g&&I1(o,g,0,c)}Js(c)}function Uu(s,o){return s<<17|o<<2}function Lo(s){return s>>17&32767}function Ud(s){return 2|s}function Pi(s){return(131068&s)>>2}function ns(s,o){return-131069&s|o<<2}function jd(s){return 1|s}function Zd(s,o){const c=s.contentQueries;if(null!==c)for(let l=0;l<c.length;l+=2){const h=c[l],g=c[l+1];if(-1!==g){const y=s.data[g];cc(h),y.contentQueries(2,o[g],g)}}}function jc(s,o,c,l,h,g,y,C,D,M){const N=o.blueprint.slice();return N[0]=h,N[2]=140|l,Ws(N),N[3]=N[15]=s,N[8]=c,N[10]=y||s&&s[10],N[11]=C||s&&s[11],N[12]=D||s&&s[12]||null,N[9]=M||s&&s[9]||null,N[6]=g,N[16]=2==o.type?s[16]:N,N}function u2(s,o,c,l,h){let g=s.data[o];if(null===g)g=a8(s,o,c,l,h),function sc(){return vt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=l,g.attrs=h;const y=ia();g.injectorIndex=null===y?-1:y.injectorIndex}return Kr(g,!0),g}function a8(s,o,c,l,h){const g=ra(),y=nc(),D=s.data[o]=function Ah(s,o,c,l,h,g){return{type:c,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,c,o,l,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(y?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}function $u(s,o,c,l){if(0===c)return-1;const h=o.length;for(let g=0;g<c;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return h}function Jd(s,o,c){Co(o);try{const l=s.viewQuery;null!==l&&b8(1,l,c);const h=s.template;null!==h&&um(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Zd(s,o),s.staticViewQueries&&b8(2,s.viewQuery,c);const g=s.components;null!==g&&function lm(s,o){for(let c=0;c<o.length;c++)Rh(s,o[c])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,Do()}}function Wu(s,o,c,l){const h=o[2];if(256==(256&h))return;Co(o);const g=w1();try{Ws(o),function D1(s){return vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&um(s,o,c,2,l);const y=3==(3&h);if(!g)if(y){const M=s.preOrderCheckHooks;null!==M&&Ra(o,M,null)}else{const M=s.preOrderHooks;null!==M&&I1(o,M,0,null),Vn(o,0)}if(function v8(s){for(let o=L1(s);null!==o;o=F1(o)){if(!o[2])continue;const c=o[9];for(let l=0;l<c.length;l++){const h=c[l],g=h[3];0==(1024&h[2])&&qs(g,1),h[2]|=1024}}}(o),function vm(s){for(let o=L1(s);null!==o;o=F1(o))for(let c=10;c<o.length;c++){const l=o[c],h=l[1];vs(l)&&Wu(h,l,h.template,l[8])}}(o),null!==s.contentQueries&&Zd(s,o),!g)if(y){const M=s.contentCheckHooks;null!==M&&Ra(o,M)}else{const M=s.contentHooks;null!==M&&I1(o,M,1),Vn(o,1)}!function Ih(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let l=0;l<c.length;l++){const h=c[l];if(h<0)Js(~h);else{const g=h,y=c[++l],C=c[++l];T1(y,g),C(2,o[g])}}}finally{Js(-1)}}(s,o);const C=s.components;null!==C&&function Kd(s,o){for(let c=0;c<o.length;c++)_8(s,o[c])}(o,C);const D=s.viewQuery;if(null!==D&&b8(2,D,l),!g)if(y){const M=s.viewCheckHooks;null!==M&&Ra(o,M)}else{const M=s.viewHooks;null!==M&&I1(o,M,2),Vn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,qs(o[3],-1))}finally{Do()}}function iD(s,o,c,l){const h=o[10],g=!w1(),y=$s(o);try{g&&!y&&h.begin&&h.begin(),y&&Jd(s,o,l),Wu(s,o,c,l)}finally{g&&!y&&h.end&&h.end()}}function um(s,o,c,l,h){const g=wr(),y=2&l;try{Js(-1),y&&o.length>20&&Z6(s,o,20,w1()),c(l,h)}finally{Js(g)}}function Qd(s,o,c){!C1()||(function Nh(s,o,c,l){const h=c.directiveStart,g=c.directiveEnd;s.firstCreatePass||mn(c,o),Lr(l,o);const y=c.initialInputs;for(let C=h;C<g;C++){const D=s.data[C],M=qr(D);M&&kh(o,c,D);const N=Ai(o,s,C,c);Lr(N,o),null!==y&&m8(0,C-h,N,D,0,y),M&&(Cr(c.index,o)[8]=N)}}(s,o,c,br(c,o)),128==(128&c.flags)&&function xh(s,o,c){const l=c.directiveStart,h=c.directiveEnd,y=c.index,C=function oc(){return vt.lFrame.currentDirectiveIndex}();try{Js(y);for(let D=l;D<h;D++){const M=s.data[D],N=o[D];Oa(D),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&gm(M,N)}}finally{Js(-1),Oa(C)}}(s,o,c))}function Sh(s,o,c=br){const l=o.localNames;if(null!==l){let h=o.index+1;for(let g=0;g<l.length;g+=2){const y=l[g+1],C=-1===y?c(o,s):s[y];s[h++]=C}}}function l8(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Xd(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Xd(s,o,c,l,h,g,y,C,D,M){const N=20+l,L=N+h,H=function e4(s,o){const c=[];for(let l=0;l<o;l++)c.push(l<s?null:Rt);return c}(N,L),Z="function"==typeof M?M():M;return H[1]={type:s,blueprint:H,template:c,queries:null,viewQuery:C,declTNode:o,data:H.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:Z,incompleteFirstPass:!1}}function u8(s,o,c,l){const h=Fh(o);null===c?h.push(l):(h.push(c),s.firstCreatePass&&C8(s).push(l,h.length-1))}function Yu(s,o,c){for(let l in s)if(s.hasOwnProperty(l)){const h=s[l];(c=null===c?{}:c).hasOwnProperty(l)?c[l].push(o,h):c[l]=[o,h]}return c}function rs(s,o,c,l,h,g,y,C){const D=br(o,c);let N,M=o.inputs;!C&&null!=M&&(N=M[l])?(o4(s,c,N,l,h),Hs(o)&&function fm(s,o){const c=Cr(o,s);16&c[2]||(c[2]|=64)}(c,o.index)):3&o.type&&(l=function hm(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=y?y(h,o.value||"",l):h,gn(g)?g.setProperty(D,l,h):Pn(l)||(D.setProperty?D.setProperty(l,h):D[l]=h))}function Zu(s,o,c,l){let h=!1;if(C1()){const g=function Oh(s,o,c){const l=s.directiveRegistry;let h=null;if(l)for(let g=0;g<l.length;g++){const y=l[g];Ch(c,y.selectors,!1)&&(h||(h=[]),Xs(mn(c,o),s,y.type),qr(y)?(h2(s,c),h.unshift(y)):h.push(y))}return h}(s,o,c),y=null===l?null:{"":-1};if(null!==g){h=!0,p2(c,s.data.length,g.length);for(let N=0;N<g.length;N++){const L=g[N];L.providersResolver&&L.providersResolver(L)}let C=!1,D=!1,M=$u(s,o,g.length,null);for(let N=0;N<g.length;N++){const L=g[N];c.mergedAttrs=Hn(c.mergedAttrs,L.hostAttrs),g8(s,c,o,M,L),f2(M,L,y),null!==L.contentQueries&&(c.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=128);const H=L.type.prototype;!C&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),C=!0),!D&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),D=!0),M++}!function dm(s,o){const l=o.directiveEnd,h=s.data,g=o.attrs,y=[];let C=null,D=null;for(let M=o.directiveStart;M<l;M++){const N=h[M],L=N.inputs,H=null===g||W6(o)?null:n4(L,g);y.push(H),C=Yu(L,M,C),D=Yu(N.outputs,M,D)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=C,o.outputs=D}(s,c)}y&&function t4(s,o,c){if(o){const l=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=c[o[h+1]];if(null==g)throw new ke(-301,!1);l.push(o[h],g)}}}(c,l,y)}return c.mergedAttrs=Hn(c.mergedAttrs,c.attrs),h}function f8(s,o,c,l,h,g){const y=g.hostBindings;if(y){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const D=~o.index;(function p8(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(C)!=D&&C.push(D),C.push(l,h,y)}}function gm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function h2(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function f2(s,o,c){if(c){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)c[o.exportAs[l]]=s;qr(o)&&(c[""]=s)}}function p2(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function g8(s,o,c,l,h){s.data[l]=h;const g=h.factory||(h.factory=Yr(h.type)),y=new sa(g,qr(h),null);s.blueprint[l]=y,c[l]=y,f8(s,o,0,l,$u(s,c,h.hostVars,Rt),h)}function kh(s,o,c){const l=br(o,s),h=l8(c),g=s[10],y=g2(s,jc(s,h,null,c.onPush?64:16,l,o,g,g.createRenderer(l,c),null,null));s[o.index]=y}function Ku(s,o,c,l,h,g,y){if(null==g)gn(s)?s.removeAttribute(o,h,c):o.removeAttribute(h);else{const C=null==y?fe(g):y(g,l||"",h);gn(s)?s.setAttribute(o,h,C,c):c?o.setAttributeNS(c,h,C):o.setAttribute(h,C)}}function m8(s,o,c,l,h,g){const y=g[o];if(null!==y){const C=l.setInput;for(let D=0;D<y.length;){const M=y[D++],N=y[D++],L=y[D++];null!==C?l.setInput(c,L,M,N):c[N]=L}}}function n4(s,o){let c=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[l+1])),l+=2}else l+=2;else l+=4}return c}function r4(s,o,c,l){return new Array(s,!0,!1,o,null,0,l,c,null,null)}function _8(s,o){const c=Cr(o,s);if(vs(c)){const l=c[1];80&c[2]?Wu(l,c,l.template,c[8]):c[5]>0&&i4(c)}}function i4(s){for(let l=L1(s);null!==l;l=F1(l))for(let h=10;h<l.length;h++){const g=l[h];if(1024&g[2]){const y=g[1];Wu(y,g,y.template,g[8])}else g[5]>0&&i4(g)}const c=s[1].components;if(null!==c)for(let l=0;l<c.length;l++){const h=Cr(c[l],s);vs(h)&&h[5]>0&&i4(h)}}function Rh(s,o){const c=Cr(o,s),l=c[1];(function y8(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(l,c),Jd(l,c,c[8])}function g2(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ph(s){for(;s;){s[2]|=64;const o=An(s);if(cu(s)&&!o)return s;s=o}return null}function $c(s,o,c){const l=o[10];l.begin&&l.begin();try{Wu(s,o,s.template,c)}catch(h){throw s4(o,h),h}finally{l.end&&l.end()}}function Lh(s){!function Gc(s){for(let o=0;o<s.components.length;o++){const c=s.components[o],l=Au(c),h=l[1];iD(h,l,h.template,c)}}(s[8])}function b8(s,o,c){cc(0),o(s,c)}const ym=(()=>Promise.resolve(null))();function Fh(s){return s[7]||(s[7]=[])}function C8(s){return s.cleanup||(s.cleanup=[])}function s4(s,o){const c=s[9],l=c?c.get(Sr,null):null;l&&l.handleError(o)}function o4(s,o,c,l,h){for(let g=0;g<c.length;){const y=c[g++],C=c[g++],D=o[y],M=s.data[y];null!==M.setInput?M.setInput(D,h,l,C):D[C]=h}}function Ju(s,o,c){let l=c?s.styles:null,h=c?s.classes:null,g=0;if(null!==o)for(let y=0;y<o.length;y++){const C=o[y];"number"==typeof C?g=C:1==g?h=le(h,C):2==g&&(l=le(l,C+": "+o[++y]+";"))}c?s.styles=l:s.stylesWithoutHost=l,c?s.classes=h:s.classesWithoutHost=h}const Vh=new Sn("INJECTOR",-1);class Hh{get(o,c=Io){if(c===Io){const l=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw l.name="NullInjectorError",l}return c}}const Bh=new Sn("Set Injector scope."),m2={},w8={};let Uh;function jh(){return void 0===Uh&&(Uh=new Hh),Uh}function D8(s,o=null,c=null,l){const h=a4(s,o,c,l);return h._resolveInjectorDefTypes(),h}function a4(s,o=null,c=null,l){return new wm(s,c,o||jh(),l)}class wm{constructor(o,c,l,h=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];c&&li(c,C=>this.processProvider(C,o,c)),li([o],C=>this.processInjectorType(C,[],g)),this.records.set(Vh,v2(void 0,this));const y=this.records.get(Bh);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,c=Io,l=ft.Default){this.assertNotDestroyed();const h=Ae(this),g=Wn(void 0);try{if(!(l&ft.SkipSelf)){let C=this.records.get(o);if(void 0===C){const D=function T8(s){return"function"==typeof s||"object"==typeof s&&s instanceof Sn}(o)&&$t(o);C=D&&this.injectableDefInScope(D)?v2(Qu(o),m2):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(l&ft.Self?jh():this.parent).get(o,c=l&ft.Optional&&c===Io?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[O1]=y[O1]||[]).unshift(he(o)),h)throw y;return function ua(s,o,c,l){const h=s[O1];throw o[z]&&h.unshift(o[z]),s.message=function So(s,o,c,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let g=[];for(let y in o)if(o.hasOwnProperty(y)){let C=o[y];g.push(y+":"+("string"==typeof C?JSON.stringify(C):he(C)))}h=`{${g.join(", ")}}`}return`${c}${l?"("+l+")":""}[${h}]: ${s.replace(T,"\n  ")}`}("\n"+s.message,h,c,l),s.ngTokenPath=h,s[O1]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Wn(g),Ae(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,h)=>o.push(he(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processInjectorType(o,c,l){if(!(o=Q(o)))return!1;let h=xr(o);const g=null==h&&o.ngModule||void 0,y=void 0===g?o:g,C=-1!==l.indexOf(y);if(void 0!==g&&(h=xr(g)),null==h)return!1;if(null!=h.imports&&!C){let N;l.push(y);try{li(h.imports,L=>{this.processInjectorType(L,c,l)&&(void 0===N&&(N=[]),N.push(L))})}finally{}if(void 0!==N)for(let L=0;L<N.length;L++){const{ngModule:H,providers:Z}=N[L];li(Z,ve=>this.processProvider(ve,H,Z||gt))}}this.injectorDefTypes.add(y);const D=Yr(y)||(()=>new y);this.records.set(y,v2(D,m2));const M=h.providers;if(null!=M&&!C){const N=o;li(M,L=>this.processProvider(L,N,M))}return void 0!==g&&void 0!==o.providers}processProvider(o,c,l){let h=_2(o=Q(o))?o:Q(o&&o.provide);const g=function Gh(s,o,c){return Wh(s)?v2(void 0,s.useValue):v2($h(s),m2)}(o);if(_2(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=v2(void 0,m2,!0),y.factory=()=>Mt(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,g)}hydrate(o,c){return c.value===m2&&(c.value=w8,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Im(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=Q(o.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Qu(s){const o=$t(s),c=null!==o?o.factory:Yr(s);if(null!==c)return c;if(s instanceof Sn)throw new ke(204,!1);if(s instanceof Function)return function Dm(s){const o=s.length;if(o>0)throw xi(o,"?"),new ke(204,!1);const c=function ei(s){const o=s&&(s[$i]||s[us]);if(o){const c=function Ps(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new ke(204,!1)}function $h(s,o,c){let l;if(_2(s)){const h=Q(s);return Yr(h)||Qu(h)}if(Wh(s))l=()=>Q(s.useValue);else if(function E8(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Mt(s.deps||[]));else if(function Em(s){return!(!s||!s.useExisting)}(s))l=()=>et(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function Tm(s){return!!s.deps}(s))return Yr(h)||Qu(h);l=()=>new h(...Mt(s.deps))}return l}function v2(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function Wh(s){return null!==s&&"object"==typeof s&&Y in s}function _2(s){return"function"==typeof s}let Vo=(()=>{class s{static create(c,l){var h;if(Array.isArray(c))return D8({name:""},l,c,"");{const g=null!==(h=c.name)&&void 0!==h?h:"";return D8({name:g},c.parent,c.providers,g)}}}return s.THROW_IF_NOT_FOUND=Io,s.NULL=new Hh,s.\u0275prov=nn({token:s,providedIn:"any",factory:()=>et(Vh)}),s.__NG_ELEMENT_ID__=-1,s})();function P8(s,o){_s(Au(s)[1],yn())}function L8(s){let o=function Lm(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const l=[s];for(;o;){let h;if(qr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ke(903,"");h=o.\u0275dir}if(h){if(c){l.push(h);const y=s;y.inputs=Jh(s.inputs),y.declaredInputs=Jh(s.declaredInputs),y.outputs=Jh(s.outputs);const C=h.hostBindings;C&&Fm(s,C);const D=h.viewQuery,M=h.contentQueries;if(D&&u4(s,D),M&&Za(s,M),re(s.inputs,h.inputs),re(s.declaredInputs,h.declaredInputs),re(s.outputs,h.outputs),qr(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const C=g[y];C&&C.ngInherit&&C(s),C===L8&&(c=!1)}}o=Object.getPrototypeOf(o)}!function dD(s){let o=0,c=null;for(let l=s.length-1;l>=0;l--){const h=s[l];h.hostVars=o+=h.hostVars,h.hostAttrs=Hn(h.hostAttrs,c=Hn(c,h.hostAttrs))}}(l)}function Jh(s){return s===ar?{}:s===gt?[]:s}function u4(s,o){const c=s.viewQuery;s.viewQuery=c?(l,h)=>{o(l,h),c(l,h)}:o}function Za(s,o){const c=s.contentQueries;s.contentQueries=c?(l,h,g)=>{o(l,h,g),c(l,h,g)}:o}function Fm(s,o){const c=s.hostBindings;s.hostBindings=c?(l,h)=>{o(l,h),c(l,h)}:o}let Ss=null;function pi(){if(!Ss){const s=Gt.Symbol;if(s&&s.iterator)Ss=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const l=o[c];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Ss=l)}}}return Ss}function Ka(s){return!!Xh(s)&&(Array.isArray(s)||!(s instanceof Map)&&pi()in s)}function Xh(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Uo(s,o,c){return s[o]=c}function gi(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function z1(s,o,c,l){const h=gi(s,o,c);return gi(s,o+1,l)||h}function ef(s,o,c,l){const h=we();return gi(h,Zs(),o)&&(Vt(),function zo(s,o,c,l,h,g){const y=br(s,o);Ku(o[11],y,g,s.value,c,l,h)}(In(),h,s,o,c,l)),ef}function C2(s,o,c,l){return gi(s,Zs(),c)?o+fe(c)+l:Rt}function z8(s,o,c,l,h,g,y,C){const D=we(),M=Vt(),N=s+20,L=M.firstCreatePass?function tf(s,o,c,l,h,g,y,C,D){const M=o.consts,N=u2(o,s,4,y||null,Zr(M,C));Zu(o,c,N,Zr(M,D)),_s(o,N);const L=N.tViews=Xd(2,N,l,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,N),L.queries=o.queries.embeddedTView(N)),N}(N,M,D,o,c,l,h,g,y):M.data[N];Kr(L,!1);const H=D[11].createComment("");Ld(M,D,H,L),Lr(H,D),g2(D,D[N]=r4(H,D,H,L)),l1(L)&&Qd(M,D,L),null!=y&&Sh(D,L,C)}function V8(s){return function Ii(s,o){return s[o]}(function ic(){return vt.lFrame.contextLView}(),20+s)}function s3(s,o=ft.Default){const c=we();return null===c?et(s,o):eo(yn(),c,Q(s),o)}function K8(){throw new Error("invalid")}function J8(s,o,c){const l=we();return gi(l,Zs(),o)&&rs(Vt(),In(),l,s,o,l[11],c,!1),J8}function Q8(s,o,c,l,h){const y=h?"class":"style";o4(s,c,o.inputs[y],y,l)}function o3(s,o,c,l){const h=we(),g=Vt(),y=20+s,C=h[11],D=h[y]=a2(C,o,function P0(){return vt.lFrame.currentNamespace}()),M=g.firstCreatePass?function X8(s,o,c,l,h,g,y){const C=o.consts,M=u2(o,s,2,h,Zr(C,g));return Zu(o,c,M,Zr(C,y)),null!==M.attrs&&Ju(M,M.attrs,!1),null!==M.mergedAttrs&&Ju(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(y,g,h,0,o,c,l):g.data[y];Kr(M,!0);const N=M.mergedAttrs;null!==N&&_t(C,D,N);const L=M.classes;null!==L&&zd(C,D,L);const H=M.styles;return null!==H&&fi(C,D,H),64!=(64&M.flags)&&Ld(g,h,D,M),0===function xa(){return vt.lFrame.elementDepthCount}()&&Lr(D,h),function y1(){vt.lFrame.elementDepthCount++}(),l1(M)&&(Qd(g,h,M),function c8(s,o,c){if(Dl(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const y=s.data[g];y.contentQueries&&y.contentQueries(1,c[g],g)}}}(g,M,h)),null!==l&&Sh(h,M),o3}function v4(){let s=yn();nc()?rc():(s=s.parent,Kr(s,!1));const o=s;!function b1(){vt.lFrame.elementDepthCount--}();const c=Vt();return c.firstCreatePass&&(_s(c,s),Dl(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function zl(s){return 0!=(16&s.flags)}(o)&&Q8(c,o,we(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function pd(s){return 0!=(32&s.flags)}(o)&&Q8(c,o,we(),o.stylesWithoutHost,!1),v4}function e7(s,o,c,l){return o3(s,o,c,l),v4(),e7}function n7(){return we()}function mf(s){return!!s&&"function"==typeof s.then}function vf(s){return!!s&&"function"==typeof s.subscribe}const r7=vf;function _f(s,o,c,l){const h=we(),g=Vt(),y=yn();return function Km(s,o,c,l,h,g,y,C){const D=l1(l),N=s.firstCreatePass&&C8(s),L=o[8],H=Fh(o);let Z=!0;if(3&l.type||C){const $e=br(l,o),it=C?C($e):$e,Se=H.length,pt=C?Kt=>C(on(Kt[l.index])):l.index;if(gn(c)){let Kt=null;if(!C&&D&&(Kt=function Zm(s,o,c,l){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===c&&h[g+1]===l){const C=o[7],D=h[g+2];return C.length>D?C[D]:null}"string"==typeof y&&(g+=2)}return null}(s,o,h,l.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=g,Kt.__ngLastListenerFn__=g,Z=!1;else{g=yf(l,o,L,g,!1);const pn=c.listen(it,h,g);H.push(g,pn),N&&N.push(h,pt,Se,Se+1)}}else g=yf(l,o,L,g,!0),it.addEventListener(h,g,y),H.push(g),N&&N.push(h,pt,Se,y)}else g=yf(l,o,L,g,!1);const ve=l.outputs;let Le;if(Z&&null!==ve&&(Le=ve[h])){const $e=Le.length;if($e)for(let it=0;it<$e;it+=2){const ss=o[Le[it]][Le[it+1]].subscribe(g),ll=H.length;H.push(g,ss),N&&N.push(h,l.index,ll,-(ll+1))}}}(g,h,h[11],y,s,o,!!c,l),_f}function s7(s,o,c,l){try{return!1!==c(l)}catch(h){return s4(s,h),!1}}function yf(s,o,c,l,h){return function g(y){if(y===Function)return l;const C=2&s.flags?Cr(s.index,o):o;0==(32&o[2])&&Ph(C);let D=s7(o,0,l,y),M=g.__ngNextListenerFn__;for(;M;)D=s7(o,0,M,y)&&D,M=M.__ngNextListenerFn__;return h&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function o7(s=1){return function Ks(s){return(vt.lFrame.contextLView=function uc(s,o){for(;s>0;)o=o[15],s--;return o}(s,vt.lFrame.contextLView))[8]}(s)}function Jm(s,o){let c=null;const l=function Kg(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===l?Ch(s,g,!0):Jw(l,g))return h}else c=h}return c}function a7(s){const o=we()[16][6];if(!o.projection){const l=o.projection=xi(s?s.length:1,null),h=l.slice();let g=o.child;for(;null!==g;){const y=s?Jm(g,s):0;null!==y&&(h[y]?h[y].projectionNext=g:l[y]=g,h[y]=g),g=g.next}}}function c7(s,o=0,c){const l=we(),h=Vt(),g=u2(h,20+s,16,null,c||null);null===g.projection&&(g.projection=o),rc(),64!=(64&g.flags)&&function Wg(s,o,c){j6(o[11],0,o,c,Pd(s,c,o),V6(c.parent||o[6],c,o))}(h,l,g)}function bf(s,o,c){return _4(s,"",o,"",c),bf}function _4(s,o,c,l,h){const g=we(),y=C2(g,o,c,l);return y!==Rt&&rs(Vt(),In(),g,s,y,g[11],h,!1),_4}function Xm(s,o,c,l,h){const g=s[c+1],y=null===o;let C=l?Lo(g):Pi(g),D=!1;for(;0!==C&&(!1===D||y);){const N=s[C+1];_D(s[C],o)&&(D=!0,s[C+1]=l?jd(N):Ud(N)),C=l?Lo(N):Pi(N)}D&&(s[c+1]=l?Ud(g):jd(g))}function _D(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&so(s,o)>=0}const Vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function m7(s){return s.substring(Vr.key,Vr.keyEnd)}function nv(s,o){const c=Vr.textEnd;return c===o?-1:(o=Vr.keyEnd=function sv(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,Vr.key=o,c),A2(s,o,c))}function A2(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function Cf(s,o,c){return Go(s,o,c,!1),Cf}function v7(s,o){return Go(s,o,null,!0),v7}function _7(s){!function ya(s,o,c,l){const h=Vt(),g=Si(2);h.firstUpdatePass&&b7(h,null,g,l);const y=we();if(c!==Rt&&gi(y,g,c)){const C=h.data[wr()];if(E7(C,l)&&!y7(h,g)){let D=l?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(c=le(D,c||"")),Q8(h,C,y,c,l)}else!function pv(s,o,c,l,h,g,y,C){h===Rt&&(h=gt);let D=0,M=0,N=0<h.length?h[0]:null,L=0<g.length?g[0]:null;for(;null!==N||null!==L;){const H=D<h.length?h[D+1]:void 0,Z=M<g.length?g[M+1]:void 0;let Le,ve=null;N===L?(D+=2,M+=2,H!==Z&&(ve=L,Le=Z)):null===L||null!==N&&N<L?(D+=2,ve=N):(M+=2,ve=L,Le=Z),null!==ve&&w7(s,o,c,l,ve,Le,y,C),N=D<h.length?h[D]:null,L=M<g.length?g[M]:null}}(h,C,y,y[11],y[g+1],y[g+1]=function fv(s,o,c){if(null==c||""===c)return gt;const l=[],h=Ts(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(l,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(l,g,h[g]);else"string"==typeof h&&o(l,h);return l}(s,o,c),l,g)}}(Kn,_a,s,!0)}function _a(s,o){for(let c=function tv(s){return function iv(s){Vr.key=0,Vr.keyEnd=0,Vr.value=0,Vr.valueEnd=0,Vr.textEnd=s.length}(s),nv(s,A2(s,0,Vr.textEnd))}(o);c>=0;c=nv(o,c))Kn(s,m7(o),!0)}function Go(s,o,c,l){const h=we(),g=Vt(),y=Si(2);g.firstUpdatePass&&b7(g,s,y,l),o!==Rt&&gi(h,y,o)&&w7(g,g.data[wr()],h,h[11],s,h[y+1]=function gv(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(Ts(s)))),s}(o,c),l,y)}function y7(s,o){return o>=s.expandoStartIndex}function b7(s,o,c,l){const h=s.data;if(null===h[c+1]){const g=h[wr()],y=y7(s,c);E7(g,l)&&null===o&&!y&&(o=!1),o=function lv(s,o,c,l){const h=function ka(s){const o=vt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(c=a3(c=wf(null,s,o,c,l),o.attrs,l),g=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(c=wf(h,s,o,c,l),null===g){let D=function uv(s,o,c){const l=c?o.classBindings:o.styleBindings;if(0!==Pi(l))return s[Lo(l)]}(s,o,l);void 0!==D&&Array.isArray(D)&&(D=wf(null,s,o,D[1],l),D=a3(D,o.attrs,l),function dv(s,o,c,l){s[Lo(c?o.classBindings:o.styleBindings)]=l}(s,o,l,D))}else g=function hv(s,o,c){let l;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)l=a3(l,s[g].hostAttrs,c);return a3(l,o.attrs,c)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),c}(h,g,o,l),function mD(s,o,c,l,h,g){let y=g?o.classBindings:o.styleBindings,C=Lo(y),D=Pi(y);s[l]=c;let N,M=!1;if(Array.isArray(c)){const L=c;N=L[1],(null===N||so(L,N)>0)&&(M=!0)}else N=c;if(h)if(0!==D){const H=Lo(s[C+1]);s[l+1]=Uu(H,C),0!==H&&(s[H+1]=ns(s[H+1],l)),s[C+1]=function Qg(s,o){return 131071&s|o<<17}(s[C+1],l)}else s[l+1]=Uu(C,0),0!==C&&(s[C+1]=ns(s[C+1],l)),C=l;else s[l+1]=Uu(D,0),0===C?C=l:s[D+1]=ns(s[D+1],l),D=l;M&&(s[l+1]=Ud(s[l+1])),Xm(s,N,l,!0),Xm(s,N,l,!1),function vD(s,o,c,l,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&so(g,o)>=0&&(c[l+1]=jd(c[l+1]))}(o,N,s,l,g),y=Uu(C,D),g?o.classBindings=y:o.styleBindings=y}(h,g,o,c,y,l)}}function wf(s,o,c,l,h){let g=null;const y=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<y&&(g=o[C],l=a3(l,g.hostAttrs,h),g!==s);)C++;return null!==s&&(c.directiveStylingLast=C),l}function a3(s,o,c){const l=c?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const y=o[g];"number"==typeof y?h=y:h===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Kn(s,y,!!c||o[++g]))}return void 0===s?null:s}function w7(s,o,c,l,h,g,y,C){if(!(3&o.type))return;const D=s.data,M=D[C+1];y4(function Q6(s){return 1==(1&s)}(M)?D7(D,o,c,h,Pi(M),y):void 0)||(y4(g)||function J6(s){return 2==(2&s)}(M)&&(g=D7(D,null,c,h,C,y)),function Yg(s,o,c,l,h){const g=gn(s);if(o)h?g?s.addClass(c,l):c.classList.add(l):g?s.removeClass(c,l):c.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:oe.DashCase;if(null==h)g?s.removeStyle(c,l,y):c.style.removeProperty(l);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),y|=oe.Important),g?s.setStyle(c,l,h,y):c.style.setProperty(l,h,C?"important":"")}}}(l,y,bo(wr(),c),h,g))}function D7(s,o,c,l,h,g){const y=null===o;let C;for(;h>0;){const D=s[h],M=Array.isArray(D),N=M?D[1]:D,L=null===N;let H=c[h+1];H===Rt&&(H=L?gt:void 0);let Z=L?Tc(H,l):N===l?H:void 0;if(M&&!y4(Z)&&(Z=Tc(D,l)),y4(Z)&&(C=Z,y))return C;const ve=s[h+1];h=y?Lo(ve):Pi(ve)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(C=Tc(D,l))}return C}function y4(s){return void 0!==s}function E7(s,o){return 0!=(s.flags&(o?16:32))}function T7(s,o=""){const c=we(),l=Vt(),h=s+20,g=l.firstCreatePass?u2(l,h,1,o,null):l.data[h],y=c[h]=s2(c[11],o);Ld(l,c,y,g),Kr(g,!1)}function b4(s,o,c){const l=we(),h=C2(l,s,o,c);return h!==Rt&&function Ya(s,o,c){const l=bo(o,s);o2(s[11],l,c)}(l,wr(),h),b4}function V7(s,o,c){const l=we();return gi(l,Zs(),o)&&rs(Vt(),In(),l,s,o,l[11],c,!0),V7}const Jc=void 0;var kD=["en",[["a","p"],["AM","PM"],Jc],[["AM","PM"],Jc,Jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jc,"{1} 'at' {0}",Jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function OD(s){const c=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===l?1:5}];let N2={};function B7(s){const o=function Ef(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=U7(o);if(c)return c;const l=o.split("-")[0];if(c=U7(l),c)return c;if("en"===l)return kD;throw new Error(`Missing locale data for the locale "${s}".`)}function Av(s){return B7(s)[dt.PluralCase]}function U7(s){return s in N2||(N2[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),N2[s]}var dt=(()=>((dt=dt||{})[dt.LocaleId=0]="LocaleId",dt[dt.DayPeriodsFormat=1]="DayPeriodsFormat",dt[dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",dt[dt.DaysFormat=3]="DaysFormat",dt[dt.DaysStandalone=4]="DaysStandalone",dt[dt.MonthsFormat=5]="MonthsFormat",dt[dt.MonthsStandalone=6]="MonthsStandalone",dt[dt.Eras=7]="Eras",dt[dt.FirstDayOfWeek=8]="FirstDayOfWeek",dt[dt.WeekendRange=9]="WeekendRange",dt[dt.DateFormat=10]="DateFormat",dt[dt.TimeFormat=11]="TimeFormat",dt[dt.DateTimeFormat=12]="DateTimeFormat",dt[dt.NumberSymbols=13]="NumberSymbols",dt[dt.NumberFormats=14]="NumberFormats",dt[dt.CurrencyCode=15]="CurrencyCode",dt[dt.CurrencySymbol=16]="CurrencySymbol",dt[dt.CurrencyName=17]="CurrencyName",dt[dt.Currencies=18]="Currencies",dt[dt.Directionality=19]="Directionality",dt[dt.PluralCase=20]="PluralCase",dt[dt.ExtraData=21]="ExtraData",dt))();const Qc=["zero","one","two","few","many"],Tf="en-US",If={marker:"element"},w4={marker:"ICU"};var Cn=(()=>((Cn=Cn||{})[Cn.SHIFT=2]="SHIFT",Cn[Cn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Cn[Cn.COMMENT=2]="COMMENT",Cn))();let Ov=Tf;function G7(s,o,c){const l=o.insertBeforeIndex,h=Array.isArray(l)?l[0]:l;return null===h?H6(s,0,c):on(c[h])}function $7(s,o,c,l,h){const g=o.insertBeforeIndex;if(Array.isArray(g)){let y=l,C=null;if(3&o.type||(C=y,y=h),null!==y&&0==(2&o.flags))for(let D=1;D<g.length;D++)Is(s,y,c[g[D]],C,!1)}}function x2(s,o){if(s.push(o),s.length>1)for(let c=s.length-2;c>=0;c--){const l=s[c];vi(l)||Rv(l,o)&&null===Pv(l)&&W7(l,o.index)}}function vi(s){return!(64&s.type)}function Rv(s,o){return vi(o)||s.index>o.index}function Pv(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function W7(s,o){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=o:(B6(G7,$7),s.insertBeforeIndex=o)}function H1(s,o){const c=s.data[o];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function Sf(s,o,c){const l=a8(s,c,64,null,null);return x2(o,l),l}function c3(s,o){const c=o[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function Mf(s){return s>>>17}function D4(s){return(131070&s)>>>1}let O2=0,E4=0;function zv(s,o,c,l){const h=c[11];let y,g=null;for(let C=0;C<o.length;C++){const D=o[C];if("string"==typeof D){const M=o[++C];null===c[M]&&(c[M]=s2(h,D))}else if("number"==typeof D)switch(1&D){case 0:const M=Mf(D);let N,L;if(null===g&&(g=M,y=Hu(h,l)),M===g?(N=l,L=y):(N=null,L=on(c[M])),null!==L){const Le=D4(D);Is(h,L,c[Le],N,!1);const it=H1(s,Le);if(null!==it&&"object"==typeof it){const Se=c3(it,c);null!==Se&&zv(s,it.create[Se],c,c[it.anchorIdx])}}break;case 1:const Z=o[++C],ve=o[++C];Ku(h,bo(D>>>1,c),null,null,Z,ve,null)}else switch(D){case w4:const M=o[++C],N=o[++C];null===c[N]&&Lr(c[N]=zu(h,M),c);break;case If:const L=o[++C],H=o[++C];null===c[H]&&Lr(c[H]=a2(h,L,null),c)}}}function Af(s,o,c,l,h){for(let g=0;g<c.length;g++){const y=c[g],C=c[++g];if(y&h){let D="";for(let M=g+1;M<=g+C;M++){const N=c[M];if("string"==typeof N)D+=N;else if("number"==typeof N)if(N<0)D+=fe(o[l-N]);else{const L=N>>>2;switch(3&N){case 1:const H=c[++M],Z=c[++M],ve=s.data[L];"string"==typeof ve?Ku(o[11],o[L],null,ve,H,D,Z):rs(s,ve,o,H,D,o[11],Z,!1);break;case 0:const Le=o[L];null!==Le&&o2(o[11],Le,D);break;case 2:Vv(s,H1(s,L),o,D);break;case 3:T4(s,H1(s,L),l,o)}}}}else{const D=c[g+1];if(D>0&&3==(3&D)){const N=H1(s,D>>>2);o[N.currentCaseLViewIndex]<0&&T4(s,N,l,o)}}g+=C}}function T4(s,o,c,l){let h=l[o.currentCaseLViewIndex];if(null!==h){let g=O2;h<0&&(h=l[o.currentCaseLViewIndex]=~h,g=-1),Af(s,l,o.update[h],c,g)}}function Vv(s,o,c,l){const h=function J7(s,o){let c=s.cases.indexOf(o);if(-1===c)switch(s.type){case 1:{const l=function xv(s,o){const c=Av(o)(parseInt(s,10)),l=Qc[c];return void 0!==l?l:"other"}(o,function j7(){return Ov}());c=s.cases.indexOf(l),-1===c&&"other"!==l&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(o,l);if(c3(o,c)!==h&&(K7(s,o,c),c[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=c[o.anchorIdx];y&&zv(s,o.create[h],c,y)}}function K7(s,o,c){let l=c3(o,c);if(null!==l){const h=o.remove[l];for(let g=0;g<h.length;g++){const y=h[g];if(y>0){const C=bo(y,c);null!==C&&vh(c[11],C)}else K7(s,H1(s,~y),c)}}}function VD(){const s=[];let c,l,o=-1;function g(C,D){o=0;const M=c3(C,D);l=null!==M?C.remove[M]:gt}function y(){if(o<l.length){const C=l[o++];return C>0?c[C]:(s.push(o,l),g(c[1].data[~C],c),y())}return 0===s.length?null:(l=s.pop(),o=s.pop(),y())}return function h(C,D){for(c=D;s.length;)s.pop();return g(C.value,D),y}}const el=/\ufffd(\d+):?\d*\ufffd/gi,jv=/\ufffd(\d+)\ufffd/,Q7=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,X7=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Gv=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,tl=/\uE500/g;function $v(s,o,c,l,h,g,y){const C=$u(s,l,1,null);let D=C<<Cn.SHIFT,M=ia();o===M&&(M=null),null===M&&(D|=Cn.APPEND_EAGERLY),y&&(D|=Cn.COMMENT,function Ct(s){void 0===Ue&&(Ue=s())}(VD)),h.push(D,null===g?"":g);const N=a8(s,C,y?32:1,null===g?"":g,null);x2(c,N);const L=N.index;return Kr(N,!1),null!==M&&o!==M&&function Fv(s,o){let c=s.insertBeforeIndex;null===c?(B6(G7,$7),c=s.insertBeforeIndex=[null,o]):(function q(s,o,c){s!=o&&yt(c,s,o,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(o))}(M,L),N}function BD(s,o,c,l,h,g,y){const C=y.match(el),D=$v(s,o,c,g,l,C?null:y,!1);C&&Fi(h,y,D.index,null,0,null)}function Fi(s,o,c,l,h,g){const y=s.length,C=y+1;s.push(null,null);const D=y+2,M=o.split(el);let N=0;for(let L=0;L<M.length;L++){const H=M[L];if(1&L){const Z=h+parseInt(H,10);s.push(-1-Z),N|=Wv(Z)}else""!==H&&s.push(H)}return s.push(c<<2|(l?1:0)),l&&s.push(l,g),s[y]=N,s[C]=s.length-D,N}function Wv(s){return 1<<Math.min(s,31)}function Yv(s){let o,g,c="",l=0,h=!1;for(;null!==(o=X7.exec(s));)h?o[0]===`\ufffd/*${g}\ufffd`&&(l=o.index,h=!1):(c+=s.substring(l,o.index+o[0].length),g=o[1],h=!0);return c+=s.substr(l),c}function Zv(s,o,c,l,h,g){let y=0;const C={type:h.type,currentCaseLViewIndex:$u(s,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function Xv(s,o,c){s.push(Wv(o.mainBinding),2,-1-o.mainBinding,c<<2|2)})(c,h,g),function Lv(s,o,c){const l=s.data[o];null===l?s.data[o]=c:l.value=c}(s,g,C);const D=h.values;for(let M=0;M<D.length;M++){const N=D[M],L=[];for(let H=0;H<N.length;H++){const Z=N[H];if("string"!=typeof Z){const ve=L.push(Z)-1;N[H]=`\x3c!--\ufffd${ve}\ufffd--\x3e`}}y=$D(s,C,o,c,l,h.cases[M],N.join(""),L)|y}y&&function WD(s,o,c){s.push(o,1,c<<2|3)}(c,y,g)}function GD(s){const o=[],c=[];let l=1,h=0;const g=np(s=s.replace(Q7,function(y,C,D){return l="select"===D?0:1,h=parseInt(C.substr(1),10),""}));for(let y=0;y<g.length;){let C=g[y++].trim();1===l&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&o.push(C);const D=np(g[y++]);o.length>c.length&&c.push(D)}return{type:l,mainBinding:h,cases:o,values:c}}function np(s){if(!s)return[];let o=0;const c=[],l=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const C=g.index;if("}"==g[0]){if(c.pop(),0==c.length){const D=s.substring(o,C);Q7.test(D)?l.push(GD(D)):l.push(D),o=C+1}}else{if(0==c.length){const D=s.substring(o,C);l.push(D),o=C+1}c.push("{")}}const y=s.substring(o);return l.push(y),l}function $D(s,o,c,l,h,g,y,C){const D=[],M=[],N=[];o.cases.push(g),o.create.push(D),o.remove.push(M),o.update.push(N);const H=Ed(Aa()).getInertBodyElement(y),Z=Iu(H)||H;return Z?Kv(s,o,c,l,D,M,N,Z,h,C,0):0}function Kv(s,o,c,l,h,g,y,C,D,M,N){let L=0,H=C.firstChild;for(;H;){const Z=$u(s,c,1,null);switch(H.nodeType){case Node.ELEMENT_NODE:const ve=H,Le=ve.tagName.toLowerCase();if(Cu.hasOwnProperty(Le)){rp(h,If,Le,D,Z),s.data[Z]=Le;const pt=ve.attributes;for(let Kt=0;Kt<pt.length;Kt++){const pn=pt.item(Kt),ss=pn.name.toLowerCase();pn.value.match(el)?ha.hasOwnProperty(ss)&&Fi(y,pn.value,Z,pn.name,0,wu[ss]?Ha:Du[ss]?bu:null):qD(h,Z,pn)}L=Kv(s,o,c,l,h,g,y,H,Z,M,N+1)|L,Jv(g,Z,N)}break;case Node.TEXT_NODE:const $e=H.textContent||"",it=$e.match(el);rp(h,null,it?"":$e,D,Z),Jv(g,Z,N),it&&(L=Fi(y,$e,Z,null,0,null)|L);break;case Node.COMMENT_NODE:const Se=jv.exec(H.textContent||"");if(Se){const Kt=M[parseInt(Se[1],10)];rp(h,w4,"",D,Z),Zv(s,c,l,D,Kt,Z),Qv(g,Z,N)}}H=H.nextSibling}return L}function Jv(s,o,c){0===c&&s.push(o)}function Qv(s,o,c){0===c&&(s.push(~o),s.push(o))}function rp(s,o,c,l,h){null!==o&&s.push(o),s.push(c,h,function Y7(s,o,c){return s|o<<17|c<<1}(0,l,h))}function qD(s,o,c){s.push(o<<1|1,c.name,c.value)}function r_(s,o,c=-1){const l=Vt(),h=we(),g=20+s,y=Zr(l.consts,o),C=ia();l.firstCreatePass&&function ep(s,o,c,l,h,g){const y=ia(),C=[],D=[],M=[[]];h=function jD(s,o){if(function qv(s){return-1===s}(o))return Yv(s);{const c=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,l=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Yv(s.substring(c,l))}}(h,g);const N=function HD(s){return s.replace(tl," ")}(h).split(Gv);for(let L=0;L<N.length;L++){let H=N[L];if(0==(1&L)){const Z=np(H);for(let ve=0;ve<Z.length;ve++){let Le=Z[ve];if(0==(1&ve)){const $e=Le;""!==$e&&BD(s,y,M[0],C,D,c,$e)}else{const $e=Le;if("object"!=typeof $e)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Zv(s,c,D,o,$e,$v(s,y,M[0],c,C,"",!0).index)}}}else{const Z=47===H.charCodeAt(0),Le=(H.charCodeAt(Z?1:0),20+Number.parseInt(H.substring(Z?2:1)));if(Z)M.shift(),Kr(ia(),!1);else{const $e=Sf(s,M[0],Le);M.unshift([]),Kr($e,!0)}}}s.data[l]={create:C,update:D}}(l,null===C?0:C.index,h,g,y,c);const D=l.data[g],N=jg(l,C===h[6]?null:C,h);(function zD(s,o,c,l){const h=s[11];for(let g=0;g<o.length;g++){const y=o[g++],C=o[g],D=(y&Cn.COMMENT)===Cn.COMMENT,M=(y&Cn.APPEND_EAGERLY)===Cn.APPEND_EAGERLY,N=y>>>Cn.SHIFT;let L=s[N];null===L&&(L=s[N]=D?h.createComment(C):s2(h,C)),M&&null!==c&&Is(h,c,L,l,!1)}})(h,D.create,N,C&&8&C.type?h[C.index]:null),E1(!0)}function i_(s,o,c){r_(s,o,c),function ip(){E1(!1)}()}function sp(s){return function Z7(s){s&&(O2|=1<<Math.min(E4,31)),E4++}(gi(we(),Zs(),s)),sp}function hr(s){!function FD(s,o,c){if(E4>0){const l=s.data[c];Af(s,o,Array.isArray(l)?l:l.update,function si(){return vt.lFrame.bindingIndex}()-E4-1,O2)}O2=0,E4=0}(Vt(),we(),s+20)}function op(s,o,c,l,h){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)op(s[g],o,c,l,h);else{const g=Vt(),y=we();let C=_2(s)?s:Q(s.provide),D=$h(s);const M=yn(),N=1048575&M.providerIndexes,L=M.directiveStart,H=M.providerIndexes>>20;if(_2(s)||!s.multi){const Z=new sa(D,h,s3),ve=I4(C,o,h?N:N+H,L);-1===ve?(Xs(mn(M,y),g,C),ap(g,s,o.length),o.push(C),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(Z),y.push(Z)):(c[ve]=Z,y[ve]=Z)}else{const Z=I4(C,o,N+H,L),ve=I4(C,o,N,N+H),Le=Z>=0&&c[Z],$e=ve>=0&&c[ve];if(h&&!$e||!h&&!Le){Xs(mn(M,y),g,C);const it=function cp(s,o,c,l,h){const g=new sa(s,c,s3);return g.multi=[],g.index=o,g.componentProviders=0,u3(g,h,l&&!c),g}(h?o_:s_,c.length,h,l,D);!h&&$e&&(c[ve].providerFactory=it),ap(g,s,o.length,0),o.push(C),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(it),y.push(it)}else ap(g,s,Z>-1?Z:ve,u3(c[h?ve:Z],D,!h&&l));!h&&l&&$e&&c[ve].componentProviders++}}}function ap(s,o,c,l){const h=_2(o),g=function qh(s){return!!s.useClass}(o);if(h||g){const D=(g?Q(o.useClass):o).prototype.ngOnDestroy;if(D){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=M.indexOf(c);-1===N?M.push(c,[l,D]):M[N+1].push(l,D)}else M.push(c,D)}}}function u3(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function I4(s,o,c,l){for(let h=c;h<l;h++)if(o[h]===s)return h;return-1}function s_(s,o,c,l){return Nf(this.multi,[])}function o_(s,o,c,l){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Ai(c,c[1],this.providerFactory.index,l);g=C.slice(0,y),Nf(h,g);for(let D=y;D<C.length;D++)g.push(C[D])}else g=[],Nf(h,g);return g}function Nf(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function xf(s,o=[]){return c=>{c.providersResolver=(l,h)=>function nE(s,o,c){const l=Vt();if(l.firstCreatePass){const h=qr(s);op(c,l.data,l.blueprint,h,!0),op(o,l.data,l.blueprint,h,!1)}}(l,h?h(s):s,o)}}class lp{}class l_{resolveComponentFactory(o){throw function c_(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let S4=(()=>{class s{}return s.NULL=new l_,s})();function u_(){return R2(yn(),we())}function R2(s,o){return new d3(br(s,o))}let d3=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=u_,s})();function d_(s){return s instanceof d3?s.nativeElement:s}class dp{}let hp=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function h_(){const s=we(),c=Cr(yn().index,s);return function fp(s){return s[11]}(Ti(c)?c:s)}(),s})(),sE=(()=>{class s{}return s.\u0275prov=nn({token:s,providedIn:"root",factory:()=>null}),s})();class f_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const p_=new f_("13.3.1"),Of={};function kf(s,o,c,l,h=!1){for(;null!==c;){const g=o[c.index];if(null!==g&&l.push(on(g)),ri(g))for(let C=10;C<g.length;C++){const D=g[C],M=D[1].firstChild;null!==M&&kf(D[1],D,M,l)}const y=c.type;if(8&y)kf(s,o,c.child,l);else if(32&y){const C=nt(c,o);let D;for(;D=C();)l.push(D)}else if(16&y){const C=U6(o,c);if(Array.isArray(C))l.push(...C);else{const D=An(o[16]);kf(D[1],D,C,l,!0)}}c=h?c.projectionNext:c.next}return l}class M4{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return kf(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ri(o)){const c=o[8],l=c?c.indexOf(this):-1;l>-1&&(uh(o,l),Ds(c,l))}this._attachedToViewContainer=!1}dh(this._lView[1],this._lView)}onDestroy(o){u8(this._lView[1],this._lView,null,o)}markForCheck(){Ph(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$c(this._lView[1],this._lView,this.context)}checkNoChanges(){!function aD(s,o,c){Ys(!0);try{$c(s,o,c)}finally{Ys(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rd(s,o){Fd(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ke(902,"");this._appRef=o}}class oE extends M4{constructor(o){super(o),this._view=o}detectChanges(){Lh(this._view)}checkNoChanges(){!function cD(s){Ys(!0);try{Lh(s)}finally{Ys(!1)}}(this._view)}get context(){return null}}class g_ extends S4{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=qt(o);return new pp(c,this.ngModule)}}function m_(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class pp extends lp{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function Mr(s){return s.map(Jg).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return m_(this.componentDef.inputs)}get outputs(){return m_(this.componentDef.outputs)}create(o,c,l,h){const g=(h=h||this.ngModule)?function cE(s,o){return{get:(c,l,h)=>{const g=s.get(c,Of,h);return g!==Of||l===Of?g:o.get(c,l,h)}}}(o,h.injector):o,y=g.get(dp,na),C=g.get(sE,null),D=y.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",N=l?function qu(s,o,c){if(gn(s))return s.selectRootElement(o,c===Wt.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(D,l,this.componentDef.encapsulation):a2(y.createRenderer(null,this.componentDef),M,function aE(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),L=this.componentDef.onPush?576:528,H=function R8(s,o){return{components:[],scheduler:s||sh,clean:ym,playerHandler:o||null,flags:0}}(),Z=Xd(0,null,null,1,0,null,null,null,null,null),ve=jc(null,Z,H,L,null,null,y,D,C,g);let Le,$e;Co(ve);try{const it=function Rm(s,o,c,l,h,g){const y=c[1];c[20]=s;const D=u2(y,20,2,"#host",null),M=D.mergedAttrs=o.hostAttrs;null!==M&&(Ju(D,M,!0),null!==s&&(_t(h,s,M),null!==D.classes&&zd(h,s,D.classes),null!==D.styles&&fi(h,s,D.styles)));const N=l.createRenderer(s,o),L=jc(c,l8(o),null,o.onPush?64:16,c[20],D,l,N,g||null,null);return y.firstCreatePass&&(Xs(mn(D,c),y,o.type),h2(y,D),p2(D,c.length,1)),g2(c,L),c[20]=L}(N,this.componentDef,ve,y,D);if(N)if(l)_t(D,N,["ng-version",p_.full]);else{const{attrs:Se,classes:pt}=function Hd(s){const o=[],c=[];let l=1,h=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++l]):8===h&&c.push(g);else{if(!Po(h))break;h=g}l++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Se&&_t(D,N,Se),pt&&pt.length>0&&zd(D,N,pt.join(" "))}if($e=Na(Z,20),void 0!==c){const Se=$e.projection=[];for(let pt=0;pt<this.ngContentSelectors.length;pt++){const Kt=c[pt];Se.push(null!=Kt?Array.from(Kt):null)}}Le=function Pm(s,o,c,l,h){const g=c[1],y=function oD(s,o,c){const l=yn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),g8(s,l,o,$u(s,o,1,null),c));const h=Ai(o,s,l.directiveStart,l);Lr(h,o);const g=br(l,o);return g&&Lr(g,o),h}(g,c,o);if(l.components.push(y),s[8]=y,h&&h.forEach(D=>D(y,o)),o.contentQueries){const D=yn();o.contentQueries(1,y,D.directiveStart)}const C=yn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Js(C.index),f8(c[1],C,0,C.directiveStart,C.directiveEnd,o),gm(o,y)),y}(it,this.componentDef,ve,H,[P8]),Jd(Z,ve,null)}finally{Do()}return new uE(this.componentType,Le,R2($e,ve),ve,$e)}}class uE extends class a_{}{constructor(o,c,l,h,g){super(),this.location=l,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new oE(h),this.componentType=o}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class h3{}class v_{}const P2=new Map;class Rf extends h3{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new g_(this);const l=dn(o);this._bootstrapComponents=m(l.bootstrap),this._r3Injector=a4(o,c,[{provide:h3,useValue:this},{provide:S4,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,c=Vo.THROW_IF_NOT_FOUND,l=ft.Default){return o===Vo||o===h3||o===Vh?this:this._r3Injector.get(o,c,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class gp extends v_{constructor(o){super(),this.moduleType=o,null!==dn(o)&&function hE(s){const o=new Set;!function c(l){const h=dn(l,!0),g=h.id;null!==g&&(function __(s,o,c){if(o&&o!==c)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(g,P2.get(g),l),P2.set(g,l));const y=m(h.imports);for(const C of y)o.has(C)||(o.add(C),c(C))}(s)}(o)}create(o){return new Rf(this.moduleType,o)}}function Nn(s,o,c,l){return function zf(s,o,c,l,h,g){const y=o+c;return gi(s,y,h)?Uo(s,y+1,g?l.call(g,h):l(h)):B1(s,y+1)}(we(),ur(),s,o,c,l)}function A4(s,o,c,l,h){return function mp(s,o,c,l,h,g,y){const C=o+c;return z1(s,C,h,g)?Uo(s,C+2,y?l.call(y,h,g):l(h,g)):B1(s,C+2)}(we(),ur(),s,o,c,l,h)}function Pf(s,o,c,l,h,g){return function vp(s,o,c,l,h,g,y,C){const D=o+c;return function d4(s,o,c,l,h){const g=z1(s,o,c,l);return gi(s,o+2,h)||g}(s,D,h,g,y)?Uo(s,D+3,C?l.call(C,h,g,y):l(h,g,y)):B1(s,D+3)}(we(),ur(),s,o,c,l,h,g)}function B1(s,o){const c=s[o];return c===Rt?void 0:c}function Cp(s){return o=>{setTimeout(s,void 0,o)}}const e1=class pE extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,l){var h,g,y;let C=o,D=c||(()=>null),M=l;if(o&&"object"==typeof o){const L=o;C=null===(h=L.next)||void 0===h?void 0:h.bind(L),D=null===(g=L.error)||void 0===g?void 0:g.bind(L),M=null===(y=L.complete)||void 0===y?void 0:y.bind(L)}this.__isAsync&&(D=Cp(D),C&&(C=Cp(C)),M&&(M=Cp(M)));const N=super.subscribe({next:C,error:D,complete:M});return o instanceof K.w0&&o.add(N),N}};function gE(){return this._results[pi()]()}class wp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=pi(),l=wp.prototype;l[c]||(l[c]=gE)}get changes(){return this._changes||(this._changes=new e1)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const l=this;l.dirty=!1;const h=Tr(o);(this._changesDetected=!function bc(s,o,c){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],g=o[l];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(l._results,h,c))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let O4=(()=>{class s{}return s.__NG_ELEMENT_ID__=_E,s})();const mE=O4,vE=class extends mE{constructor(o,c,l){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=l}createEmbeddedView(o){const c=this._declarationTContainer.tViews,l=jc(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(c)),Jd(c,l,o),new M4(l)}};function _E(){return Vf(yn(),we())}function Vf(s,o){return 4&s.type?new vE(o,s,R2(s,o)):null}let Hf=(()=>{class s{}return s.__NG_ELEMENT_ID__=yE,s})();function yE(){return Dp(yn(),we())}const bE=Hf,w_=class extends bE{constructor(o,c,l){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=l}get element(){return R2(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const o=oi(this._hostTNode,this._hostLView);if(Vl(o)){const c=Mi(o,this._hostLView),l=fn(o);return new Ni(c[1].data[l+8],c)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=D_(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,l){const h=o.createEmbeddedView(c||{});return this.insert(h,l),h}createComponent(o,c,l,h,g){const y=o&&!function ca(s){return"function"==typeof s}(o);let C;if(y)C=c;else{const L=c||{};C=L.index,l=L.injector,h=L.projectableNodes,g=L.ngModuleRef}const D=y?o:new pp(qt(o)),M=l||this.parentInjector;if(!g&&null==D.ngModule){const H=(y?M:this.parentInjector).get(h3,null);H&&(g=H)}const N=D.create(M,h,void 0,g);return this.insert(N.hostView,C),N}insert(o,c){const l=o._lView,h=l[1];if(function v1(s){return ri(s[3])}(l)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const L=l[3],H=new w_(L,L[6],L[3]);H.detach(H.indexOf(o))}}const g=this._adjustIndex(c),y=this._lContainer;!function lh(s,o,c,l){const h=10+l,g=c.length;l>0&&(c[h-1][4]=o),l<g-10?(o[4]=c[h],Cc(c,10+l,o)):(c.push(o),o[4]=null),o[3]=c;const y=o[17];null!==y&&c!==y&&function c2(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(y,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=128}(h,l,y,g);const C=mh(g,y),D=l[11],M=Hu(D,y[7]);return null!==M&&function Vu(s,o,c,l,h,g){l[0]=h,l[6]=o,Fd(s,l,c,1,h,g)}(h,y[6],D,l,M,C),o.attachToViewContainerRef(),Cc(k4(y),g,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=D_(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),l=uh(this._lContainer,c);l&&(Ds(k4(this._lContainer),c),dh(l[1],l))}detach(o){const c=this._adjustIndex(o,-1),l=uh(this._lContainer,c);return l&&null!=Ds(k4(this._lContainer),c)?new M4(l):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function D_(s){return s[8]}function k4(s){return s[8]||(s[8]=[])}function Dp(s,o){let c;const l=o[s.index];if(ri(l))c=l;else{let h;if(8&s.type)h=on(l);else{const g=o[11];h=g.createComment("");const y=br(s,o);Is(g,Hu(g,y),h,function $g(s,o){return gn(s)?s.nextSibling(o):o.nextSibling}(g,y),!1)}o[s.index]=c=r4(l,o,h,s),g2(o,c)}return new w_(c,s,o)}class z2{constructor(o){this.queryList=o,this.matches=null}clone(){return new z2(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const l=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let g=0;g<l;g++){const y=c.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new Uf(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==Rp(o,c).matches&&this.queries[c].setDirty()}}class g3{constructor(o,c,l=null){this.predicate=o,this.flags=c,this.read=l}}class Tp{constructor(o=[]){this.queries=o}elementStart(o,c){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let l=0;l<this.length;l++){const h=null!==c?c.length:0,g=this.getByIndex(l).embeddedTView(o,h);g&&(g.indexInDeclarationView=l,null!==c?c.push(g):c=[g])}return null!==c?new Tp(c):null}template(o,c){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class R4{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new R4(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==c;)l=l.parent;return c===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const g=l[h];this.matchTNodeWithReadOption(o,c,il(c,g)),this.matchTNodeWithReadOption(o,c,ci(c,o,g,!1,!1))}else l===O4?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,ci(c,o,l,!1,!1))}matchTNodeWithReadOption(o,c,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===d3||h===Hf||h===O4&&4&c.type)this.addMatch(c.index,-2);else{const g=ci(c,o,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,l)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function il(s,o){const c=s.localNames;if(null!==c)for(let l=0;l<c.length;l+=2)if(c[l]===o)return c[l+1];return null}function T_(s,o,c,l){return-1===c?function CE(s,o){return 11&s.type?R2(s,o):4&s.type?Vf(s,o):null}(o,s):-2===c?function Ip(s,o,c){return c===d3?R2(o,s):c===O4?Vf(o,s):c===Hf?Dp(o,s):void 0}(s,o,l):Ai(s,s[1],c,o)}function Sp(s,o,c,l){const h=o[19].queries[l];if(null===h.matches){const g=s.data,y=c.matches,C=[];for(let D=0;D<y.length;D+=2){const M=y[D];C.push(M<0?null:T_(o,g[M],y[D+1],c.metadata.read))}h.matches=C}return h.matches}function sl(s,o,c,l){const h=s.queries.getByIndex(c),g=h.matches;if(null!==g){const y=Sp(s,o,h,c);for(let C=0;C<g.length;C+=2){const D=g[C];if(D>0)l.push(y[C/2]);else{const M=g[C+1],N=o[-D];for(let L=10;L<N.length;L++){const H=N[L];H[17]===H[3]&&sl(H[1],H,M,l)}if(null!==N[9]){const L=N[9];for(let H=0;H<L.length;H++){const Z=L[H];sl(Z[1],Z,M,l)}}}}}return l}function Mp(s){const o=we(),c=Vt(),l=ac();cc(l+1);const h=Rp(c,l);if(s.dirty&&$s(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?sl(c,o,l,[]):Sp(c,o,h,l);s.reset(g,d_),s.notifyOnChanges()}return!0}return!1}function Ap(s,o,c){const l=Vt();l.firstCreatePass&&(Op(l,new g3(s,o,c),-1),2==(2&o)&&(l.staticViewQueries=!0)),jf(l,we(),o)}function Np(s,o,c,l){const h=Vt();if(h.firstCreatePass){const g=yn();Op(h,new g3(o,c,l),g.index),function kp(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}jf(h,we(),c)}function xp(){return function I_(s,o){return s[19].queries[o].queryList}(we(),ac())}function jf(s,o,c){const l=new wp(4==(4&c));u8(s,o,l,l.destroy),null===o[19]&&(o[19]=new Uf),o[19].queries.push(new z2(l))}function Op(s,o,c){null===s.queries&&(s.queries=new Tp),s.queries.track(new R4(o,c))}function Rp(s,o){return s.queries.getByIndex(o)}function Gf(s,o){return Vf(s,o)}function Kf(...s){}const B_=new Sn("Application Initializer");let $p=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Kf,this.reject=Kf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(mf(g))c.push(g);else if(r7(g)){const y=new Promise((C,D)=>{g.subscribe({complete:C,error:D})});c.push(y)}}Promise.all(c).then(()=>{l()}).catch(h=>{this.reject(h)}),0===c.length&&l(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(et(B_,8))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const U_=new Sn("AppId",{providedIn:"root",factory:function j_(){return`${Wp()}${Wp()}${Wp()}`}});function Wp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $_=new Sn("Platform Initializer"),W_=new Sn("Platform ID"),q_=new Sn("appBootstrapListener");let Y_=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();const qp=new Sn("LocaleId",{providedIn:"root",factory:()=>kt(qp,ft.Optional|ft.SkipSelf)||function OE(){return"undefined"!=typeof $localize&&$localize.locale||Tf}()}),kE=new Sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Yp{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let K_=(()=>{class s{compileModuleSync(c){return new gp(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const l=this.compileModuleSync(c),g=m(dn(c).declarations).reduce((y,C)=>{const D=qt(C);return D&&y.push(new pp(D)),y},[]);return new Yp(l,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Q_=(()=>Promise.resolve(0))();function V2(s){"undefined"==typeof Zone?Q_.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Wo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new e1(!1),this.onMicrotaskEmpty=new e1(!1),this.onStable=new e1(!1),this.onError=new e1(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&c,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function X_(){let s=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Jf(s){const o=()=>{!function Zp(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,fr(s),s.isCheckStableRunning=!0,V4(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),fr(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,l,h,g,y,C)=>{try{return lo(s),c.invokeTask(h,g,y,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Qf(s)}},onInvoke:(c,l,h,g,y,C,D)=>{try{return lo(s),c.invoke(h,g,y,C,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),Qf(s)}},onHasTask:(c,l,h,g)=>{c.hasTask(h,g),l===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,fr(s),V4(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,l,h,g)=>(c.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,l){return this._inner.run(o,c,l)}runTask(o,c,l,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,o,ey,Kf,Kf);try{return g.runTask(y,c,l)}finally{g.cancelTask(y)}}runGuarded(o,c,l){return this._inner.runGuarded(o,c,l)}runOutsideAngular(o){return this._outer.run(o)}}const ey={};function V4(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function fr(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function lo(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Qf(s){s._nesting--,V4(s)}class H4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new e1,this.onMicrotaskEmpty=new e1,this.onStable=new e1,this.onError=new e1}run(o,c,l){return o.apply(c,l)}runGuarded(o,c,l){return o.apply(c,l)}runOutsideAngular(o){return o()}runTask(o,c,l,h){return o.apply(c,l)}}let Kp=(()=>{class s{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wo.assertNotInAngularZone(),V2(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())V2(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(c)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),c(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,l,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(et(Wo))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})(),ty=(()=>{class s{constructor(){this._applications=new Map,Jp.addToWindow(this)}registerApplication(c,l){this._applications.set(c,l)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,l=!0){return Jp.findTestabilityInTree(this,c,l)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();class ny{addToWindow(o){}findTestabilityInTree(o,c,l){return null}}function Xf(s){Jp=s}let ba,Jp=new ny;const iy=new Sn("AllowMultipleToken");class zE{constructor(o,c){this.name=o,this.token=c}}function sy(s,o,c=[]){const l=`Platform: ${o}`,h=new Sn(l);return(g=[])=>{let y=oy();if(!y||y.injector.get(iy,!1))if(s)s(c.concat(g).concat({provide:h,useValue:!0}));else{const C=c.concat(g).concat({provide:h,useValue:!0},{provide:Bh,useValue:"platform"});!function VE(s){if(ba&&!ba.destroyed&&!ba.injector.get(iy,!1))throw new ke(400,"");ba=s.get(j1);const o=s.get($_,null);o&&o.forEach(c=>c())}(Vo.create({providers:C,name:l}))}return function HE(s){const o=oy();if(!o)throw new ke(401,"");return o}()}}function oy(){return ba&&!ba.destroyed?ba:null}let j1=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,l){const C=function B4(s,o){let c;return c="noop"===s?new H4:("zone.js"===s?void 0:s)||new Wo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),c}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),D=[{provide:Wo,useValue:C}];return C.run(()=>{const M=Vo.create({providers:D,parent:this.injector,name:c.moduleType.name}),N=c.create(M),L=N.injector.get(Sr,null);if(!L)throw new ke(402,"");return C.runOutsideAngular(()=>{const H=C.onError.subscribe({next:Z=>{L.handleError(Z)}});N.onDestroy(()=>{e5(this._modules,N),H.unsubscribe()})}),function Yt(s,o,c){try{const l=c();return mf(l)?l.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(L,C,()=>{const H=N.injector.get($p);return H.runInitializers(),H.donePromise.then(()=>(function kv(s){(function ht(s,o){null==s&&yt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Ov=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(qp,Tf)||Tf),this._moduleDoBootstrap(N),N))})})}bootstrapModule(c,l=[]){const h=t1({},l);return function ry(s,o,c){const l=new gp(c);return Promise.resolve(l)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const l=c.injector.get(U4);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new ke(403,"");c.instance.ngDoBootstrap(l)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(et(Vo))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();function t1(s,o){return Array.isArray(o)?o.reduce(t1,s):Object.assign(Object.assign({},s),o)}let U4=(()=>{class s{constructor(c,l,h,g,y){this._zone=c,this._injector=l,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new P.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),D=new P.y(M=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Wo.assertNotInAngularZone(),V2(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Wo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{N.unsubscribe(),L.unsubscribe()}});this.isStable=(0,ae.T)(C,D.pipe((0,X.B)()))}bootstrap(c,l){if(!this._initStatus.done)throw new ke(405,"");let h;h=c instanceof lp?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const g=function FE(s){return s.isBoundToModule}(h)?void 0:this._injector.get(h3),C=h.create(Vo.NULL,[],l||h.selector,g),D=C.location.nativeElement,M=C.injector.get(Kp,null),N=M&&C.injector.get(ty);return M&&N&&N.registerApplication(D,M),C.onDestroy(()=>{this.detachView(C.hostView),e5(this.components,C),N&&N.unregisterApplication(D)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new ke(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const l=c;this._views.push(l),l.attachToAppRef(this)}detachView(c){const l=c;e5(this._views,l),l.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(q_,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(c){return new(c||s)(et(Wo),et(Vo),et(Sr),et(S4),et($p))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function e5(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let uo=!0,v3=!1;function t5(){return v3=!0,uo}function ay(){if(v3)throw new Error("Cannot enable prod mode after platform setup.");uo=!1}let cy=(()=>{class s{}return s.__NG_ELEMENT_ID__=ly,s})();function ly(s){return function uy(s,o,c){if(Hs(s)&&!c){const l=Cr(s.index,o);return new M4(l,l)}return 47&s.type?new M4(o[16],o):null}(yn(),we(),16==(16&s))}class l5{constructor(){}supports(o){return Ka(o)}create(o){return new t9(o)}}const u5=(s,o)=>o;class t9{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||u5}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,l=this._removalsHead,h=0,g=null;for(;c||l;){const y=!l||c&&c.currentIndex<r9(l,h,g)?c:l,C=r9(y,h,g),D=y.currentIndex;if(y===l)h--,l=l._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{g||(g=[]);const M=C-h,N=D-h;if(M!=N){for(let H=0;H<M;H++){const Z=H<g.length?g[H]:g[H]=0,ve=Z+H;N<=ve&&ve<M&&(g[H]=Z+1)}g[y.previousIndex]=N-M}}C!==D&&o(y,C,D)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Ka(o))throw new ke(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,y,c=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)g=o[C],y=this._trackByFn(C,g),null!==c&&Object.is(c.trackById,y)?(l&&(c=this._verifyReinsertion(c,g,y,C)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,y,C),l=!0),c=c._next}else h=0,function Xu(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[pi()]();let l;for(;!(l=c.next()).done;)o(l.value)}}(o,C=>{y=this._trackByFn(h,C),null!==c&&Object.is(c.trackById,y)?(l&&(c=this._verifyReinsertion(c,C,y,h)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,y,h),l=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,l,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,g,h)):o=this._addAfter(new d5(c,l),g,h),o}_verifyReinsertion(o,c,l,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,c,l),this._addToMoves(o,l),o}_moveAfter(o,c,l){return this._unlink(o),this._insertAfter(o,c,l),this._addToMoves(o,l),o}_addAfter(o,c,l){return this._insertAfter(o,c,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,l){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new B2),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,l=o._next;return null===c?this._itHead=l:c._next=l,null===l?this._itTail=c:l._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new B2),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class d5{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class n9{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===c||c<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const c=o._prevDup,l=o._nextDup;return null===c?this._head=l:c._nextDup=l,null===l?this._tail=c:l._prevDup=c,null===this._head}}class B2{constructor(){this.map=new Map}put(o){const c=o.trackById;let l=this.map.get(c);l||(l=new n9,this.map.set(c,l)),l.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function r9(s,o,c){const l=s.previousIndex;if(null===l)return l;let h=0;return c&&l<c.length&&(h=c[l]),l+o+h}class G4{constructor(){}supports(o){return o instanceof Map||Xh(o)}create(){return new i9}}class i9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||Xh(o)))throw new ke(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,l),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,l);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let l=c;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const l=o._prev;return c._next=o,c._prev=l,o._prev=c,l&&(l._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const l=new hy(o);return this._records.set(o,l),l.currentValue=c,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(l=>c(o[l],l))}}class hy{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $4(){return new W4([new l5])}let W4=(()=>{class s{constructor(c){this.factories=c}static create(c,l){if(null!=l){const h=l.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:l=>s.create(c,l||$4()),deps:[[s,new Mo,new di]]}}find(c){const l=this.factories.find(h=>h.supports(c));if(null!=l)return l;throw new ke(901,"")}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:$4}),s})();function q4(){return new h5([new G4])}let h5=(()=>{class s{constructor(c){this.factories=c}static create(c,l){if(l){const h=l.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:l=>s.create(c,l||q4()),deps:[[s,new Mo,new di]]}}find(c){const l=this.factories.find(g=>g.supports(c));if(l)return l;throw new ke(901,"")}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:q4}),s})();const p5=sy(null,"core",[{provide:W_,useValue:"unknown"},{provide:j1,deps:[Vo]},{provide:ty,deps:[]},{provide:Y_,deps:[]}]);let a9=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(et(U4))},s.\u0275mod=J({type:s}),s.\u0275inj=Qt({}),s})()},3942:(lt,Ee,R)=>{R.d(Ee,{Z:()=>ke});var d=R(2090),K=R(4859),P=R(9681),ae=R(1877);class X{constructor(fe,Ce){this._delegate=fe,this.firebase=Ce,(0,P._addComponent)(fe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(fe,Ce=P._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(fe);return!Je.isInitialized()&&"EXPLICIT"===(null===(rt=Je.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Ce})}_removeServiceInstance(fe,Ce=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(Ce)}_addComponent(fe){(0,P._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,P._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function le(){const ze=function he(ze){const fe={},Ce={__esModule:!0,initializeApp:function Te(Ge,ne={}){const q=P.initializeApp(Ge,ne);if((0,d.r3)(fe,q.name))return fe[q.name];const ie=new ze(q,Ce);return fe[q.name]=ie,ie},app:Je,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function be(Ge){const ne=Ge.name,q=ne.replace("-compat","");if(P._registerComponent(Ge)&&"PUBLIC"===Ge.type){const ie=(me=Je())=>{if("function"!=typeof me[q])throw re.create("invalid-app-argument",{appName:ne});return me[q]()};void 0!==Ge.serviceProps&&(0,d.ZB)(ie,Ge.serviceProps),Ce[q]=ie,ze.prototype[q]=function(...me){return this._getService.bind(this,ne).apply(this,Ge.multipleInstances?me:[])}}return"PUBLIC"===Ge.type?Ce[q]:null},removeApp:function rt(Ge){delete fe[Ge]},useAsService:function qe(Ge,ne){return"serverAuth"===ne?null:ne},modularAPIs:P}};function Je(Ge){if(!(0,d.r3)(fe,Ge=Ge||P._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:Ge});return fe[Ge]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function _e(){return Object.keys(fe).map(Ge=>fe[Ge])}}),Je.App=ze,Ce}(X);return ze.INTERNAL=Object.assign(Object.assign({},ze.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function fe(Ce){(0,d.ZB)(ze,Ce)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),ze}(),j=new ae.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ze=self.firebase.SDK_VERSION;ze&&ze.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=U;!function Me(ze){(0,P.registerVersion)("@firebase/app-compat","0.1.22",ze)}()},9681:(lt,Ee,R)=>{R.r(Ee),R.d(Ee,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>xr,_DEFAULT_ENTRY_NAME:()=>xn,_addComponent:()=>un,_addOrOverwriteComponent:()=>Ei,_apps:()=>yt,_clearComponents:()=>$t,_components:()=>ln,_getProvider:()=>ls,_registerComponent:()=>nn,_removeServiceInstance:()=>Qt,deleteApp:()=>ds,getApp:()=>Or,getApps:()=>us,initializeApp:()=>$i,onLog:()=>tr,registerVersion:()=>Wr,setLogLevel:()=>Wn});var d=R(5861),K=R(4859),P=R(1877),ae=R(2090);class X{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function ge(Qe){const Ie=Qe.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(tt)){const mt=tt.getImmediate();return`${mt.library}/${mt.version}`}return null}).filter(tt=>tt).join(" ")}}const re="@firebase/app",le=new P.Yd("@firebase/app"),xn="[DEFAULT]",ht={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yt=new Map,ln=new Map;function un(Qe,Ie){try{Qe.container.addComponent(Ie)}catch(tt){le.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Qe.name}`,tt)}}function Ei(Qe,Ie){Qe.container.addOrOverwriteComponent(Ie)}function nn(Qe){const Ie=Qe.name;if(ln.has(Ie))return le.debug(`There were multiple attempts to register component ${Ie}.`),!1;ln.set(Ie,Qe);for(const tt of yt.values())un(tt,Qe);return!0}function ls(Qe,Ie){const tt=Qe.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),Qe.container.getProvider(Ie)}function Qt(Qe,Ie,tt=xn){ls(Qe,Ie).clearInstance(tt)}function $t(){ln.clear()}const ei=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ps{constructor(Ie,tt,mt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=mt,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}const xr="9.6.11";function $i(Qe,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const tt=Object.assign({name:xn,automaticDataCollectionEnabled:!1},Ie),mt=tt.name;if("string"!=typeof mt||!mt)throw ei.create("bad-app-name",{appName:String(mt)});const Ut=yt.get(mt);if(Ut){if((0,ae.vZ)(Qe,Ut.options)&&(0,ae.vZ)(tt,Ut.config))return Ut;throw ei.create("duplicate-app",{appName:mt})}const zt=new K.H0(mt);for(const V of ln.values())zt.addComponent(V);const B=new Ps(Qe,tt,zt);return yt.set(mt,B),B}function Or(Qe=xn){const Ie=yt.get(Qe);if(!Ie)throw ei.create("no-app",{appName:Qe});return Ie}function us(){return Array.from(yt.values())}function ds(Qe){return ft.apply(this,arguments)}function ft(){return(ft=(0,d.Z)(function*(Qe){const Ie=Qe.name;yt.has(Ie)&&(yt.delete(Ie),yield Promise.all(Qe.container.getProviders().map(tt=>tt.delete())),Qe.isDeleted=!0)})).apply(this,arguments)}function Wr(Qe,Ie,tt){var mt;let Ut=null!==(mt=ht[Qe])&&void 0!==mt?mt:Qe;tt&&(Ut+=`-${tt}`);const zt=Ut.match(/\s|\//),B=Ie.match(/\s|\//);if(zt||B){const V=[`Unable to register library "${Ut}" with version "${Ie}":`];return zt&&V.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),zt&&B&&V.push("and"),B&&V.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void le.warn(V.join(" "))}nn(new K.wA(`${Ut}-version`,()=>({library:Ut,version:Ie}),"VERSION"))}function tr(Qe,Ie){if(null!==Qe&&"function"!=typeof Qe)throw ei.create("invalid-log-argument");(0,P.Am)(Qe,Ie)}function Wn(Qe){(0,P.Ub)(Qe)}const vn="firebase-heartbeat-store";let nr=null;function Ls(){return nr||(nr=(0,ae.X3)("firebase-heartbeat-database",1,(Qe,Ie)=>{0===Ie&&Qe.createObjectStore(vn)}).catch(Qe=>{throw ei.create("storage-open",{originalErrorMessage:Qe.message})})),nr}function Wt(){return(Wt=(0,d.Z)(function*(Qe){try{return(yield Ls()).transaction(vn).objectStore(vn).get(or(Qe))}catch(Ie){throw ei.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function at(Qe,Ie){return wt.apply(this,arguments)}function wt(){return(wt=(0,d.Z)(function*(Qe,Ie){try{const mt=(yield Ls()).transaction(vn,"readwrite");return yield mt.objectStore(vn).put(Ie,or(Qe)),mt.complete}catch(tt){throw ei.create("storage-set",{originalErrorMessage:tt.message})}})).apply(this,arguments)}function or(Qe){return`${Qe.name}!${Qe.options.appId}`}class po{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new gt(tt),this._heartbeatsCachePromise=this._storage.read().then(mt=>(this._heartbeatsCache=mt,mt))}triggerHeartbeat(){var Ie=this;return(0,d.Z)(function*(){const mt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=mr();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!Ie._heartbeatsCache.heartbeats.some(zt=>zt.date===Ut))return Ie._heartbeatsCache.heartbeats.push({date:Ut,agent:mt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(zt=>{const B=new Date(zt.date).valueOf();return Date.now()-B<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,d.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const tt=mr(),{heartbeatsToSend:mt,unsentEntries:Ut}=function ar(Qe,Ie=1024){const tt=[];let mt=Qe.slice();for(const Ut of Qe){const zt=tt.find(B=>B.agent===Ut.agent);if(zt){if(zt.dates.push(Ut.date),vr(tt)>Ie){zt.dates.pop();break}}else if(tt.push({agent:Ut.agent,dates:[Ut.date]}),vr(tt)>Ie){tt.pop();break}mt=mt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:mt}}(Ie._heartbeatsCache.heartbeats),zt=(0,ae.L)(JSON.stringify({version:2,heartbeats:mt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=tt,Ut.length>0?(Ie._heartbeatsCache.heartbeats=Ut,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),zt})()}}function mr(){return(new Date).toISOString().substring(0,10)}class gt{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,d.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function Ea(Qe){return Wt.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var tt=this;return(0,d.Z)(function*(){var mt;if(yield tt._canUseIndexedDBPromise){const zt=yield tt.read();return at(tt.app,{lastSentHeartbeatDate:null!==(mt=Ie.lastSentHeartbeatDate)&&void 0!==mt?mt:zt.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var tt=this;return(0,d.Z)(function*(){var mt;if(yield tt._canUseIndexedDBPromise){const zt=yield tt.read();return at(tt.app,{lastSentHeartbeatDate:null!==(mt=Ie.lastSentHeartbeatDate)&&void 0!==mt?mt:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...Ie.heartbeats]})}})()}}function vr(Qe){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Qe})).length}!function Bt(Qe){nn(new K.wA("platform-logger",Ie=>new X(Ie),"PRIVATE")),nn(new K.wA("heartbeat",Ie=>new po(Ie),"PRIVATE")),Wr(re,"0.7.21",Qe),Wr(re,"0.7.21","esm2017"),Wr("fire-js","")}("")},4859:(lt,Ee,R)=>{R.d(Ee,{H0:()=>he,wA:()=>P});var d=R(5861),K=R(2090);class P{constructor(U,j,Q){this.name=U,this.instanceFactory=j,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ae="[DEFAULT]";class X{constructor(U,j){this.name=U,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const j=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(j)){const Q=new K.BH;if(this.instancesDeferred.set(j,Q),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:j});Ze&&Q.resolve(Ze)}catch(Ze){}}return this.instancesDeferred.get(j).promise}getImmediate(U){var j;const Q=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),Ze=null!==(j=null==U?void 0:U.optional)&&void 0!==j&&j;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Me){if(Ze)return null;throw Me}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function re(le){return"EAGER"===le.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(j){}for(const[j,Q]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(j);try{const Me=this.getOrInitializeService({instanceIdentifier:Ze});Q.resolve(Me)}catch(Me){}}}}clearInstance(U=ae){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,d.Z)(function*(){const j=Array.from(U.instances.values());yield Promise.all([...j.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...j.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ae){return this.instances.has(U)}getOptions(U=ae){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:j={}}=U,Q=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:Q,options:j});for(const[Me,ke]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Me)&&ke.resolve(Ze);return Ze}onInit(U,j){var Q;const Ze=this.normalizeInstanceIdentifier(j),Me=null!==(Q=this.onInitCallbacks.get(Ze))&&void 0!==Q?Q:new Set;Me.add(U),this.onInitCallbacks.set(Ze,Me);const ke=this.instances.get(Ze);return ke&&U(ke,Ze),()=>{Me.delete(U)}}invokeOnInitCallbacks(U,j){const Q=this.onInitCallbacks.get(j);if(Q)for(const Ze of Q)try{Ze(U,j)}catch(Me){}}getOrInitializeService({instanceIdentifier:U,options:j={}}){let Q=this.instances.get(U);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(le=U,le===ae?void 0:le),options:j}),this.instances.set(U,Q),this.instancesOptions.set(U,j),this.invokeOnInitCallbacks(Q,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,Q)}catch(Ze){}var le;return Q||null}normalizeInstanceIdentifier(U=ae){return this.component?this.component.multipleInstances?U:ae:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const j=this.getProvider(U.name);if(j.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);j.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const j=new X(U,this);return this.providers.set(U,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,Ee,R)=>{R.d(Ee,{Am:()=>le,Ub:()=>he,Yd:()=>re,in:()=>K});const d=[];var K=(()=>{return(U=K||(K={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",K;var U})();const P={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ae=K.INFO,X={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},ge=(U,j,...Q)=>{if(j<U.logLevel)return;const Ze=(new Date).toISOString(),Me=X[j];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Me](`[${Ze}]  ${U.name}:`,...Q)};class re{constructor(j){this.name=j,this._logLevel=ae,this._logHandler=ge,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in K))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?P[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...j),this._logHandler(this,K.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...j),this._logHandler(this,K.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,K.INFO,...j),this._logHandler(this,K.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,K.WARN,...j),this._logHandler(this,K.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...j),this._logHandler(this,K.ERROR,...j)}}function he(U){d.forEach(j=>{j.setLogLevel(U)})}function le(U,j){for(const Q of d){let Ze=null;j&&j.level&&(Ze=P[j.level]),Q.userLogHandler=null===U?null:(Me,ke,...ze)=>{const fe=ze.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(rt){return null}}).filter(Ce=>Ce).join(" ");ke>=(null!=Ze?Ze:Me.logLevel)&&U({level:K[ke].toLowerCase(),message:fe,args:ze,type:Me.name})}}}},5861:(lt,Ee,R)=>{function d(P,ae,X,ge,re,he,le){try{var U=P[he](le),j=U.value}catch(Q){return void X(Q)}U.done?ae(j):Promise.resolve(j).then(ge,re)}function K(P){return function(){var ae=this,X=arguments;return new Promise(function(ge,re){var he=P.apply(ae,X);function le(j){d(he,ge,re,le,U,"next",j)}function U(j){d(he,ge,re,le,U,"throw",j)}le(void 0)})}}R.d(Ee,{Z:()=>K})}},lt=>{lt(lt.s=1510)}]);